{
	"charEncode":"UTF-8",
	"cname":"库存树形结构",
	"code":"carstorage_treeCarStorage",
	"createTime":1463455540141,
	"createrId":"001",
	"createrName":"CAP超级管理员",
	"crudeUIIds":"",
	"crudeUINames":"",
	"dataStoreVOList":[
		{
			"cname":"页面全局参数",
			"ename":"environmentVariable",
			"entityId":"",
			"modelType":"environmentVariable",
			"pageConstantList":[],
			"saveToSession":false,
			"verifyIdList":[]
		},
		{
			"cname":"页面传入参数",
			"ename":"pageParam",
			"entityId":"",
			"modelType":"pageParam",
			"pageConstantList":[],
			"saveToSession":false,
			"verifyIdList":[]
		},
		{
			"cname":"页面用户权限",
			"ename":"rightsVariable",
			"entityId":"",
			"modelType":"rightsVariable",
			"pageConstantList":[],
			"saveToSession":false,
			"verifyIdList":[]
		},
		{
			"cname":"页面常量",
			"ename":"pageConstantList",
			"entityId":"",
			"modelType":"pageConstant",
			"pageConstantList":[],
			"saveToSession":false,
			"verifyIdList":[]
		},
		{
			"cname":"车库管理",
			"ename":"carstorage",
			"entityId":"com.comtop.carstorage.entity.Carstorage",
			"modelType":"object",
			"pageConstantList":[],
			"saveToSession":false,
			"verifyIdList":[]
		}
	],
	"description":"",
	"hasMenu":false,
	"hasPermission":true,
	"includeFileList":[
		{
			"defaultReference":true,
			"fileName":"base",
			"filePath":"/cap/rt/common/base/css/base.css",
			"fileType":"css"
		},
		{
			"defaultReference":true,
			"fileName":"comtop.cap.rt",
			"filePath":"/cap/rt/common/base/css/comtop.cap.rt.css",
			"fileType":"css"
		},
		{
			"defaultReference":true,
			"fileName":"comtop.ui.min",
			"filePath":"/cap/rt/common/cui/themes/default/css/comtop.ui.min.css",
			"fileType":"css"
		},
		{
			"defaultReference":true,
			"fileName":"jquery",
			"filePath":"/cap/rt/common/base/js/jquery.js",
			"fileType":"js"
		},
		{
			"defaultReference":true,
			"fileName":"comtop.ui.min",
			"filePath":"/cap/rt/common/cui/js/comtop.ui.min.js",
			"fileType":"js"
		},
		{
			"defaultReference":true,
			"fileName":"comtop.cap.rt",
			"filePath":"/cap/rt/common/base/js/comtop.cap.rt.js",
			"fileType":"js"
		},
		{
			"defaultReference":true,
			"fileName":"cui.utils",
			"filePath":"/cap/rt/common/cui/js/cui.utils.js",
			"fileType":"js"
		},
		{
			"defaultReference":true,
			"fileName":"globalVars",
			"filePath":"/cap/rt/common/globalVars.js",
			"fileType":"js"
		},
		{
			"defaultReference":true,
			"fileName":"Taglibs",
			"filePath":"/cap/rt/common/CapRtTaglibs.jsp",
			"fileType":"jsp"
		}
	],
	"layoutVO":{
		"children":[{
			"children":[{
				"children":[{
					"children":[{
						"children":[],
						"componentModelId":"uicomponent.common.component.tree",
						"id":"uiid-177415108284913",
						"options":{
							"checkbox":false,
							"children":"initTreeDatasource",
							"children_id":"1463477425582",
							"id":"treeCode",
							"label":"树",
							"on_lazy_read":"treeLazyReadyEvent",
							"on_lazy_read_id":"1463478643728",
							"select_mode":1,
							"uitype":"Tree"
						},
						"type":"ui",
						"uiType":"Tree"
					}],
					"componentModelId":"uicomponent.layout.component.tableLayout",
					"id":"tdid-9662628152174875",
					"options":{
						"label":"单元格",
						"uitype":"Td"
					},
					"type":"layout",
					"uiType":"td"
				}],
				"id":"trid-604286807612516",
				"options":{
					"uitype":"tr"
				},
				"type":"layout",
				"uiType":"tr"
			}],
			"id":"tableid-9774112594081089",
			"options":{
				"label":"表格布局",
				"uitype":"table"
			},
			"type":"layout",
			"uiType":"table"
		}],
		"options":{}
	},
	"menuName":"",
	"menuType":"1",
	"minWidth":"1024px",
	"modelId":"com.comtop.carstorage.page.TreeCarStorage",
	"modelName":"TreeCarStorage",
	"modelPackage":"com.comtop.carstorage",
	"modelPackageId":"BFCD9F0A57FF49E889803A071D076BF6",
	"modelType":"page",
	"pageActionVOList":[
		{
			"cname":"初始化树的数据源",
			"description":"初始化树数据源",
			"ename":"initTreeDatasource",
			"methodBody":"\t\t\n/*\n * 初始化树的数据源 初始化树数据源\n * \n * 初始化Tree的数据源\n *\n * @param obj 树对象\n */\t\t\nfunction initTreeDatasource(obj){\n    //数据源\n\tvar datasoure = [];\n\t\n\tvar paramArray = [];\n\tvar paramsStr = 'carstorage';\n\tif(paramsStr != ''){\n\t\tparamArray = paramsStr.split(',');\n\t}\n\tvar varName = \"initTreeDatasource_tree_mapping\";\n\tparamArray.splice(0,0,varName);\n\twindow[varName]={};\n\tvar mapping= window[varName];\n\t//树形结构和实体关系\n\tmapping[\"key\"]=cap.getStringLastValue('carstorage.treeId',\".\");\n\tmapping[\"parentKey\"]=cap.getStringLastValue('carstorage.treeParentId',\".\");\n\tmapping[\"title\"]=cap.getStringLastValue('carstorage.name',\".\");\n\tmapping[\"isLazy\"]=true;\n\tmapping[\"icon\"]=\"/web/top/sys/images/closeicon.gif\";\n\tmapping[\"isExpand\"]=false;\t   \n\tcarstorage[\"_id\"]=\"\";\n\t//请求前调用\n    \n\tvar aliasEntityId = '';\n\taliasEntityId = aliasEntityId != '' ? aliasEntityId :  'com.comtop.carstorage.entity.Carstorage';\n\tdwr.TOPEngine.setAsync(false);\n\tvar dwrInvokeParam = cap.getDwrInvokeParam(aliasEntityId,'getTreeAllData',paramArray);\n\t//TODO  调用后台前处理逻辑\n\n\tTreeCarStorageAction.convertToTreeJSON(dwrInvokeParam,{callback:function(data){\n\t\tdatasoure = cui.utils.parseJSON(data);\n\n\t},\n\terrorHandler:function(message, exception){\n\t\t   //TODO 后台异常信息回调\n\t\t   var message =\"调用后台服务失败,存在异常信息:\"+message;\n\n\t\t   cui.message(message);\n\t}\n\t});\n\tdwr.TOPEngine.setAsync(true);\n\t//展开根节点\n\tdatasoure.expand =true;\n\t//取消树的末节点的懒加载\n\tcap.lookupTreeChild(datasoure.children);\n\t\n\t//TODO 可自定义修改返回数据源\n    \n\tobj.setDatasource(datasoure);\n}\n\t\t\n\t\n",
			"methodBodyExtend":{
				"afterCallback":"",
				"before":"",
				"processParamter":"    ",
				"saveErrorHandler":"",
				"setReturnVal":"    "
			},
			"methodOption":{
				"actionMethodName":"getTreeAllData",
				"entityId":"com.comtop.carstorage.entity.Carstorage",
				"isGenerateParameterForm":"",
				"methodId":"com.comtop.carstorage.entity.Carstorage/getTreeAllData",
				"methodParameter":"{{methodOption.methodParameter1}}",
				"methodParameter1":"carstorage",
				"paramType":"[{\"chName\":\"car\",\"dataType\":{\"generic\":null,\"source\":\"entity\",\"type\":\"entity\",\"value\":\"com.comtop.carstorage.entity.Carstorage\"},\"description\":\"car\",\"engName\":\"car\",\"parameterId\":\"1463998556305\",\"sortNo\":0}]",
				"returnSource":"collection",
				"returnValueBind":"carstorage",
				"treeIdParam":"carstorage.treeId",
				"treeNameParam":"carstorage.name",
				"treeParentIdParam":"carstorage.treeParentId"
			},
			"methodTemplate":"actionlibrary.bestPracticeAction.treeAction.action.initTreeDatasource",
			"pageActionId":"1463477425582"
		},
		{
			"cname":"树懒加载完毕事件",
			"description":"树懒加载完毕事件",
			"ename":"treeLazyReadyEvent",
			"methodBody":"\t\t\n/*\n * 树懒加载完毕事件 树懒加载完毕事件\n * \n * 树懒加载完毕事件\n *\n * @param node 节点对象\n */\t\t\nfunction treeLazyReadyEvent(node){\n    //数据源\n\tvar nodeData = node.getData().data;\n\tcarstorage=nodeData;\n\t\n\tvar datasoure = [];\n\tvar paramArray = [];\n\tvar paramsStr = 'carstorage';\n\tif(paramsStr != ''){\n\t\tparamArray = paramsStr.split(',');\n\t}\n\tvar varName = \"treeLazyReadyEvent_tree_mapping\";\n\tparamArray.splice(0,0,varName);\n\twindow[varName]={};\n\tvar mapping= window[varName];\n\t//树形结构和实体关系\n\tmapping[\"key\"]=cap.getStringLastValue('carstorage.treeId',\".\");\n\tmapping[\"parentKey\"]=cap.getStringLastValue('carstorage.treeParentId',\".\");\n\tmapping[\"title\"]=cap.getStringLastValue('carstorage.name',\".\");\n\tmapping[\"isLazy\"]=true;\n\tmapping[\"icon\"]=\"/web/top/sys/images/closeicon.gif\";\n\tmapping[\"isExpand\"]=false;\n\t\n\t//请求前调用\n    \n\tvar aliasEntityId = '';\n\taliasEntityId = aliasEntityId != '' ? aliasEntityId :  'com.comtop.carstorage.entity.Carstorage';\n\tdwr.TOPEngine.setAsync(false);\n\tvar dwrInvokeParam = cap.getDwrInvokeParam(aliasEntityId,'getChildData',paramArray);\n\t//TODO  调用后台前处理逻辑\n\n\tTreeCarStorageAction.convertToTreeJSON(dwrInvokeParam,{callback:function(data){\n\t   datasoure = cui.utils.parseJSON(data);  \n\n\t},\n\terrorHandler:function(message, exception){\n\t\t   //TODO 后台异常信息回调\n\t\t   var message =\"调用后台服务失败,存在异常信息:\"+message;\n\n\t\t   cui.message(message);\n\t}\n\t});\n\tdwr.TOPEngine.setAsync(true);\n\t//TODO 可自定义修改返回数据源\n\n    if(!$.isEmptyObject(datasoure) || ($.isArray(datasoure) && datasoure.length > 0 )){\n   \t   node.addChild(datasoure);\n    } else {\n   \t   node.addChild([]);\n    }\n}\n\t\t\n\t\n",
			"methodBodyExtend":{
				"after":"",
				"before":"",
				"processParamter":"    ",
				"saveErrorHandler":"",
				"setReturnVal":""
			},
			"methodOption":{
				"actionMethodName":"getChildData",
				"entityId":"com.comtop.carstorage.entity.Carstorage",
				"isGenerateParameterForm":"",
				"methodId":"com.comtop.carstorage.entity.Carstorage/getChildData",
				"methodParameter":"{{methodOption.methodParameter1}}",
				"methodParameter1":"carstorage",
				"paramType":"[{\"chName\":\"car\",\"dataType\":{\"generic\":null,\"source\":\"entity\",\"type\":\"entity\",\"value\":\"com.comtop.carstorage.entity.Carstorage\"},\"description\":\"xxx\",\"engName\":\"car\",\"parameterId\":\"1463998569888\",\"sortNo\":0}]",
				"returnSource":"collection",
				"returnValueBind":"carstorage",
				"treeIdParam":"carstorage.treeId",
				"treeNameParam":"carstorage.name",
				"treeParentIdParam":"carstorage.treeParentId"
			},
			"methodTemplate":"actionlibrary.bestPracticeAction.treeAction.action.treeLazyReadyEvent",
			"pageActionId":"1463478643728"
		},
		{
			"cname":"树点击事件(新版)",
			"description":"tree节点点击事件(新版)",
			"ename":"treeClickEvent",
			"methodBody":"\t\t\n/*\n * 树点击事件(新版) tree节点点击事件(新版)\n * \n * 树组件提供有节点单击和双击事件。\n *\n * @param node Node类型，当前的节点对象\n * @param event 当前的点击事件\n */\nfunction treeClickEvent(node,event) { \n    //获取主页面frame对象\n\tvar frame = window.parent.frames[1];\n\t//给业务数据赋值 自定义添加\n\n\t//调用查询\n\tif(frame){\n\t  frame.queryData();\n\t}\n\t//可自定义修改\n\n}\n\t\t\n\t\n",
			"methodBodyExtend":{
				"before":"",
				"biz":""
			},
			"methodOption":{
				"actionMethodName":"",
				"methodParameter1":"",
				"returnValueBind":"",
				"treeIdParam":"",
				"treeNameParam":"",
				"treeParentIdParam":""
			},
			"methodTemplate":"actionlibrary.bestPracticeAction.treeAction.action.treeClickEvent",
			"pageActionId":"1463623479602"
		}
	],
	"pageAttributeVOList":[],
	"pageComponentExpressionVOList":[],
	"pageId":"93FF15510C4F4B5BA882DDCC24A16D1E",
	"pageMinWidth":"600px",
	"pageType":1,
	"parentId":"1EB6F0B5F1694DBF8436281812055A42",
	"parentName":"车库管理",
	"state":true,
	"url":"/carstorage/treeCarStorage.ac"
}