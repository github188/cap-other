<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<action>
    <modelId>actionlibrary.bestPracticeAction.action.clearQueryCondition</modelId>
    <modelName>clearQueryCondition</modelName>
    <modelPackage>actionlibrary.bestPracticeAction</modelPackage>
    <modelType>action</modelType>
    <cname>条件查询事件-清空条件</cname>
	<description>条件查询事件-清空条件</description>
	<propertyEditor>auto</propertyEditor>
	<propertyEditorPage></propertyEditorPage>
	<js>
	</js>
	<script>
		<![CDATA[
/*
 * 清空搜索条件
 */
function {{ename}}(){
	<script name="step1"/>
    cui({{methodOption.queryCondition}}).databind().setEmpty();
    <script name="step2"/>
    //获取查询条件表单所有数据
    var gridId='#{{methodOption.relationGridId}}';
    var data = cui({{methodOption.queryCondition}}).databind().getValue();
    <script name="step3"/>
    //重新加载数据，loadData时，会重新调用initData
    cui(gridId).setQuery({pageNo:1});
    cui(gridId).loadData();
}

]]>
	</script>
	<properties>
		<property>
			<cname>关联GridId</cname>
			<ename>relationGridId</ename>
			<type>String</type>
			<requried>true</requried>
			<default></default>
			<description>关联表格控件选择</description>
			<!--页面选择控件-->
			<propertyEditorUI>
				<componentName>cui_clickinput</componentName>
				<script>
				<![CDATA[ 
					{
						'id': 'relationGridId',
						'ng-model':'relationGridId',
						'onclick':'openComponentSelect(1)'
					}
				]]>
				</script>
			</propertyEditorUI>
		</property>
		<property>
			<cname>选择查询数据</cname>
			<ename>queryCondition</ename>
			<type>Object</type>
			<requried>true</requried>
			<default></default>
			<description>选择查询区域数据对象</description>
			<!--页面选择控件-->
			<propertyEditorUI>
				<componentName>cui_clickinput</componentName>
				<script>
				<![CDATA[ 
					{
						'id': 'queryCondition',
						'ng-model':'queryCondition',
						'onclick':'openDataStoreSelect(\'queryCondition\',null)'
					}
				]]>
				</script>
			</propertyEditorUI>
		</property>
		<property>
			<cname>行为类型</cname>
			<ename>actionType</ename>
			<type>String</type>
			<requried>true</requried>
			<default></default>
			<description>行为类型</description>
			<propertyEditorUI>
			<componentName>cui_pulldown</componentName>
			<script>
				<![CDATA[ 
					{
					'id': 'actionType',
					'ng-model':'actionType',
					'datasource':"[{id:'editLink', text:'编辑链接'},{id:'save', text:'保存'},{id:'insertGrid', text:'grid新增'},{id:'deleteGrid', text:'grid删除'},{id:'insert', text:'新增'},{id:'delete', text:'删除'},{id:'update', text:'修改'},{id:'query', text:'查询'},{id:'view', text:'查看'},{id:'report', text:'上报'},{id:'send', text:'下发'},{id:'back', text:'回退'},{id:'undo', text:'撤回'},{id:'editReport', text:'编辑上报'},{id:'editSend', text:'编辑下发'},{id:'editSaveAndReport', text:'编辑保存并上报'},{id:'editSaveAndSend', text:'编辑保存并发送'}]",
					'value_field':'id',
					'label_field':'text'
					}
					]]>
				</script>
			</propertyEditorUI>
		</property>
	</properties>
</action>