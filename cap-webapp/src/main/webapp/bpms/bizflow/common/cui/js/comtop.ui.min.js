/**
 * CUI project was create in COMTOP Technology Research  Center.
 * @author linchaoqun@szcomtop.com
 * @author chenxuming@szcomtop.com
*/

/*! cuiV4.2.25-build20150131*/

function _log(a){if(_canLog){var b=Array.prototype.slice.apply(arguments,[1]),c=new Date,d=c.getHours()+":"+c.getMinutes()+":"+c.getSeconds()+"."+c.getMilliseconds();b[0]=d+" - "+b[0];try{switch(a){case"info":window.console.info.apply(window.console,b);break;case"warn":window.console.warn.apply(window.console,b);break;default:window.console.log.apply(window.console,b)}}catch(e){window.console||(_canLog=!1)}}}function logMsg(){Array.prototype.unshift.apply(arguments,["debug"]),_log.apply(this,arguments)}window.comtop=window.comtop||{},function(a,b){function c(a){var b=ob[a]={};return $.each(a.split(bb),function(a,c){b[c]=!0}),b}function d(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(qb,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:pb.test(d)?$.parseJSON(d):d}catch(f){}$.data(a,c,d)}else d=b}return d}function e(a){var b;for(b in a)if(("data"!==b||!$.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function f(){return!1}function g(){return!0}function h(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function i(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function j(a,b,c){if(b=b||0,$.isFunction(b))return $.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return $.grep(a,function(a){return a===b===c});if("string"==typeof b){var d=$.grep(a,function(a){return 1===a.nodeType});if(Kb.test(b))return $.filter(b,d,!c);b=$.filter(b,d)}return $.grep(a,function(a){return $.inArray(a,b)>=0===c})}function k(a){var b=Nb.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function l(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function m(a,b){if(1===b.nodeType&&$.hasData(a)){var c,d,e,f=$._data(a),g=$._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)$.event.add(b,c,h[c][d])}g.data&&(g.data=$.extend({},g.data))}}function n(a,b){var c;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),$.support.html5Clone&&a.innerHTML&&!$.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Xb.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&(b.text=a.text),b.removeAttribute($.expando))}function o(a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function p(a){Xb.test(a.type)&&(a.defaultChecked=a.checked)}function q(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=rc.length;e--;)if(b=rc[e]+c,b in a)return b;return d}function r(a,b){return a=b||a,"none"===$.css(a,"display")||!$.contains(a.ownerDocument,a)}function s(a,b){for(var c,d,e=[],f=0,g=a.length;g>f;f++)c=a[f],c.style&&(e[f]=$._data(c,"olddisplay"),b?(e[f]||"none"!==c.style.display||(c.style.display=""),""===c.style.display&&r(c)&&(e[f]=$._data(c,"olddisplay",w(c.nodeName)))):(d=cc(c,"display"),e[f]||"none"===d||$._data(c,"olddisplay",d)));for(f=0;g>f;f++)c=a[f],c.style&&(b&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=b?e[f]||"":"none"));return a}function t(a,b,c){var d=kc.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function u(a,b,c,d){for(var e=c===(d?"border":"content")?4:"width"===b?1:0,f=0;4>e;e+=2)"margin"===c&&(f+=$.css(a,c+qc[e],!0)),d?("content"===c&&(f-=parseFloat(cc(a,"padding"+qc[e]))||0),"margin"!==c&&(f-=parseFloat(cc(a,"border"+qc[e]+"Width"))||0)):(f+=parseFloat(cc(a,"padding"+qc[e]))||0,"padding"!==c&&(f+=parseFloat(cc(a,"border"+qc[e]+"Width"))||0));return f}function v(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,e=!0,f=$.support.boxSizing&&"border-box"===$.css(a,"boxSizing");if(0>=d||null==d){if(d=cc(a,b),(0>d||null==d)&&(d=a.style[b]),lc.test(d))return d;e=f&&($.support.boxSizingReliable||d===a.style[b]),d=parseFloat(d)||0}return d+u(a,b,c||(f?"border":"content"),e)+"px"}function w(a){if(nc[a])return nc[a];var b=$("<"+a+">").appendTo(P.body),c=b.css("display");return b.remove(),("none"===c||""===c)&&(dc=P.body.appendChild(dc||$.extend(P.createElement("iframe"),{frameBorder:0,width:0,height:0})),ec&&dc.createElement||(ec=(dc.contentWindow||dc.contentDocument).document,ec.write("<!doctype html><html><body>"),ec.close()),b=ec.body.appendChild(ec.createElement(a)),c=cc(b,"display"),P.body.removeChild(dc)),nc[a]=c,c}function x(a,b,c,d){var e;if($.isArray(b))$.each(b,function(b,e){c||uc.test(a)?d(a,e):x(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==$.type(b))d(a,b);else for(e in b)x(a+"["+e+"]",b[e],c,d)}function y(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e,f,g=b.toLowerCase().split(bb),h=0,i=g.length;if($.isFunction(c))for(;i>h;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function z(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;for(var h,i=a[f],j=0,k=i?i.length:0,l=a===Kc;k>j&&(l||!h);j++)h=i[j](c,d,e),"string"==typeof h&&(!l||g[h]?h=b:(c.dataTypes.unshift(h),h=z(a,c,d,e,h,g)));return!l&&h||g["*"]||(h=z(a,c,d,e,"*",g)),h}function A(a,c){var d,e,f=$.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&$.extend(!0,a,e)}function B(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);for(;"*"===j[0];)j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}return g?(g!==j[0]&&j.unshift(g),d[g]):void 0}function C(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;if(a.dataFilter&&(b=a.dataFilter(b,a.dataType)),g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if("*"!==e){if("*"!==h&&h!==e){if(c=i[h+" "+e]||i["* "+e],!c)for(d in i)if(f=d.split(" "),f[1]===e&&(c=i[h+" "+f[0]]||i["* "+f[0]])){c===!0?c=i[d]:i[d]!==!0&&(e=f[0],g.splice(j--,0,e));break}if(c!==!0)if(c&&a["throws"])b=c(b);else try{b=c(b)}catch(k){return{state:"parsererror",error:c?k:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function D(){try{return new a.XMLHttpRequest}catch(b){}}function E(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function F(){return setTimeout(function(){Vc=b},0),Vc=$.now()}function G(a,b){$.each(b,function(b,c){for(var d=(_c[b]||[]).concat(_c["*"]),e=0,f=d.length;f>e;e++)if(d[e].call(a,b,c))return})}function H(a,b,c){var d,e=0,f=$c.length,g=$.Deferred().always(function(){delete h.elem}),h=function(){for(var b=Vc||F(),c=Math.max(0,i.startTime+i.duration-b),d=1-(c/i.duration||0),e=0,f=i.tweens.length;f>e;e++)i.tweens[e].run(d);return g.notifyWith(a,[i,d,c]),1>d&&f?c:(g.resolveWith(a,[i]),!1)},i=g.promise({elem:a,props:$.extend({},b),opts:$.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Vc||F(),duration:c.duration,tweens:[],createTween:function(b,c){var d=$.Tween(a,i.opts,b,c,i.opts.specialEasing[b]||i.opts.easing);return i.tweens.push(d),d},stop:function(b){for(var c=0,d=b?i.tweens.length:0;d>c;c++)i.tweens[c].run(1);return b?g.resolveWith(a,[i,b]):g.rejectWith(a,[i,b]),this}}),j=i.props;for(I(j,i.opts.specialEasing);f>e;e++)if(d=$c[e].call(i,a,j,i.opts))return d;return G(i,j),$.isFunction(i.opts.start)&&i.opts.start.call(a,i),$.fx.timer($.extend(h,{anim:i,queue:i.opts.queue,elem:a})),i.progress(i.opts.progress).done(i.opts.done,i.opts.complete).fail(i.opts.fail).always(i.opts.always)}function I(a,b){var c,d,e,f,g;for(c in a)if(d=$.camelCase(c),e=b[d],f=a[c],$.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=$.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function J(a,b,c){var d,e,f,g,h,i,j,k,l=this,m=a.style,n={},o=[],p=a.nodeType&&r(a);c.queue||(j=$._queueHooks(a,"fx"),null==j.unqueued&&(j.unqueued=0,k=j.empty.fire,j.empty.fire=function(){j.unqueued||k()}),j.unqueued++,l.always(function(){l.always(function(){j.unqueued--,$.queue(a,"fx").length||j.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],"inline"===$.css(a,"display")&&"none"===$.css(a,"float")&&($.support.inlineBlockNeedsLayout&&"inline"!==w(a.nodeName)?m.zoom=1:m.display="inline-block")),c.overflow&&(m.overflow="hidden",$.support.shrinkWrapBlocks||l.done(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b)if(f=b[d],Xc.exec(f)){if(delete b[d],f===(p?"hide":"show"))continue;o.push(d)}if(g=o.length)for(h=$._data(a,"fxshow")||$._data(a,"fxshow",{}),p?$(a).show():l.done(function(){$(a).hide()}),l.done(function(){var b;$.removeData(a,"fxshow",!0);for(b in n)$.style(a,b,n[b])}),d=0;g>d;d++)e=o[d],i=l.createTween(e,p?h[e]:0),n[e]=h[e]||$.style(a,e),e in h||(h[e]=i.start,p&&(i.end=i.start,i.start="width"===e||"height"===e?1:0))}function K(a,b,c,d,e){return new K.prototype.init(a,b,c,d,e)}function L(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=qc[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function M(a){return $.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}if(!a.__hasCUILoad){var N,O,P=a.document,Q=a.location,R=a.navigator,S=a.jQuery,T=a.$,U=Array.prototype.push,V=Array.prototype.slice,W=Array.prototype.indexOf,X=Object.prototype.toString,Y=Object.prototype.hasOwnProperty,Z=String.prototype.trim,$=function(a,b){return new $.fn.init(a,b,N)},_=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,ab=/\S/,bb=/\s+/,cb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,db=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,eb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fb=/^[\],:{}\s]*$/,gb=/(?:^|:|,)(?:\s*\[)+/g,hb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ib=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,jb=/^-ms-/,kb=/-([\da-z])/gi,lb=function(a,b){return(b+"").toUpperCase()},mb=function(){P.addEventListener?(P.removeEventListener("DOMContentLoaded",mb,!1),$.ready()):"complete"===P.readyState&&(P.detachEvent("onreadystatechange",mb),$.ready())},nb={};$.fn=$.prototype={constructor:$,init:function(a,c,d){var e,f,g;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:db.exec(a),!e||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1])return c=c instanceof $?c[0]:c,g=c&&c.nodeType?c.ownerDocument||c:P,a=$.parseHTML(e[1],g,!0),eb.test(e[1])&&$.isPlainObject(c)&&this.attr.call(a,c,!0),$.merge(this,a);if(f=P.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=P,this.selector=a,this}return $.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),$.makeArray(a,this))},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return V.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=$.merge(this.constructor(),a);return d.prevObject=this,d.context=this.context,"find"===b?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return $.each(this,a,b)},ready:function(a){return $.ready.promise().done(a),this},eq:function(a){return a=+a,-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(V.apply(this,arguments),"slice",V.call(arguments).join(","))},map:function(a){return this.pushStack($.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:[].sort,splice:[].splice},$.fn.init.prototype=$.fn,$.extend=$.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||$.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(a=arguments[i]))for(c in a)d=h[c],e=a[c],h!==e&&(k&&e&&($.isPlainObject(e)||(f=$.isArray(e)))?(f?(f=!1,g=d&&$.isArray(d)?d:[]):g=d&&$.isPlainObject(d)?d:{},h[c]=$.extend(k,g,e)):e!==b&&(h[c]=e));return h},$.extend({noConflict:function(b){return a.$===$&&(a.$=T),b&&a.jQuery===$&&(a.jQuery=S),$},isReady:!1,readyWait:1,holdReady:function(a){a?$.readyWait++:$.ready(!0)},ready:function(a){if(a===!0?!--$.readyWait:!$.isReady){if(!P.body)return setTimeout($.ready,1);$.isReady=!0,a!==!0&&--$.readyWait>0||(O.resolveWith(P,[$]),$.fn.trigger&&$(P).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===$.type(a)},isArray:Array.isArray||function(a){return"array"===$.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):nb[X.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==$.type(a)||a.nodeType||$.isWindow(a))return!1;try{if(a.constructor&&!Y.call(a,"constructor")&&!Y.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||Y.call(a,d)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){var d;return a&&"string"==typeof a?("boolean"==typeof b&&(c=b,b=0),b=b||P,(d=eb.exec(a))?[b.createElement(d[1])]:(d=$.buildFragment([a],b,c?null:[]),$.merge([],(d.cacheable?$.clone(d.fragment):d.fragment).childNodes))):null},parseJSON:function(b){return b&&"string"==typeof b?(b=$.trim(b),a.JSON&&a.JSON.parse?a.JSON.parse(b):fb.test(b.replace(hb,"@").replace(ib,"]").replace(gb,""))?new Function("return "+b)():void $.error("Invalid JSON: "+b)):null},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||$.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&ab.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(jb,"ms-").replace(kb,lb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,c,d){var e,f=0,g=a.length,h=g===b||$.isFunction(a);if(d)if(h){for(e in a)if(c.apply(a[e],d)===!1)break}else for(;g>f&&c.apply(a[f++],d)!==!1;);else if(h){for(e in a)if(c.call(a[e],e,a[e])===!1)break}else for(;g>f&&c.call(a[f],f,a[f++])!==!1;);return a},trim:Z&&!Z.call("\ufeff\xa0")?function(a){return null==a?"":Z.call(a)}:function(a){return null==a?"":(a+"").replace(cb,"")},makeArray:function(a,b){var c,d=b||[];return null!=a&&(c=$.type(a),null==a.length||"string"===c||"function"===c||"regexp"===c||$.isWindow(a)?U.call(d,a):$.merge(d,a)),d},inArray:function(a,b,c){var d;if(b){if(W)return W.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e,f,g=[],h=0,i=a.length,j=a instanceof $||i!==b&&"number"==typeof i&&(i>0&&a[0]&&a[i-1]||0===i||$.isArray(a));if(j)for(;i>h;h++)e=c(a[h],h,d),null!=e&&(g[g.length]=e);else for(f in a)e=c(a[f],f,d),null!=e&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(d=a[c],c=a,a=d),$.isFunction(a)?(e=V.call(arguments,2),f=function(){return a.apply(c,e.concat(V.call(arguments)))},f.guid=a.guid=a.guid||$.guid++,f):b},access:function(a,c,d,e,f,g,h){var i,j=null==d,k=0,l=a.length;if(d&&"object"==typeof d){for(k in d)$.access(a,c,k,d[k],1,g,e);f=1}else if(e!==b){if(i=h===b&&$.isFunction(e),j&&(i?(i=c,c=function(a,b,c){return i.call($(a),c)}):(c.call(a,e),c=null)),c)for(;l>k;k++)c(a[k],d,i?e.call(a[k],k,c(a[k],d)):e,h);f=1}return f?a:j?c.call(a):l?c(a[0],d):g},now:function(){return(new Date).getTime()}}),$.ready.promise=function(b){if(!O)if(O=$.Deferred(),"complete"===P.readyState)setTimeout($.ready,1);else if(P.addEventListener)P.addEventListener("DOMContentLoaded",mb,!1),a.addEventListener("load",$.ready,!1);else{P.attachEvent("onreadystatechange",mb),a.attachEvent("onload",$.ready);var c=!1;try{c=null==a.frameElement&&P.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!$.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}$.ready()}}()}return O.promise(b)},$.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){nb["[object "+b+"]"]=b.toLowerCase()}),N=$(P);var ob={};$.Callbacks=function(a){a="string"==typeof a?ob[a]||c(a):$.extend({},a);var d,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(d=a.memory&&b,e=!0,i=g||0,g=0,h=j.length,f=!0;j&&h>i;i++)if(j[i].apply(b[0],b[1])===!1&&a.stopOnFalse){d=!1;break}f=!1,j&&(k?k.length&&l(k.shift()):d?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function c(b){$.each(b,function(b,d){var e=$.type(d);"function"!==e||a.unique&&m.has(d)?d&&d.length&&"string"!==e&&c(d):j.push(d)})}(arguments),f?h=j.length:d&&(g=b,l(d))}return this},remove:function(){return j&&$.each(arguments,function(a,b){for(var c;(c=$.inArray(b,j,c))>-1;)j.splice(c,1),f&&(h>=c&&h--,i>=c&&i--)}),this},has:function(a){return $.inArray(a,j)>-1},empty:function(){return j=[],this},disable:function(){return j=k=d=b,this},disabled:function(){return!j},lock:function(){return k=b,d||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],!j||e&&!k||(f?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!e}};return m},$.extend({Deferred:function(a){var b=[["resolve","done",$.Callbacks("once memory"),"resolved"],["reject","fail",$.Callbacks("once memory"),"rejected"],["notify","progress",$.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return $.Deferred(function(c){$.each(b,function(b,d){var f=d[0],g=a[b];e[d[1]]($.isFunction(g)?function(){var a=g.apply(this,arguments);a&&$.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f+"With"](this===e?c:this,[a])}:c[f])}),a=null}).promise()},promise:function(a){return null!=a?$.extend(a,d):d}},e={};return d.pipe=d.then,$.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=g.fire,e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=V.call(arguments),g=f.length,h=1!==g||a&&$.isFunction(a.promise)?g:0,i=1===h?a:$.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?V.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&$.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),$.support=function(){var b,c,d,e,f,g,h,i,j,k,l,m=P.createElement("div");if(m.setAttribute("className","t"),m.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=m.getElementsByTagName("*"),d=m.getElementsByTagName("a")[0],d.style.cssText="top:1px;float:left;opacity:.5",!c||!c.length)return{};e=P.createElement("select"),f=e.appendChild(P.createElement("option")),g=m.getElementsByTagName("input")[0],b={leadingWhitespace:3===m.firstChild.nodeType,tbody:!m.getElementsByTagName("tbody").length,htmlSerialize:!!m.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:"on"===g.value,optSelected:f.selected,getSetAttribute:"t"!==m.className,enctype:!!P.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==P.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===P.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},g.checked=!0,b.noCloneChecked=g.cloneNode(!0).checked,e.disabled=!0,b.optDisabled=!f.disabled;try{delete m.test}catch(n){b.deleteExpando=!1}if(!m.addEventListener&&m.attachEvent&&m.fireEvent&&(m.attachEvent("onclick",l=function(){b.noCloneEvent=!1}),m.cloneNode(!0).fireEvent("onclick"),m.detachEvent("onclick",l)),g=P.createElement("input"),g.value="t",g.setAttribute("type","radio"),b.radioValue="t"===g.value,g.setAttribute("checked","checked"),g.setAttribute("name","t"),m.appendChild(g),h=P.createDocumentFragment(),h.appendChild(m.lastChild),b.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=g.checked,h.removeChild(g),h.appendChild(m),m.attachEvent)for(j in{submit:!0,change:!0,focusin:!0})i="on"+j,k=i in m,k||(m.setAttribute(i,"return;"),k="function"==typeof m[i]),b[j+"Bubbles"]=k;return $(function(){var c,d,e,f,g="padding:0;margin:0;border:0;display:block;overflow:hidden;",h=P.getElementsByTagName("body")[0];h&&(c=P.createElement("div"),c.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",h.insertBefore(c,h.firstChild),d=P.createElement("div"),c.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=d.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",k=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=k&&0===e[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===d.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==h.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(d,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(d,null)||{width:"4px"}).width,f=P.createElement("div"),f.style.cssText=d.style.cssText=g,f.style.marginRight=f.style.width="0",d.style.width="1px",d.appendChild(f),b.reliableMarginRight=!parseFloat((a.getComputedStyle(f,null)||{}).marginRight)),"undefined"!=typeof d.style.zoom&&(d.innerHTML="",d.style.cssText=g+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div></div>",d.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==d.offsetWidth,c.style.zoom=1),h.removeChild(c),c=d=e=f=null)}),h.removeChild(m),c=d=e=f=g=h=m=null,b}();var pb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,qb=/([A-Z])/g;$.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+($.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?$.cache[a[$.expando]]:a[$.expando],!!a&&!e(a)},data:function(a,c,d,e){if($.acceptData(a)){var f,g,h=$.expando,i="string"==typeof c,j=a.nodeType,k=j?$.cache:a,l=j?a[h]:a[h]&&h;if(l&&k[l]&&(e||k[l].data)||!i||d!==b)return l||(j?a[h]=l=$.deletedIds.pop()||$.guid++:l=h),k[l]||(k[l]={},j||(k[l].toJSON=$.noop)),("object"==typeof c||"function"==typeof c)&&(e?k[l]=$.extend(k[l],c):k[l].data=$.extend(k[l].data,c)),f=k[l],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[$.camelCase(c)]=d),i?(g=f[c],null==g&&(g=f[$.camelCase(c)])):g=f,g}},removeData:function(a,b,c){if($.acceptData(a)){var d,f,g,h=a.nodeType,i=h?$.cache:a,j=h?a[$.expando]:$.expando;if(i[j]){if(b&&(d=c?i[j]:i[j].data)){$.isArray(b)||(b in d?b=[b]:(b=$.camelCase(b),b=b in d?[b]:b.split(" ")));for(f=0,g=b.length;g>f;f++)delete d[b[f]];if(!(c?e:$.isEmptyObject)(d))return}(c||(delete i[j].data,e(i[j])))&&(h?$.cleanData([a],!0):$.support.deleteExpando||i!=i.window?delete i[j]:i[j]=null)}}},_data:function(a,b,c){return $.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&$.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),$.fn.extend({data:function(a,c){var e,f,g,h,i,j=this[0],k=0,l=null;if(a===b){if(this.length&&(l=$.data(j),1===j.nodeType&&!$._data(j,"parsedAttrs"))){for(g=j.attributes,i=g.length;i>k;k++)h=g[k].name,h.indexOf("data-")||(h=$.camelCase(h.substring(5)),d(j,h,l[h]));$._data(j,"parsedAttrs",!0)}return l}return"object"==typeof a?this.each(function(){$.data(this,a)}):(e=a.split(".",2),e[1]=e[1]?"."+e[1]:"",f=e[1]+"!",$.access(this,function(c){return c===b?(l=this.triggerHandler("getData"+f,[e[0]]),l===b&&j&&(l=$.data(j,a),l=d(j,a,l)),l===b&&e[1]?this.data(e[0]):l):(e[1]=c,void this.each(function(){var b=$(this);b.triggerHandler("setData"+f,e),$.data(this,a,c),b.triggerHandler("changeData"+f,e)}))},null,c,arguments.length>1,null,!1))},removeData:function(a){return this.each(function(){$.removeData(this,a)})}}),$.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=$._data(a,b),c&&(!d||$.isArray(c)?d=$._data(a,b,$.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=$.queue(a,b),d=c.length,e=c.shift(),f=$._queueHooks(a,b),g=function(){$.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return $._data(a,c)||$._data(a,c,{empty:$.Callbacks("once memory").add(function(){$.removeData(a,b+"queue",!0),$.removeData(a,c,!0)})})}}),$.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),arguments.length<d?$.queue(this[0],a):c===b?this:this.each(function(){var b=$.queue(this,a,c);$._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&$.dequeue(this,a)})},dequeue:function(a){return this.each(function(){$.dequeue(this,a)})},delay:function(a,b){return a=$.fx?$.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=$.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)d=$._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var rb,sb,tb,ub=/[\t\r\n]/g,vb=/\r/g,wb=/^(?:button|input)$/i,xb=/^(?:button|input|object|select|textarea)$/i,yb=/^a(?:rea|)$/i,zb=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ab=$.support.getSetAttribute;$.fn.extend({attr:function(a,b){return $.access(this,$.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){$.removeAttr(this,a)})},prop:function(a,b){return $.access(this,$.prop,a,b,arguments.length>1)},removeProp:function(a){return a=$.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if($.isFunction(a))return this.each(function(b){$(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a)for(b=a.split(bb),c=0,d=this.length;d>c;c++)if(e=this[c],1===e.nodeType)if(e.className||1!==b.length){for(f=" "+e.className+" ",g=0,h=b.length;h>g;g++)f.indexOf(" "+b[g]+" ")<0&&(f+=b[g]+" ");e.className=$.trim(f)}else e.className=a;return this},removeClass:function(a){var c,d,e,f,g,h,i;if($.isFunction(a))return this.each(function(b){$(this).removeClass(a.call(this,b,this.className))});if(a&&"string"==typeof a||a===b)for(c=(a||"").split(bb),h=0,i=this.length;i>h;h++)if(e=this[h],1===e.nodeType&&e.className){for(d=(" "+e.className+" ").replace(ub," "),f=0,g=c.length;g>f;f++)for(;d.indexOf(" "+c[f]+" ")>=0;)d=d.replace(" "+c[f]+" "," ");e.className=a?$.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return this.each($.isFunction(a)?function(c){$(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var e,f=0,g=$(this),h=b,i=a.split(bb);e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else("undefined"===c||"boolean"===c)&&(this.className&&$._data(this,"__className__",this.className),this.className=this.className||a===!1?"":$._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ub," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];{if(arguments.length)return e=$.isFunction(a),this.each(function(d){var f,g=$(this);1===this.nodeType&&(f=e?a.call(this,d,g.val()):a,null==f?f="":"number"==typeof f?f+="":$.isArray(f)&&(f=$.map(f,function(a){return null==a?"":a+""})),c=$.valHooks[this.type]||$.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,f,"value")!==b||(this.value=f))});if(f)return c=$.valHooks[f.type]||$.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,"string"==typeof d?d.replace(vb,""):null==d?"":d)}}}),$.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,f=a.selectedIndex,g=[],h=a.options,i="select-one"===a.type;if(0>f)return null;for(c=i?f:0,d=i?f+1:h.length;d>c;c++)if(e=h[c],!(!e.selected||($.support.optDisabled?e.disabled:null!==e.getAttribute("disabled"))||e.parentNode.disabled&&$.nodeName(e.parentNode,"optgroup"))){if(b=$(e).val(),i)return b;g.push(b)}return i&&!g.length&&h.length?$(h[f]).val():g},set:function(a,b){var c=$.makeArray(b);return $(a).find("option").each(function(){this.selected=$.inArray($(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(a&&3!==i&&8!==i&&2!==i)return e&&$.isFunction($.fn[c])?$(a)[c](d):"undefined"==typeof a.getAttribute?$.prop(a,c,d):(h=1!==i||!$.isXMLDoc(a),h&&(c=c.toLowerCase(),g=$.attrHooks[c]||(zb.test(c)?sb:rb)),d!==b?null===d?void $.removeAttr(a,c):g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d):g&&"get"in g&&h&&null!==(f=g.get(a,c))?f:(f=a.getAttribute(c),null===f?b:f))},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&1===a.nodeType)for(d=b.split(bb);g<d.length;g++)e=d[g],e&&(c=$.propFix[e]||e,f=zb.test(e),f||$.attr(a,e,""),a.removeAttribute(Ab?e:c),f&&c in a&&(a[c]=!1))},attrHooks:{type:{set:function(a,b){if(wb.test(a.nodeName)&&a.parentNode)$.error("type property can't be changed");else if(!$.support.radioValue&&"radio"===b&&$.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return rb&&$.nodeName(a,"button")?rb.get(a,b):b in a?a.value:null},set:function(a,b,c){return rb&&$.nodeName(a,"button")?rb.set(a,b,c):void(a.value=b)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!$.isXMLDoc(a),g&&(c=$.propFix[c]||c,f=$.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):xb.test(a.nodeName)||yb.test(a.nodeName)&&a.href?0:b}}}}),sb={get:function(a,c){var d,e=$.prop(a,c);return e===!0||"boolean"!=typeof e&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b
},set:function(a,b,c){var d;return b===!1?$.removeAttr(a,c):(d=$.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},Ab||(tb={name:!0,id:!0,coords:!0},rb=$.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(tb[c]?""!==d.value:d.specified)?d.value:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=P.createAttribute(c),a.setAttributeNode(d)),d.value=b+""}},$.each(["width","height"],function(a,b){$.attrHooks[b]=$.extend($.attrHooks[b],{set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}})}),$.attrHooks.contenteditable={get:rb.get,set:function(a,b,c){""===b&&(b="false"),rb.set(a,b,c)}}),$.support.hrefNormalized||$.each(["href","src","width","height"],function(a,c){$.attrHooks[c]=$.extend($.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return null===d?b:d}})}),$.support.style||($.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=b+""}}),$.support.optSelected||($.propHooks.selected=$.extend($.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),$.support.enctype||($.propFix.enctype="encoding"),$.support.checkOn||$.each(["radio","checkbox"],function(){$.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}}),$.each(["radio","checkbox"],function(){$.valHooks[this]=$.extend($.valHooks[this],{set:function(a,b){return $.isArray(b)?a.checked=$.inArray($(a).val(),b)>=0:void 0}})});var Bb=/^(?:textarea|input|select)$/i,Cb=/^([^\.]*|)(?:\.(.+)|)$/,Db=/(?:^|\s)hover(\.\S+|)\b/,Eb=/^key/,Fb=/^(?:mouse|contextmenu)|click/,Gb=/^(?:focusinfocus|focusoutblur)$/,Hb=function(a){return $.event.special.hover?a:a.replace(Db,"mouseenter$1 mouseleave$1")};$.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q;if(3!==a.nodeType&&8!==a.nodeType&&c&&d&&(g=$._data(a))){for(d.handler&&(o=d,d=o.handler,f=o.selector),d.guid||(d.guid=$.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return"undefined"==typeof $||a&&$.event.triggered===a.type?b:$.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=$.trim(Hb(c)).split(" "),j=0;j<c.length;j++)k=Cb.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),q=$.event.special[l]||{},l=(f?q.delegateType:q.bindType)||l,q=$.event.special[l]||{},n=$.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&$.expr.match.needsContext.test(f),namespace:m.join(".")},o),p=i[l],p||(p=i[l]=[],p.delegateCount=0,q.setup&&q.setup.call(a,e,m,h)!==!1||(a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h))),q.add&&(q.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?p.splice(p.delegateCount++,0,n):p.push(n),$.event.global[l]=!0;a=null}},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=$.hasData(a)&&$._data(a);if(q&&(m=q.events)){for(b=$.trim(Hb(b||"")).split(" "),f=0;f<b.length;f++)if(g=Cb.exec(b[f])||[],h=i=g[1],j=g[2],h){for(n=$.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,o=m[h]||[],k=o.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=0;l<o.length;l++)p=o[l],!e&&i!==p.origType||c&&c.guid!==p.guid||j&&!j.test(p.namespace)||d&&d!==p.selector&&("**"!==d||!p.selector)||(o.splice(l--,1),p.selector&&o.delegateCount--,n.remove&&n.remove.call(a,p));0===o.length&&k!==o.length&&(n.teardown&&n.teardown.call(a,j,q.handle)!==!1||$.removeEvent(a,h,q.handle),delete m[h])}else for(h in m)$.event.remove(a,h+b[f],c,d,!0);$.isEmptyObject(m)&&(delete q.handle,$.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,f){if(!e||3!==e.nodeType&&8!==e.nodeType){var g,h,i,j,k,l,m,n,o,p,q=c.type||c,r=[];if(!Gb.test(q+$.event.triggered)&&(q.indexOf("!")>=0&&(q=q.slice(0,-1),h=!0),q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),e&&!$.event.customEvent[q]||$.event.global[q]))if(c="object"==typeof c?c[$.expando]?c:new $.Event(q,c):new $.Event(q),c.type=q,c.isTrigger=!0,c.exclusive=h,c.namespace=r.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=q.indexOf(":")<0?"on"+q:"",e){if(c.result=b,c.target||(c.target=e),d=null!=d?$.makeArray(d):[],d.unshift(c),m=$.event.special[q]||{},!m.trigger||m.trigger.apply(e,d)!==!1){if(o=[[e,m.bindType||q]],!f&&!m.noBubble&&!$.isWindow(e)){for(p=m.delegateType||q,j=Gb.test(p+q)?e:e.parentNode,k=e;j;j=j.parentNode)o.push([j,p]),k=j;k===(e.ownerDocument||P)&&o.push([k.defaultView||k.parentWindow||a,p])}for(i=0;i<o.length&&!c.isPropagationStopped();i++)j=o[i][0],c.type=o[i][1],n=($._data(j,"events")||{})[c.type]&&$._data(j,"handle"),n&&n.apply(j,d),n=l&&j[l],n&&$.acceptData(j)&&n.apply&&n.apply(j,d)===!1&&c.preventDefault();return c.type=q,f||c.isDefaultPrevented()||m._default&&m._default.apply(e.ownerDocument,d)!==!1||"click"===q&&$.nodeName(e,"a")||!$.acceptData(e)||l&&e[q]&&("focus"!==q&&"blur"!==q||0!==c.target.offsetWidth)&&!$.isWindow(e)&&(k=e[l],k&&(e[l]=null),$.event.triggered=q,e[q](),$.event.triggered=b,k&&(e[l]=k)),c.result}}else{g=$.cache;for(i in g)g[i].events&&g[i].events[q]&&$.event.trigger(c,d,g[i].handle.elem,!0)}}},dispatch:function(c){c=$.event.fix(c||a.event);var d,e,f,g,h,i,j,k,l,m=($._data(this,"events")||{})[c.type]||[],n=m.delegateCount,o=V.call(arguments),p=!c.exclusive&&!c.namespace,q=$.event.special[c.type]||{},r=[];if(o[0]=c,c.delegateTarget=this,!q.preDispatch||q.preDispatch.call(this,c)!==!1){if(n&&(!c.button||"click"!==c.type))for(f=c.target;f!=this;f=f.parentNode||this)if(f.disabled!==!0||"click"!==c.type){for(h={},j=[],d=0;n>d;d++)k=m[d],l=k.selector,h[l]===b&&(h[l]=k.needsContext?$(l,this).index(f)>=0:$.find(l,this,null,[f]).length),h[l]&&j.push(k);j.length&&r.push({elem:f,matches:j})}for(m.length>n&&r.push({elem:this,matches:m.slice(n)}),d=0;d<r.length&&!c.isPropagationStopped();d++)for(i=r[d],c.currentTarget=i.elem,e=0;e<i.matches.length&&!c.isImmediatePropagationStopped();e++)k=i.matches[e],(p||!c.namespace&&!k.namespace||c.namespace_re&&c.namespace_re.test(k.namespace))&&(c.data=k.data,c.handleObj=k,g=(($.event.special[k.origType]||{}).handle||k.handler).apply(i.elem,o),g!==b&&(c.result=g,g===!1&&(c.preventDefault(),c.stopPropagation())));return q.postDispatch&&q.postDispatch.call(this,c),c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||P,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[$.expando])return a;var b,c,d=a,e=$.event.fixHooks[a.type]||{},f=e.props?this.props.concat(e.props):this.props;for(a=$.Event(d),b=f.length;b;)c=f[--b],a[c]=d[c];return a.target||(a.target=d.srcElement||P),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,e.filter?e.filter(a,d):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){$.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=$.extend(new $.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?$.event.trigger(e,null,b):$.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},$.event.handle=$.event.dispatch,$.removeEvent=P.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&("undefined"==typeof a[d]&&(a[d]=null),a.detachEvent(d,c))},$.Event=function(a,b){return this instanceof $.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?g:f):this.type=a,b&&$.extend(this,b),this.timeStamp=a&&a.timeStamp||$.now(),void(this[$.expando]=!0)):new $.Event(a,b)},$.Event.prototype={preventDefault:function(){this.isDefaultPrevented=g;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=g;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=g,this.stopPropagation()},isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f},$.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){$.event.special[a]={delegateType:b,bindType:b,handle:function(a){{var c,d=this,e=a.relatedTarget,f=a.handleObj;f.selector}return(!e||e!==d&&!$.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),$.support.submitBubbles||($.event.special.submit={setup:function(){return $.nodeName(this,"form")?!1:void $.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=$.nodeName(c,"input")||$.nodeName(c,"button")?c.form:b;d&&!$._data(d,"_submit_attached")&&($.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),$._data(d,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&$.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return $.nodeName(this,"form")?!1:void $.event.remove(this,"._submit")}}),$.support.changeBubbles||($.event.special.change={setup:function(){return Bb.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&($.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),$.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),$.event.simulate("change",this,a,!0)})),!1):void $.event.add(this,"beforeactivate._change",function(a){var b=a.target;Bb.test(b.nodeName)&&!$._data(b,"_change_attached")&&($.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||$.event.simulate("change",this.parentNode,a,!0)}),$._data(b,"_change_attached",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return $.event.remove(this,"._change"),!Bb.test(this.nodeName)}}),$.support.focusinBubbles||$.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){$.event.simulate(b,a.target,$.event.fix(a),!0)};$.event.special[b]={setup:function(){0===c++&&P.addEventListener(a,d,!0)},teardown:function(){0===--c&&P.removeEventListener(a,d,!0)}}}),$.fn.extend({on:function(a,c,d,e,g){var h,i;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=f;else if(!e)return this;return 1===g&&(h=e,e=function(a){return $().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=$.guid++)),this.each(function(){$.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,g;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,$(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(g in a)this.off(g,c,a[g]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=f),this.each(function(){$.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return $(this.context).on(a,this.selector,b,c),this},die:function(a,b){return $(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){$.event.trigger(a,b,this)})},triggerHandler:function(a,b){return this[0]?$.event.trigger(a,b,this[0],!0):void 0},toggle:function(a){var b=arguments,c=a.guid||$.guid++,d=0,e=function(c){var e=($._data(this,"lastToggle"+a.guid)||0)%d;return $._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};for(e.guid=c;d<b.length;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),$.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){$.fn[b]=function(a,c){return null==c&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},Eb.test(b)&&($.event.fixHooks[b]=$.event.keyHooks),Fb.test(b)&&($.event.fixHooks[b]=$.event.mouseHooks)}),function(a,b){function c(a,b,c,d){c=c||[],b=b||F;var e,f,g,h,i=b.nodeType;if(!a||"string"!=typeof a)return c;if(1!==i&&9!==i)return[];if(g=v(b),!g&&!d&&(e=cb.exec(a)))if(h=e[1]){if(9===i){if(f=b.getElementById(h),!f||!f.parentNode)return c;if(f.id===h)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(h))&&w(b,f)&&f.id===h)return c.push(f),c}else{if(e[2])return K.apply(c,L.call(b.getElementsByTagName(a),0)),c;if((h=e[3])&&mb&&b.getElementsByClassName)return K.apply(c,L.call(b.getElementsByClassName(h),0)),c}return p(a.replace(Z,"$1"),b,c,d,g)}function d(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function e(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function f(a){return N(function(b){return b=+b,N(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function g(a,b,c){if(a===b)return c;for(var d=a.nextSibling;d;){if(d===b)return-1;d=d.nextSibling}return 1}function h(a,b){var d,e,f,g,h,i,j,k=Q[D][a];if(k)return b?0:k.slice(0);for(h=a,i=[],j=t.preFilter;h;){(!d||(e=_.exec(h)))&&(e&&(h=h.slice(e[0].length)),i.push(f=[])),d=!1,(e=ab.exec(h))&&(f.push(d=new E(e.shift())),h=h.slice(d.length),d.type=e[0].replace(Z," "));for(g in t.filter)!(e=hb[g].exec(h))||j[g]&&!(e=j[g](e,F,!0))||(f.push(d=new E(e.shift())),h=h.slice(d.length),d.type=g,d.matches=e);if(!d)break}return b?h.length:h?c.error(a):Q(a,i).slice(0)}function i(a,b,c){var d=b.dir,e=c&&"parentNode"===b.dir,f=I++;return b.first?function(b,c,f){for(;b=b[d];)if(e||1===b.nodeType)return a(b,c,f)}:function(b,c,g){if(g){for(;b=b[d];)if((e||1===b.nodeType)&&a(b,c,g))return b}else for(var h,i=H+" "+f+" ",j=i+r;b=b[d];)if(e||1===b.nodeType){if((h=b[D])===j)return b.sizset;if("string"==typeof h&&0===h.indexOf(i)){if(b.sizset)return b}else{if(b[D]=j,a(b,c,g))return b.sizset=!0,b;b.sizset=!1}}}}function j(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function k(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function l(a,b,c,d,e,f){return d&&!d[D]&&(d=l(d)),e&&!e[D]&&(e=l(e,f)),N(function(f,g,h,i){if(!f||!e){var j,l,m,n=[],p=[],q=g.length,r=f||o(b||"*",h.nodeType?[h]:h,[],f),s=!a||!f&&b?r:k(r,n,a,h,i),t=c?e||(f?a:q||d)?[]:g:s;if(c&&c(s,t,h,i),d)for(m=k(t,p),d(m,[],h,i),j=m.length;j--;)(l=m[j])&&(t[p[j]]=!(s[p[j]]=l));if(f)for(j=a&&t.length;j--;)(l=t[j])&&(f[n[j]]=!(g[n[j]]=l));else t=k(t===g?t.splice(q,t.length):t),e?e(null,g,t,i):K.apply(g,t)}})}function m(a){for(var b,c,d,e=a.length,f=t.relative[a[0].type],g=f||t.relative[" "],h=f?1:0,k=i(function(a){return a===b},g,!0),n=i(function(a){return M.call(b,a)>-1},g,!0),o=[function(a,c,d){return!f&&(d||c!==A)||((b=c).nodeType?k(a,c,d):n(a,c,d))}];e>h;h++)if(c=t.relative[a[h].type])o=[i(j(o),c)];else{if(c=t.filter[a[h].type].apply(null,a[h].matches),c[D]){for(d=++h;e>d&&!t.relative[a[d].type];d++);return l(h>1&&j(o),h>1&&a.slice(0,h-1).join("").replace(Z,"$1"),c,d>h&&m(a.slice(h,d)),e>d&&m(a=a.slice(d)),e>d&&a.join(""))}o.push(c)}return j(o)}function n(a,b){var d=b.length>0,e=a.length>0,f=function(g,h,i,j,l){var m,n,o,p=[],q=0,s="0",u=g&&[],v=null!=l,w=A,x=g||e&&t.find.TAG("*",l&&h.parentNode||h),y=H+=null==w?1:Math.E;for(v&&(A=h!==F&&h,r=f.el);null!=(m=x[s]);s++){if(e&&m){for(n=0;o=a[n];n++)if(o(m,h,i)){j.push(m);break}v&&(H=y,r=++f.el)}d&&((m=!o&&m)&&q--,g&&u.push(m))}if(q+=s,d&&s!==q){for(n=0;o=b[n];n++)o(u,p,h,i);if(g){if(q>0)for(;s--;)u[s]||p[s]||(p[s]=J.call(j));p=k(p)}K.apply(j,p),v&&!g&&p.length>0&&q+b.length>1&&c.uniqueSort(j)}return v&&(H=y,A=w),u};return f.el=0,d?N(f):f}function o(a,b,d,e){for(var f=0,g=b.length;g>f;f++)c(a,b[f],d,e);return d}function p(a,b,c,d,e){{var f,g,i,j,k,l=h(a);l.length}if(!d&&1===l.length){if(g=l[0]=l[0].slice(0),g.length>2&&"ID"===(i=g[0]).type&&9===b.nodeType&&!e&&t.relative[g[1].type]){if(b=t.find.ID(i.matches[0].replace(gb,""),b,e)[0],!b)return c;a=a.slice(g.shift().length)}for(f=hb.POS.test(a)?-1:g.length-1;f>=0&&(i=g[f],!t.relative[j=i.type]);f--)if((k=t.find[j])&&(d=k(i.matches[0].replace(gb,""),db.test(g[0].type)&&b.parentNode||b,e))){if(g.splice(f,1),a=d.length&&g.join(""),!a)return K.apply(c,L.call(d,0)),c;break}}return x(a,l)(d,b,e,c,db.test(a)),c}function q(){}var r,s,t,u,v,w,x,y,z,A,B=!0,C="undefined",D=("sizcache"+Math.random()).replace(".",""),E=String,F=a.document,G=F.documentElement,H=0,I=0,J=[].pop,K=[].push,L=[].slice,M=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},N=function(a,b){return a[D]=null==b||b,a},O=function(){var a={},b=[];return N(function(c,d){return b.push(c)>t.cacheLength&&delete a[b.shift()],a[c]=d},a)},P=O(),Q=O(),R=O(),S="[\\x20\\t\\r\\n\\f]",T="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",U=T.replace("w","w#"),V="([*^$|!~]?=)",W="\\["+S+"*("+T+")"+S+"*(?:"+V+S+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+U+")|)|)"+S+"*\\]",X=":("+T+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+W+")|[^:]|\\\\.)*|.*))\\)|)",Y=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+S+"*((?:-\\d)?\\d*)"+S+"*\\)|)(?=[^-]|$)",Z=new RegExp("^"+S+"+|((?:^|[^\\\\])(?:\\\\.)*)"+S+"+$","g"),_=new RegExp("^"+S+"*,"+S+"*"),ab=new RegExp("^"+S+"*([\\x20\\t\\r\\n\\f>+~])"+S+"*"),bb=new RegExp(X),cb=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,db=/[\x20\t\r\n\f]*[+~]/,eb=/h\d/i,fb=/input|select|textarea|button/i,gb=/\\(?!\\)/g,hb={ID:new RegExp("^#("+T+")"),CLASS:new RegExp("^\\.("+T+")"),NAME:new RegExp("^\\[name=['\"]?("+T+")['\"]?\\]"),TAG:new RegExp("^("+T.replace("w","w*")+")"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+X),POS:new RegExp(Y,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+S+"*(even|odd|(([+-]|)(\\d*)n|)"+S+"*(?:([+-]|)"+S+"*(\\d+)|))"+S+"*\\)|)","i"),needsContext:new RegExp("^"+S+"*[>+~]|"+Y,"i")},ib=function(a){var b=F.createElement("div");try{return a(b)}catch(c){return!1}finally{b=null}},jb=ib(function(a){return a.appendChild(F.createComment("")),!a.getElementsByTagName("*").length}),kb=ib(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==C&&"#"===a.firstChild.getAttribute("href")}),lb=ib(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),mb=ib(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",a.getElementsByClassName&&a.getElementsByClassName("e").length?(a.lastChild.className="e",2===a.getElementsByClassName("e").length):!1}),nb=ib(function(a){a.id=D+0,a.innerHTML="<a name='"+D+"'></a><div name='"+D+"'></div>",G.insertBefore(a,G.firstChild);var b=F.getElementsByName&&F.getElementsByName(D).length===2+F.getElementsByName(D+0).length;return s=!F.getElementById(D),G.removeChild(a),b});try{L.call(G.childNodes,0)[0].nodeType}catch(ob){L=function(a){for(var b,c=[];b=this[a];a++)c.push(b);return c}}c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){return c(b,null,null,[a]).length>0},u=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=u(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=u(b);return c},v=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},w=c.contains=G.contains?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&1===d.nodeType&&c.contains&&c.contains(d))}:G.compareDocumentPosition?function(a,b){return b&&!!(16&a.compareDocumentPosition(b))}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1},c.attr=function(a,b){var c,d=v(a);return d||(b=b.toLowerCase()),(c=t.attrHandle[b])?c(a):d||lb?a.getAttribute(b):(c=a.getAttributeNode(b),c?"boolean"==typeof a[b]?a[b]?b:null:c.specified?c.value:null:null)},t=c.selectors={cacheLength:50,createPseudo:N,match:hb,attrHandle:kb?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:s?function(a,b,c){if(typeof b.getElementById!==C&&!c){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}}:function(a,c,d){if(typeof c.getElementById!==C&&!d){var e=c.getElementById(a);return e?e.id===a||typeof e.getAttributeNode!==C&&e.getAttributeNode("id").value===a?[e]:b:[]}},TAG:jb?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c=b.getElementsByTagName(a);if("*"===a){for(var d,e=[],f=0;d=c[f];f++)1===d.nodeType&&e.push(d);return e}return c},NAME:nb&&function(a,b){return typeof b.getElementsByName!==C?b.getElementsByName(name):void 0},CLASS:mb&&function(a,b,c){return typeof b.getElementsByClassName===C||c?void 0:b.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(gb,""),a[3]=(a[4]||a[5]||"").replace(gb,""),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1]?(a[2]||c.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&c.error(a[0]),a},PSEUDO:function(a){var b,c;return hb.CHILD.test(a[0])?null:(a[3]?a[2]=a[3]:(b=a[4])&&(bb.test(b)&&(c=h(b,!0))&&(c=b.indexOf(")",b.length-c)-b.length)&&(b=b.slice(0,c),a[0]=a[0].slice(0,c)),a[2]=b),a.slice(0,3))}},filter:{ID:s?function(a){return a=a.replace(gb,""),function(b){return b.getAttribute("id")===a}}:function(a){return a=a.replace(gb,""),function(b){var c=typeof b.getAttributeNode!==C&&b.getAttributeNode("id");return c&&c.value===a}},TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(gb,"").toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=P[D][a];return b||(b=P(a,new RegExp("(^|"+S+")"+a+"("+S+"|$)"))),function(a){return b.test(a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")}},ATTR:function(a,b,d){return function(e){var f=c.attr(e,a);return null==f?"!="===b:b?(f+="","="===b?f===d:"!="===b?f!==d:"^="===b?d&&0===f.indexOf(d):"*="===b?d&&f.indexOf(d)>-1:"$="===b?d&&f.substr(f.length-d.length)===d:"~="===b?(" "+f+" ").indexOf(d)>-1:"|="===b?f===d||f.substr(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d){return"nth"===a?function(a){var b,e,f=a.parentNode;if(1===c&&0===d)return!0;if(f)for(e=0,b=f.firstChild;b&&(1!==b.nodeType||(e++,a!==b));b=b.nextSibling);return e-=d,e===c||e%c===0&&e/c>=0}:function(b){var c=b;switch(a){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===a)return!0;c=b;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0}}},PSEUDO:function(a,b){var d,e=t.pseudos[a]||t.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return e[D]?e(b):e.length>1?(d=[a,a,"",b],t.setFilters.hasOwnProperty(a.toLowerCase())?N(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=M.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,d)}):e}},pseudos:{not:N(function(a){var b=[],c=[],d=x(a.replace(Z,"$1"));return d[D]?N(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:N(function(a){return function(b){return c(a,b).length>0}}),contains:N(function(a){return function(b){return(b.textContent||b.innerText||u(b)).indexOf(a)>-1}}),enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!t.pseudos.empty(a)},empty:function(a){var b;for(a=a.firstChild;a;){if(a.nodeName>"@"||3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},header:function(a){return eb.test(a.nodeName)},text:function(a){var b,c;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(c=a.getAttribute("type"))||c.toLowerCase()===b)},radio:d("radio"),checkbox:d("checkbox"),file:d("file"),password:d("password"),image:d("image"),submit:e("submit"),reset:e("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return fb.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return!(a!==b.activeElement||b.hasFocus&&!b.hasFocus()||!a.type&&!a.href)},active:function(a){return a===a.ownerDocument.activeElement},first:f(function(){return[0]}),last:f(function(a,b){return[b-1]}),eq:f(function(a,b,c){return[0>c?c+b:c]}),even:f(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:f(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:f(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:f(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},y=G.compareDocumentPosition?function(a,b){return a===b?(z=!0,0):(a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b):a.compareDocumentPosition)?-1:1}:function(a,b){if(a===b)return z=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],h=a.parentNode,i=b.parentNode,j=h;if(h===i)return g(a,b);if(!h)return-1;if(!i)return 1;for(;j;)e.unshift(j),j=j.parentNode;for(j=i;j;)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;c>k&&d>k;k++)if(e[k]!==f[k])return g(e[k],f[k]);return k===c?g(a,f[k],-1):g(e[k],b,1)},[0,0].sort(y),B=!z,c.uniqueSort=function(a){var b,c=1;if(z=B,a.sort(y),z)for(;b=a[c];c++)b===a[c-1]&&a.splice(c--,1);return a},c.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},x=c.compile=function(a,b){var c,d=[],e=[],f=R[D][a];if(!f){for(b||(b=h(a)),c=b.length;c--;)f=m(b[c]),f[D]?d.push(f):e.push(f);f=R(a,n(e,d))}return f},F.querySelectorAll&&!function(){var a,b=p,d=/'|\\/g,e=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,f=[":focus"],g=[":active",":focus"],i=G.matchesSelector||G.mozMatchesSelector||G.webkitMatchesSelector||G.oMatchesSelector||G.msMatchesSelector;ib(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||f.push("\\["+S+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||f.push(":checked")}),ib(function(a){a.innerHTML="<p test=''></p>",a.querySelectorAll("[test^='']").length&&f.push("[*^$]="+S+"*(?:\"\"|'')"),a.innerHTML="<input type='hidden'/>",a.querySelectorAll(":enabled").length||f.push(":enabled",":disabled")}),f=new RegExp(f.join("|")),p=function(a,c,e,g,i){if(!(g||i||f&&f.test(a))){var j,k,l=!0,m=D,n=c,o=9===c.nodeType&&a;if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){for(j=h(a),(l=c.getAttribute("id"))?m=l.replace(d,"\\$&"):c.setAttribute("id",m),m="[id='"+m+"'] ",k=j.length;k--;)j[k]=m+j[k].join("");n=db.test(a)&&c.parentNode||c,o=j.join(",")}if(o)try{return K.apply(e,L.call(n.querySelectorAll(o),0)),e}catch(p){}finally{l||c.removeAttribute("id")}}return b(a,c,e,g,i)},i&&(ib(function(b){a=i.call(b,"div");try{i.call(b,"[test!='']:sizzle"),g.push("!=",X)}catch(c){}}),g=new RegExp(g.join("|")),c.matchesSelector=function(b,d){if(d=d.replace(e,"='$1']"),!(v(b)||g.test(d)||f&&f.test(d)))try{var h=i.call(b,d);if(h||a||b.document&&11!==b.document.nodeType)return h}catch(j){}return c(d,null,null,[b]).length>0})}(),t.pseudos.nth=t.pseudos.eq,t.filters=q.prototype=t.pseudos,t.setFilters=new q,c.attr=$.attr,$.find=c,$.expr=c.selectors,$.expr[":"]=$.expr.pseudos,$.unique=c.uniqueSort,$.text=c.getText,$.isXMLDoc=c.isXML,$.contains=c.contains}(a);var Ib=/Until$/,Jb=/^(?:parents|prev(?:Until|All))/,Kb=/^.[^:#\[\.,]*$/,Lb=$.expr.match.needsContext,Mb={children:!0,contents:!0,next:!0,prev:!0};$.fn.extend({find:function(a){var b,c,d,e,f,g,h=this;if("string"!=typeof a)return $(a).filter(function(){for(b=0,c=h.length;c>b;b++)if($.contains(h[b],this))return!0});for(g=this.pushStack("","find",a),b=0,c=this.length;c>b;b++)if(d=g.length,$.find(a,this[b],g),b>0)for(e=d;e<g.length;e++)for(f=0;d>f;f++)if(g[f]===g[e]){g.splice(e--,1);break}return g},has:function(a){var b,c=$(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if($.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(j(this,a,!1),"not",a)},filter:function(a){return this.pushStack(j(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"==typeof a?Lb.test(a)?$(a,this.context).index(this[0])>=0:$.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Lb.test(a)||"string"!=typeof a?$(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(g?g.index(c)>-1:$.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}return f=f.length>1?$.unique(f):f,this.pushStack(f,"closest",a)},index:function(a){return a?"string"==typeof a?$.inArray(this[0],$(a)):$.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c="string"==typeof a?$(a,b):$.makeArray(a&&a.nodeType?[a]:a),d=$.merge(this.get(),c);return this.pushStack(h(c[0])||h(d[0])?d:$.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),$.fn.andSelf=$.fn.addBack,$.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return $.dir(a,"parentNode")},parentsUntil:function(a,b,c){return $.dir(a,"parentNode",c)},next:function(a){return i(a,"nextSibling")},prev:function(a){return i(a,"previousSibling")},nextAll:function(a){return $.dir(a,"nextSibling")},prevAll:function(a){return $.dir(a,"previousSibling")},nextUntil:function(a,b,c){return $.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return $.dir(a,"previousSibling",c)},siblings:function(a){return $.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return $.sibling(a.firstChild)},contents:function(a){return $.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:$.merge([],a.childNodes)}},function(a,b){$.fn[a]=function(c,d){var e=$.map(this,b,c);return Ib.test(a)||(d=c),d&&"string"==typeof d&&(e=$.filter(d,e)),e=this.length>1&&!Mb[a]?$.unique(e):e,this.length>1&&Jb.test(a)&&(e=e.reverse()),this.pushStack(e,a,V.call(arguments).join(","))}}),$.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?$.find.matchesSelector(b[0],a)?[b[0]]:[]:$.find.matches(a,b)
},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!$(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Nb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ob=/ jQuery\d+="(?:null|\d+)"/g,Pb=/^\s+/,Qb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Rb=/<([\w:]+)/,Sb=/<tbody/i,Tb=/<|&#?\w+;/,Ub=/<(?:script|style|link)/i,Vb=/<(?:script|object|embed|option|style)/i,Wb=new RegExp("<(?:"+Nb+")[\\s/>]","i"),Xb=/^(?:checkbox|radio)$/,Yb=/checked\s*(?:[^=]|=\s*.checked.)/i,Zb=/\/(java|ecma)script/i,$b=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,_b={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ac=k(P),bc=ac.appendChild(P.createElement("div"));_b.optgroup=_b.option,_b.tbody=_b.tfoot=_b.colgroup=_b.caption=_b.thead,_b.th=_b.td,$.support.htmlSerialize||(_b._default=[1,"X<div>","</div>"]),$.fn.extend({text:function(a){return $.access(this,function(a){return a===b?$.text(this):this.empty().append((this[0]&&this[0].ownerDocument||P).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if($.isFunction(a))return this.each(function(b){$(this).wrapAll(a.call(this,b))});if(this[0]){var b=$(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each($.isFunction(a)?function(b){$(this).wrapInner(a.call(this,b))}:function(){var b=$(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=$.isFunction(a);return this.each(function(c){$(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){$.nodeName(this,"body")||$(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!h(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=$.clean(arguments);return this.pushStack($.merge(a,this),"before",this.selector)}},after:function(){if(!h(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=$.clean(arguments);return this.pushStack($.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)(!a||$.filter(a,[c]).length)&&(b||1!==c.nodeType||($.cleanData(c.getElementsByTagName("*")),$.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&$.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return $.clone(this,a,b)})},html:function(a){return $.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Ob,""):b;if(!("string"!=typeof a||Ub.test(a)||!$.support.htmlSerialize&&Wb.test(a)||!$.support.leadingWhitespace&&Pb.test(a)||_b[(Rb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Qb,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&($.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return h(this[0])?this.length?this.pushStack($($.isFunction(a)?a():a),"replaceWith",a):this:$.isFunction(a)?this.each(function(b){var c=$(this),d=c.html();c.replaceWith(a.call(this,b,d))}):("string"!=typeof a&&(a=$(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;$(this).remove(),b?$(b).before(a):$(c).append(a)}))},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=[].concat.apply([],a);var e,f,g,h,i=0,j=a[0],k=[],m=this.length;if(!$.support.checkClone&&m>1&&"string"==typeof j&&Yb.test(j))return this.each(function(){$(this).domManip(a,c,d)});if($.isFunction(j))return this.each(function(e){var f=$(this);a[0]=j.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){if(e=$.buildFragment(a,this,k),g=e.fragment,f=g.firstChild,1===g.childNodes.length&&(g=f),f)for(c=c&&$.nodeName(f,"tr"),h=e.cacheable||m-1;m>i;i++)d.call(c&&$.nodeName(this[i],"table")?l(this[i],"tbody"):this[i],i===h?g:$.clone(g,!0,!0));g=f=null,k.length&&$.each(k,function(a,b){b.src?$.ajax?$.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):$.error("no ajax"):$.globalEval((b.text||b.textContent||b.innerHTML||"").replace($b,"")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),$.buildFragment=function(a,c,d){var e,f,g,h=a[0];return c=c||P,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,!(1===a.length&&"string"==typeof h&&h.length<512&&c===P&&"<"===h.charAt(0))||Vb.test(h)||!$.support.checkClone&&Yb.test(h)||!$.support.html5Clone&&Wb.test(h)||(f=!0,e=$.fragments[h],g=e!==b),e||(e=c.createDocumentFragment(),$.clean(a,c,e,d),f&&($.fragments[h]=g&&e)),{fragment:e,cacheable:f}},$.fragments={},$.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){$.fn[a]=function(c){var d,e=0,f=[],g=$(c),h=g.length,i=1===this.length&&this[0].parentNode;if((null==i||i&&11===i.nodeType&&1===i.childNodes.length)&&1===h)return g[b](this[0]),this;for(;h>e;e++)d=(e>0?this.clone(!0):this).get(),$(g[e])[b](d),f=f.concat(d);return this.pushStack(f,a,g.selector)}}),$.extend({clone:function(a,b,c){var d,e,f,g;if($.support.html5Clone||$.isXMLDoc(a)||!Wb.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(bc.innerHTML=a.outerHTML,bc.removeChild(g=bc.firstChild)),!($.support.noCloneEvent&&$.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||$.isXMLDoc(a)))for(n(a,g),d=o(a),e=o(g),f=0;d[f];++f)e[f]&&n(d[f],e[f]);if(b&&(m(a,g),c))for(d=o(a),e=o(g),f=0;d[f];++f)m(d[f],e[f]);return d=e=null,g},clean:function(a,b,c,d){var e,f,g,h,i,j,l,m,n,o,q,r=b===P&&ac,s=[];for(b&&"undefined"!=typeof b.createDocumentFragment||(b=P),e=0;null!=(g=a[e]);e++)if("number"==typeof g&&(g+=""),g){if("string"==typeof g)if(Tb.test(g)){for(r=r||k(b),l=b.createElement("div"),r.appendChild(l),g=g.replace(Qb,"<$1></$2>"),h=(Rb.exec(g)||["",""])[1].toLowerCase(),i=_b[h]||_b._default,j=i[0],l.innerHTML=i[1]+g+i[2];j--;)l=l.lastChild;if(!$.support.tbody)for(m=Sb.test(g),n="table"!==h||m?"<table>"!==i[1]||m?[]:l.childNodes:l.firstChild&&l.firstChild.childNodes,f=n.length-1;f>=0;--f)$.nodeName(n[f],"tbody")&&!n[f].childNodes.length&&n[f].parentNode.removeChild(n[f]);!$.support.leadingWhitespace&&Pb.test(g)&&l.insertBefore(b.createTextNode(Pb.exec(g)[0]),l.firstChild),g=l.childNodes,l.parentNode.removeChild(l)}else g=b.createTextNode(g);g.nodeType?s.push(g):$.merge(s,g)}if(l&&(g=l=r=null),!$.support.appendChecked)for(e=0;null!=(g=s[e]);e++)$.nodeName(g,"input")?p(g):"undefined"!=typeof g.getElementsByTagName&&$.grep(g.getElementsByTagName("input"),p);if(c)for(o=function(a){return!a.type||Zb.test(a.type)?d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a):void 0},e=0;null!=(g=s[e]);e++)$.nodeName(g,"script")&&o(g)||(c.appendChild(g),"undefined"!=typeof g.getElementsByTagName&&(q=$.grep($.merge([],g.getElementsByTagName("script")),o),s.splice.apply(s,[e+1,0].concat(q)),e+=q.length));return s},cleanData:function(a,b){for(var c,d,e,f,g=0,h=$.expando,i=$.cache,j=$.support.deleteExpando,k=$.event.special;null!=(e=a[g]);g++)if((b||$.acceptData(e))&&(d=e[h],c=d&&i[d])){if(c.events)for(f in c.events)k[f]?$.event.remove(e,f):$.removeEvent(e,f,c.handle);i[d]&&(delete i[d],j?delete e[h]:e.removeAttribute?e.removeAttribute(h):e[h]=null,$.deletedIds.push(d))}}}),function(){var a,b;$.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a=$.uaMatch(R.userAgent),b={},a.browser&&(b[a.browser]=!0,b.version=a.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),$.browser=b,$.sub=function(){function a(b,c){return new a.fn.init(b,c)}$.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(c,d){return d&&d instanceof $&&!(d instanceof a)&&(d=a(d)),$.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(P);return a}}();var cc,dc,ec,fc=/alpha\([^)]*\)/i,gc=/opacity=([^)]*)/,hc=/^(top|right|bottom|left)$/,ic=/^(none|table(?!-c[ea]).+)/,jc=/^margin/,kc=new RegExp("^("+_+")(.*)$","i"),lc=new RegExp("^("+_+")(?!px)[a-z%]+$","i"),mc=new RegExp("^([-+])=("+_+")","i"),nc={},oc={position:"absolute",visibility:"hidden",display:"block"},pc={letterSpacing:0,fontWeight:400},qc=["Top","Right","Bottom","Left"],rc=["Webkit","O","Moz","ms"],sc=$.fn.toggle;$.fn.extend({css:function(a,c){return $.access(this,function(a,c,d){return d!==b?$.style(a,c,d):$.css(a,c)},a,c,arguments.length>1)},show:function(){return s(this,!0)},hide:function(){return s(this)},toggle:function(a,b){var c="boolean"==typeof a;return $.isFunction(a)&&$.isFunction(b)?sc.apply(this,arguments):this.each(function(){(c?a:r(this))?$(this).show():$(this).hide()})}}),$.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=cc(a,"opacity");return""===c?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":$.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=$.camelCase(c),j=a.style;if(c=$.cssProps[i]||($.cssProps[i]=q(j,i)),h=$.cssHooks[c]||$.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];if(g=typeof d,"string"===g&&(f=mc.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat($.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"!==g||$.cssNumber[i]||(d+="px"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(k){}}},css:function(a,c,d,e){var f,g,h,i=$.camelCase(c);return c=$.cssProps[i]||($.cssProps[i]=q(a.style,i)),h=$.cssHooks[c]||$.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,e)),f===b&&(f=cc(a,c)),"normal"===f&&c in pc&&(f=pc[c]),d||e!==b?(g=parseFloat(f),d||$.isNumeric(g)?g||0:f):f},swap:function(a,b,c){var d,e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.call(a);for(e in b)a.style[e]=f[e];return d}}),a.getComputedStyle?cc=function(b,c){var d,e,f,g,h=a.getComputedStyle(b,null),i=b.style;return h&&(d=h[c],""!==d||$.contains(b.ownerDocument,b)||(d=$.style(b,c)),lc.test(d)&&jc.test(c)&&(e=i.width,f=i.minWidth,g=i.maxWidth,i.minWidth=i.maxWidth=i.width=d,d=h.width,i.width=e,i.minWidth=f,i.maxWidth=g)),d}:P.documentElement.currentStyle&&(cc=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;return null==e&&f&&f[b]&&(e=f[b]),lc.test(e)&&!hc.test(b)&&(c=f.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":e,e=f.pixelLeft+"px",f.left=c,d&&(a.runtimeStyle.left=d)),""===e?"auto":e}),$.each(["height","width"],function(a,b){$.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&ic.test(cc(a,"display"))?$.swap(a,oc,function(){return v(a,b,d)}):v(a,b,d):void 0},set:function(a,c,d){return t(a,c,d?u(a,b,d,$.support.boxSizing&&"border-box"===$.css(a,"boxSizing")):0)}}}),$.support.opacity||($.cssHooks.opacity={get:function(a,b){return gc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=$.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,b>=1&&""===$.trim(f.replace(fc,""))&&c.removeAttribute&&(c.removeAttribute("filter"),d&&!d.filter)||(c.filter=fc.test(f)?f.replace(fc,e):f+" "+e)}}),$(function(){$.support.reliableMarginRight||($.cssHooks.marginRight={get:function(a,b){return $.swap(a,{display:"inline-block"},function(){return b?cc(a,"marginRight"):void 0})}}),!$.support.pixelPosition&&$.fn.position&&$.each(["top","left"],function(a,b){$.cssHooks[b]={get:function(a,c){if(c){var d=cc(a,b);return lc.test(d)?$(a).position()[b]+"px":d}}}})}),$.expr&&$.expr.filters&&($.expr.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||!$.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||cc(a,"display"))},$.expr.filters.visible=function(a){return!$.expr.filters.hidden(a)}),$.each({margin:"",padding:"",border:"Width"},function(a,b){$.cssHooks[a+b]={expand:function(c){var d,e="string"==typeof c?c.split(" "):[c],f={};for(d=0;4>d;d++)f[a+qc[d]+b]=e[d]||e[d-2]||e[0];return f}},jc.test(a)||($.cssHooks[a+b].set=t)});var tc=/%20/g,uc=/\[\]$/,vc=/\r?\n/g,wc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,xc=/^(?:select|textarea)/i;$.fn.extend({serialize:function(){return $.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?$.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||xc.test(this.nodeName)||wc.test(this.type))}).map(function(a,b){var c=$(this).val();return null==c?null:$.isArray(c)?$.map(c,function(a){return{name:b.name,value:a.replace(vc,"\r\n")}}):{name:b.name,value:c.replace(vc,"\r\n")}}).get()}}),$.param=function(a,c){var d,e=[],f=function(a,b){b=$.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=$.ajaxSettings&&$.ajaxSettings.traditional),$.isArray(a)||a.jquery&&!$.isPlainObject(a))$.each(a,function(){f(this.name,this.value)});else for(d in a)x(d,a[d],c,f);return e.join("&").replace(tc,"+")};var yc,zc,Ac=/#.*$/,Bc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Cc=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Dc=/^(?:GET|HEAD)$/,Ec=/^\/\//,Fc=/\?/,Gc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Hc=/([?&])_=[^&]*/,Ic=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Jc=$.fn.load,Kc={},Lc={},Mc=["*/"]+["*"];try{zc=Q.href}catch(Nc){zc=P.createElement("a"),zc.href="",zc=zc.href}yc=Ic.exec(zc.toLowerCase())||[],$.fn.load=function(a,c,d){if("string"!=typeof a&&Jc)return Jc.apply(this,arguments);if(!this.length)return this;var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),$.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(f="POST"),$.ajax({url:a,type:f,dataType:"html",data:c,complete:function(a,b){d&&h.each(d,g||[a.responseText,b,a])}}).done(function(a){g=arguments,h.html(e?$("<div>").append(a.replace(Gc,"")).find(e):a)}),this},$.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){$.fn[b]=function(a){return this.on(b,a)}}),$.each(["get","post"],function(a,c){$[c]=function(a,d,e,f){return $.isFunction(d)&&(f=f||e,e=d,d=b),$.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),$.extend({getScript:function(a,c){return $.get(a,b,c,"script")},getJSON:function(a,b,c){return $.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?A(a,$.ajaxSettings):(b=a,a=$.ajaxSettings),A(a,b),a},ajaxSettings:{url:zc,isLocal:Cc.test(yc[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Mc},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":$.parseJSON,"text xml":$.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:y(Kc),ajaxTransport:y(Lc),ajax:function(a,c){function d(a,c,d,g){var j,l,s,t,v,x=c;2!==u&&(u=2,i&&clearTimeout(i),h=b,f=g||"",w.readyState=a>0?4:0,d&&(t=B(m,w,d)),a>=200&&300>a||304===a?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&($.lastModified[e]=v),v=w.getResponseHeader("Etag"),v&&($.etag[e]=v)),304===a?(x="notmodified",j=!0):(j=C(m,t),x=j.state,l=j.data,s=j.error,j=!s)):(s=x,(!x||a)&&(x="error",0>a&&(a=0))),w.status=a,w.statusText=(c||x)+"",j?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,k&&o.trigger("ajax"+(j?"Success":"Error"),[w,m,j?l:s]),q.fireWith(n,[w,x]),k&&(o.trigger("ajaxComplete",[w,m]),--$.active||$.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=$.ajaxSetup({},c),n=m.context||m,o=n!==m&&(n.nodeType||n instanceof $)?$(n):$.event,p=$.Deferred(),q=$.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,setRequestHeader:function(a,b){if(!u){var c=a.toLowerCase();a=t[c]=t[c]||a,s[a]=b}return this},getAllResponseHeaders:function(){return 2===u?f:null},getResponseHeader:function(a){var c;if(2===u){if(!g)for(g={};c=Bc.exec(f);)g[c[1].toLowerCase()]=c[2];c=g[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return u||(m.mimeType=a),this},abort:function(a){return a=a||v,h&&h.abort(a),d(0,a),this}};if(p.promise(w),w.success=w.done,w.error=w.fail,w.complete=q.add,w.statusCode=function(a){if(a){var b;if(2>u)for(b in a)r[b]=[r[b],a[b]];else b=a[w.status],w.always(b)}return this},m.url=((a||m.url)+"").replace(Ac,"").replace(Ec,yc[1]+"//"),m.dataTypes=$.trim(m.dataType||"*").toLowerCase().split(bb),null==m.crossDomain&&(j=Ic.exec(m.url.toLowerCase())||!1,m.crossDomain=j&&j.join(":")+(j[3]?"":"http:"===j[1]?80:443)!==yc.join(":")+(yc[3]?"":"http:"===yc[1]?80:443)),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=$.param(m.data,m.traditional)),z(Kc,m,c,w),2===u)return w;if(k=m.global,m.type=m.type.toUpperCase(),m.hasContent=!Dc.test(m.type),k&&0===$.active++&&$.event.trigger("ajaxStart"),!m.hasContent&&(m.data&&(m.url+=(Fc.test(m.url)?"&":"?")+m.data,delete m.data),e=m.url,m.cache===!1)){var x=$.now(),y=m.url.replace(Hc,"$1_="+x);m.url=y+(y===m.url?(Fc.test(m.url)?"&":"?")+"_="+x:"")}(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),m.ifModified&&(e=e||m.url,$.lastModified[e]&&w.setRequestHeader("If-Modified-Since",$.lastModified[e]),$.etag[e]&&w.setRequestHeader("If-None-Match",$.etag[e])),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Mc+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)w.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(l in{success:1,error:1,complete:1})w[l](m[l]);if(h=z(Lc,m,c,w)){w.readyState=1,k&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,h.send(s,d)}catch(A){if(!(2>u))throw A;d(-1,A)}}else d(-1,"No Transport");return w},active:0,lastModified:{},etag:{}});var Oc=[],Pc=/\?/,Qc=/(=)\?(?=&|$)|\?\?/,Rc=$.now();$.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Oc.pop()||$.expando+"_"+Rc++;return this[a]=!0,a}}),$.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.data,j=c.url,k=c.jsonp!==!1,l=k&&Qc.test(j),m=k&&!l&&"string"==typeof i&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qc.test(i);return"jsonp"===c.dataTypes[0]||l||m?(f=c.jsonpCallback=$.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,g=a[f],l?c.url=j.replace(Qc,"$1"+f):m?c.data=i.replace(Qc,"$1"+f):k&&(c.url+=(Pc.test(j)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||$.error(f+" was not called"),h[0]},c.dataTypes[0]="json",a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,Oc.push(f)),h&&$.isFunction(g)&&g(h[0]),h=g=b}),"script"):void 0}),$.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return $.globalEval(a),a}}}),$.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),$.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=P.head||P.getElementsByTagName("head")[0]||P.documentElement;return{send:function(e,f){c=P.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){(e||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||f(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var Sc,Tc=a.ActiveXObject?function(){for(var a in Sc)Sc[a](0,1)}:!1,Uc=0;$.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&D()||E()}:D,function(a){$.extend($.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}($.ajaxSettings.xhr()),$.support.ajax&&$.ajaxTransport(function(c){if(!c.crossDomain||$.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l,m;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=$.noop,Tc&&delete Sc[g]),e)4!==i.readyState&&i.abort();else{h=i.status,k=i.getAllResponseHeaders(),l={},m=i.responseXML,m&&m.documentElement&&(l.xml=m);try{l.text=i.responseText}catch(a){}try{j=i.statusText}catch(n){j=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(o){e||f(-1,o)}l&&f(h,j,l,k)},c.async?4===i.readyState?setTimeout(d,0):(g=++Uc,Tc&&(Sc||(Sc={},$(a).unload(Tc)),Sc[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var Vc,Wc,Xc=/^(?:toggle|show|hide)$/,Yc=new RegExp("^(?:([-+])=|)("+_+")([a-z%]*)$","i"),Zc=/queueHooks$/,$c=[J],_c={"*":[function(a,b){var c,d,e=this.createTween(a,b),f=Yc.exec(b),g=e.cur(),h=+g||0,i=1,j=20;if(f){if(c=+f[2],d=f[3]||($.cssNumber[a]?"":"px"),"px"!==d&&h){h=$.css(e.elem,a,!0)||c||1;do i=i||".5",h/=i,$.style(e.elem,a,h+d);while(i!==(i=e.cur()/g)&&1!==i&&--j)}e.unit=d,e.start=h,e.end=f[1]?h+(f[1]+1)*c:c}return e}]};$.Animation=$.extend(H,{tweener:function(a,b){$.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],_c[c]=_c[c]||[],_c[c].unshift(b)},prefilter:function(a,b){b?$c.unshift(a):$c.push(a)}}),$.Tween=K,K.prototype={constructor:K,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||($.cssNumber[c]?"":"px")},cur:function(){var a=K.propHooks[this.prop];return a&&a.get?a.get(this):K.propHooks._default.get(this)},run:function(a){var b,c=K.propHooks[this.prop];return this.pos=b=this.options.duration?$.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):K.propHooks._default.set(this),this}},K.prototype.init.prototype=K.prototype,K.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=$.css(a.elem,a.prop,!1,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){$.fx.step[a.prop]?$.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[$.cssProps[a.prop]]||$.cssHooks[a.prop])?$.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},K.propHooks.scrollTop=K.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},$.each(["toggle","show","hide"],function(a,b){var c=$.fn[b];$.fn[b]=function(d,e,f){return null==d||"boolean"==typeof d||!a&&$.isFunction(d)&&$.isFunction(e)?c.apply(this,arguments):this.animate(L(b,!0),d,e,f)}}),$.fn.extend({fadeTo:function(a,b,c,d){return this.filter(r).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=$.isEmptyObject(a),f=$.speed(b,c,d),g=function(){var b=H(this,$.extend({},a),f);e&&b.stop(!0)};return e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=$.timers,g=$._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&Zc.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&$.dequeue(this,a)})}}),$.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){$.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),$.speed=function(a,b,c){var d=a&&"object"==typeof a?$.extend({},a):{complete:c||!c&&b||$.isFunction(a)&&a,duration:a,easing:c&&b||b&&!$.isFunction(b)&&b};return d.duration=$.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in $.fx.speeds?$.fx.speeds[d.duration]:$.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){$.isFunction(d.old)&&d.old.call(this),d.queue&&$.dequeue(this,d.queue)},d},$.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},$.timers=[],$.fx=K.prototype.init,$.fx.tick=function(){for(var a,b=$.timers,c=0;c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||$.fx.stop()},$.fx.timer=function(a){a()&&$.timers.push(a)&&!Wc&&(Wc=setInterval($.fx.tick,$.fx.interval))},$.fx.interval=13,$.fx.stop=function(){clearInterval(Wc),Wc=null},$.fx.speeds={slow:600,fast:200,_default:400},$.fx.step={},$.expr&&$.expr.filters&&($.expr.filters.animated=function(a){return $.grep($.timers,function(b){return a===b.elem}).length});var ad=/^(?:body|html)$/i;$.fn.offset=function(c){if(arguments.length)return c===b?this:this.each(function(a){$.offset.setOffset(this,c,a)});var d,e,f,g,h,i,j,k={top:0,left:0},l=this[0],m=l&&l.ownerDocument;if(m){if((e=m.body)===l)return $.offset.bodyOffset(l);if(d=m.documentElement,!$.contains(d,l))return k;"undefined"!=typeof l.getBoundingClientRect&&(k=l.getBoundingClientRect()),f=M(m),g=d.clientTop||e.clientTop||0,h=d.clientLeft||e.clientLeft||0,i=f.pageYOffset||d.scrollTop,j=f.pageXOffset||d.scrollLeft;var n=a.document.compatMode;return"BackCompat"==n&&a.ActiveXObject?{top:k.top+Math.max(a.document.documentElement.scrollTop,a.document.body.scrollTop)-g,left:k.left+Math.max(a.document.documentElement.scrollLeft,a.document.body.scrollLeft)-h}:{top:k.top+i-g,left:k.left+j-h}}},$.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return $.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat($.css(a,"marginTop"))||0,c+=parseFloat($.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=$.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=$(a),h=g.offset(),i=$.css(a,"top"),j=$.css(a,"left"),k=("absolute"===d||"fixed"===d)&&$.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),$.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},$.fn.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),c=this.offset(),d=ad.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat($.css(a,"marginTop"))||0,c.left-=parseFloat($.css(a,"marginLeft"))||0,d.top+=parseFloat($.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat($.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||P.body;a&&!ad.test(a.nodeName)&&"static"===$.css(a,"position");)a=a.offsetParent;return a||P.body})}}),$.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,d){var e=/Y/.test(d);$.fn[c]=function(f){return $.access(this,function(c,f,g){var h=M(c);if(g===b){var i=a.document.compatMode;return"BackCompat"==i&&a.ActiveXObject?h?d in h?h[d]:Math.max(a.document.documentElement[f],a.document.body[f]):c[f]:h?d in h?h[d]:h.document.documentElement[f]:c[f]}h?h.scrollTo(e?$(h).scrollLeft():g,e?g:$(h).scrollTop()):c[f]=g},c,f,arguments.length,null)}}),$.each({Height:"height",Width:"width"},function(c,d){$.each({padding:"inner"+c,content:d,"":"outer"+c},function(e,f){$.fn[f]=function(f,g){var h=arguments.length&&(e||"boolean"!=typeof f),i=e||(f===!0||g===!0?"margin":"border");return $.access(this,function(d,e,f){var g;if($.isWindow(d)){var h=a.document.compatMode;return"BackCompat"==h?d.document.body["client"+c]:d.document.documentElement["client"+c]}return 9===d.nodeType?(g=d.documentElement,Math.max(d.body["scroll"+c],g["scroll"+c],d.body["offset"+c],g["offset"+c],g["client"+c])):f===b?$.css(d,e,f,i):$.style(d,e,f,i)},d,h?f:b,h,null)}})}),a.comtop.cQuery=$,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return $})}}(window),function(a){function b(a,c){b.clearWhiteSpace&&(a=a.replace(/[\f\n\r\t\v]+/g,"")),this.Fn=new b.Instance(a,c);for(var d in this)this.Fn.Reserve+=d+","}a.JCT=b,b.prototype={Extend:function(a,b){for(var c in a)this[c]&&this[c].Fn&&this[c].Fn.JavaScriptCommonTemplates&&this[c].Extend?this[c].Extend(a[c]):-1==this.Fn.Reserve.indexOf(","+c+",")&&(this[c]=a[c]);return"function"==typeof a.ERun&&a.ERun.apply(this,b||[]),this},ExtendTo:function(a,b){for(var c in this)this.Fn.Reserve.indexOf(","+c+",")>0&&a[c]||(null==a[c]?a[c]=this[c]:this[c].Fn&&this[c].Fn.JavaScriptCommonTemplates&&this[c].ExtendTo&&this[c].ExtendTo(a[c]));return"function"==typeof a.ERun&&a.ERun.apply(a,b||[]),this},ExecChilds:function(a,b){if("string"==typeof a&&(b=a,a=0),b=b||"Exec",!a){a={};for(var c in this)this[c].Fn&&this[c].Fn.JavaScriptCommonTemplates&&(a[c]=[])}for(var c in a)this[c]&&"function"==typeof this[c][b]&&this[c][b].apply(this[c],a[c]);return this},BuildChilds:function(a){var b={},c=!1;if(void 0==a?a=[]:"string"==typeof a?a=a.split(","):(b=a,c=!0),a instanceof Array)for(var d=0;d<a.length;d++)b[a[d]]=!0;for(var d in this)this[d].Fn&&this[d].Fn.JavaScriptCommonTemplates&&(0==a.length||b[d])&&this[d].Build(c?a[d]:[]);return this},GetView:function(){return this.Fn.V=[],this.GetViewContinue.apply(this,arguments),this.Fn.V.join("")},GetViewContinue:function(){this.Build.apply(this,[arguments])},Build:function(a){return this.Fn.Build(this,a,arguments.callee.caller===this.GetViewContinue),this},PushView:function(a){this.Fn.V.push(a)}},b.Instance=function(a,b){this.Init(a,b)},b.clearWhiteSpace=!0,b.Instance.prototype={JavaScriptCommonTemplates:3,Reserve:",",args:[],Tags:{comment:{block:{begin:"<!---",end:"-->"},exp:{begin:"+-",end:"-+"},member:{begin:"/*+",end:"*/"},memberend:{begin:"/*-",end:"*/"},clean:{begin:"<!--clean",end:"/clean-->"}},script:{block:{begin:'<script type="text/jct">',end:"</script>"},exp:{begin:"+-",end:"-+"},member:{begin:"/*+",end:"*/"},memberend:{begin:"/*-",end:"*/"},clean:{begin:"<!--clean",end:"/clean-->"}},code:{block:{begin:'<code class="jct">',end:"</code>"},exp:{begin:"+-",end:"-+"},member:{begin:"/*+",end:"*/"},memberend:{begin:"/*-",end:"*/"},clean:{begin:"<!--clean",end:"/clean-->"}}},Init:function(a,b){this.Src=a||"",this.Path=b||"";for(var c in this.Tags)if(this.Src.indexOf(this.Tags[c].block.begin)>=0)break;
this.Tag=this.Tags[c],this.A=[],this.V=[],this.EXEC=[];for(var d=[],e=[0,0,0,0,0],f=this.Src.length;this.Slice(this.Tag.clean,e[4],e,f);)d.push(this.Src.slice(e[0],e[1]));d.length&&(d.push(this.Src.slice(e[4])),this.Src=d.join(""))},Build:function(a,b,c){this.EXEC=[],this.Parse(a);try{var d=this.EXEC.join("\n");a.GetViewContinue=new Function(this.args,d),this.Src=""}catch(e){this.V=["jCT Parse Error"],a.ERROR={message:e.message+"\n"+(e.lineNumber||e.number),code:d}}a.BRun&&a.BRun.apply(a,b||[]),c&&(this.V=[],a.GetViewContinue.apply(a,b||[]))},Parse:function(a){for(var c=this.Tag,d=this.A,e=this.EXEC,f=this.Src.length,g=[0,0,0,0,0],h=[0,0,0,0,0];this.Slice(c.block,g[4],g,f);){for(h=[0,0,0,0,g[0]];this.Slice(c.exp,h[4],h,g[1]);)e.push("this.Fn.V.push(this.Fn.A["+d.length+"]);"),d.push(this.Src.slice(h[0],h[1])),e.push("this.Fn.V.push("+this.Src.slice(h[2],h[3])+");");if(h[4]!=g[1]&&(e.push("this.Fn.V.push(this.Fn.A["+d.length+"]);"),d.push(this.Src.slice(h[4],g[1]))),"//"==this.Src.slice(g[2],g[2]+2)){var i=this.Src.slice(g[2]+2,g[2]+3);if("/"==i){i=this.Src.slice(g[2]+3,g[3]);var j=i.indexOf(" "),k=[];j>0&&(k=i.slice(j+1).split(","),i=i.slice(0,j));var l=c.block.begin+"///"+i+c.block.end,m=this.Src.indexOf(l,g[4]);if(m>0){var n=new b(this.Src.slice(g[4],m),this.Path);n.Fn.args=k,a[i]||(a[i]={});for(var o in n)a[i][o]=n[o];g[4]=m+l.length}}else if("."==i){i=this.Src.slice(g[2]+3,g[3]);var j=i.indexOf(" ")+1;if("function"==i.slice(j,j+8)){var p=i.slice(0,j-1);a[p]=new Function("return "+i.slice(j,i.length))()}else{var p=new Function("return "+i.slice(j));a[i.slice(0,j)]=p.call(a)}}else" "==i&&(this.args=this.Src.slice(g[2]+2,g[3]).slice(1).split(","))}else e.push(this.Src.slice(g[2],g[3]))}for(h=[0,0,0,0,g[4]],g[1]=f;this.Slice(c.exp,h[4],h,g[1]);)e.push("this.Fn.V.push(this.Fn.A["+d.length+"]);"),d.push(this.Src.slice(h[0],h[1])),e.push("this.Fn.V.push("+this.Src.slice(h[2],h[3])+");");h[4]!=g[1]&&(e.push("this.Fn.V.push(this.Fn.A["+d.length+"]);"),d.push(this.Src.slice(h[4],g[1])))},Slice:function(a,b,c,d){var e,f,g,h=a.begin,i=a.end;return e=this.Src.indexOf(h,b),0>e||e>=d?!1:(f=e+h.length,0>f||f>=d?!1:(g=this.Src.indexOf(i,f),0>g||g>=d?!1:(c[0]=b,c[1]=e,c[2]=f,c[3]=g,c[4]=g+i.length,!0)))}}}(window.comtop),window.comtop=window.comtop||{},function(a){function b(a){var b,c,d=a.split("."),e=window;for(b=0;b<d.length;b+=1)c=d[b],e[c]=e[c]||{},e=e[c];return e}function c(){return"xxxx-4xxx-yxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)}).toUpperCase()}window.console=window.console||{log:function(){},info:function(){},warn:function(){},error:function(){}},a.namespace=b,a.guid=c}(window.comtop=window.comtop||{}),comtop.namespace("comtop.UI"),comtop.namespace("comtop.Dom"),comtop.namespace("comtop.String"),comtop.namespace("comtop.Date"),comtop.namespace("comtop.Number"),comtop.namespace("comtop.Browser"),comtop.namespace("comtop.Tools"),function(a,b){var c,d=a('script[src*="cui/js/comtop.ui"]');c=d.eq(0).attr("src"),c=c.substr(0,c.lastIndexOf("/")),c=c.substr(0,c.lastIndexOf("/")+1),b.cuiFilePath=c}(window.comtop.cQuery,window.comtop),function(a,b){var c=a("head");c.attr("style","font-family:isIE\\0; border:none; *font-family:isIE7; _font-family:isIE6;-moz-border-radius-topleft:0"),b.Browser={isIE:!1,isIE6:!1,isIE7:!1,isIE8:!1,isIE9:!1,notIE:!0,isQM:"CSS1Compat"!==document.compatMode};var d=c.css("font-family");/^isIE\d?$/.test(d)&&(b.Browser[d]=!0,b.Browser.notIE=!1,"isIE6"===d||"isIE7"===d?b.Browser.isIE=!0:void 0===c.css("border")?b.Browser.isIE8=!0:b.Browser.isIE9=!0),c.removeAttr("style")}(window.comtop.cQuery,window.comtop),comtop.Browser.isIE6&&document.execCommand("BackgroundImageCache",!1,!0),function(a,b){if(comtop.Browser.isIE8){var c=a("head");if(a("#cuiFontCss").length<1&&c.length>0){var d=["@font-face {",'     font-family: "FontAwesome";','     src: url("',b.cuiFilePath,'themes/default/images/core/fonts/fontawesome-webfont.eot?#iefix&v=4.0.3") format("embedded-opentype")'," } "," .cui-icon {","     font-family: FontAwesome !important;","     speak: none;","     font-style: normal;","     font-weight: normal;","     font-variant: normal;","     font-size: 14px;"," }"];c.append('<style type="text/css" id="cuiFontCss">'+d.join("")+"</style>")}}}(window.comtop.cQuery,window.comtop),function(a){var b=a.cQuery;b.page={height:function(){if(a.Browser.isIE6||a.Browser.isIE7||a.Browser.isIE8){var c=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),d=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return d>c?b(window).height():a.Browser.isQM?c-4:c}return a.Browser.isQM?b(document).height()-4:b(document).height()},width:function(){var a=b("<div></div>");a.css({height:1});var c=parseInt(b("body").css("paddingLeft"))+parseInt(b("body").css("paddingRight"))+parseInt(b("body").css("marginLeft"))+parseInt(b("body").css("marginRight"));b("body").append(a);var d=a.width();return a.remove(),d+c},scrollTop:function(){return b("html").scrollTop()||b("body").scrollTop()},scrollLeft:function(){return b("html").scrollLeft()||b("body").scrollLeft()}},b.client={width:function(){return a.Browser.isQM?document.documentElement.clientWidth||document.documentElement.offsetWidth-21:b(window).width()},height:function(){return a.Browser.isQM?window.innerHeight||document.documentElement.offsetHeight-4:b(window).height()}}}(window.comtop),function(a,b){function c(c,d){if(c.options=a.extend(!0,{},d.options,c.options),d.options&&d.options.uitype){var e=d.options.uitype;c._superUITypes=a.extend(!0,[],d._superUITypes),c._superUITypes.push(e)}var f=c.options?c.options.uitype:null;if(f){var g=f.charAt(0).toLowerCase()+f.substring(1);null==a.fn[g]&&(a.fn[g]=function(c){var d=a(this).eq(0);if(d.selector=d.selector.replace(".slice(0,1)",""),!d.selector){var e="e-"+b.guid(),g=this.nodeName||"";d.attr("eventID",e),d.selector=g+"[eventID="+e+"]:eq(0)"}var h=d.data("uitype");return null==h&&(c=c||{},c.el=d,h=new b.UI[f](c),h.isCUI=!0,b.UI.componentList.push(h),d.size()&&d.data("uitype",h)),h}),c[g]=function(){return this}}}if(!window.__hasCUILoad){window.cui=function(b){var c=a(b),d=c.data("uitype")||c;if(d.options){var e=d.options.uitype;e=e.charAt(0).toLowerCase()+e.substring(1),d[e]||(d[e]=function(){return this})}return d};var d=!1,e=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;b.Class=function(){},b.Class.extend=function(a){function b(){!d&&this.__init&&this.__init.apply(this,arguments)}var f=this.prototype;c(a,f),d=!0;var g=new this;d=!1;for(var h in a)g[h]="function"==typeof a[h]&&"function"==typeof f[h]&&e.test(a[h])?function(a,b){return function(){var c=this._super;this._super=f[a];var d=b.apply(this,arguments);return this._super=c,d}}(h,a[h]):a[h];return b.prototype=g,b.prototype.constructor=b,b.extend=arguments.callee,b},b._registerCmp=c}}(window.comtop.cQuery,window.comtop),function(a,b){function c(a){for(var c=b.UI.templatePath,d=new RegExp(a),e=0;e<c.scriptTP.length;e++)if(d.test(c.scriptTP[e].attrTmpl))return{path:c.scriptTP[e].path,mark:"extend"};return{path:c.scriptOP[0].path,mark:"cui"}}function d(b,c){var d;"undefined"!=typeof b.outerHTML?d=b.outerHTML:(a("body").append('<div style="display: none;" id="f8_outerHTML_bug"></div>'),a("#f8_outerHTML_bug").append(a(b).clone()),d=a("#f8_outerHTML_bug")[0].innerHTML,a("#f8_outerHTML_bug").remove());var e=d.match(/<[^>]*>/)[0].replace(/[\r\n\t]/g,""),f=new RegExp("\\s"+c+"=[\"']*([\\w-\\%]*)[\"']*"),g=e.match(f);return g?g[1]:null}if(!window.__hasCUILoad){var e=e||{};b.UI.templatePath=null,b.UI.componentList=[],b.UI.setOpt=function(b){var c,d,e=this;if("object"==typeof b)for(c in b)switch(c){case"Dialog":cui.dialog.setOpt(b[c]);break;case"MsgBox":cui.msgbox.setOpt(b[c]);break;case"Message":cui.msgbox.setOpt(b[c],"message");break;default:b.hasOwnProperty(c)&&"function"==typeof e[c]&&(d=e[c].prototype.options,"object"==typeof d&&a.extend(d,b[c]))}},b.UI.Base=b.Class.extend({options:{},tpls:{},autoTpls:{},isInit:!1,cui_prompt:"\u4e0d\u5efa\u8bae\u4f7f\u7528\u6216\u4fee\u6539\uff08\u4e8c\u6b21\u5f00\u53d1\u9664\u5916\uff09\u6ca1\u6709\u5bf9\u5916\u516c\u5e03\u7684\u5185\u90e8\u65b9\u6cd5\u4e0e\u53d8\u91cf\uff0c\u4ee5\u907f\u514d\u56e0\u7ec4\u4ef6\u5347\u7ea7\u800c\u5f15\u8d77\u529f\u80fd\u5f02\u5e38",__init:function(b){var c=this,e={target:{eventName:"change",source:"getValue",target:"setValue"}},f=b.isScanner,g={},h="",i="";c.options.tpls=c.options.tpls||{};for(var j in c.options)if(f){switch(j){case"readonly":case"width":case"height":h=d(b.el[0],j);break;default:h=b.el.attr(j)}"string"==typeof h&&(g[j]=h,"null"!=h?(i=null==c.options[j]?"function":typeof c.options[j],b[j]=c._convertTo(h,i,c.options[j])):b[j]=null)}else h=b[j],g[j]=h;if(void 0==c.options.textmode&&delete b.textmode,e=c.options=a.extend(!0,{},e,c.options,b),c._init(g,b),e.textmode)return void c.setTextMode();c.__loadTemplate(e.template);for(var k in e.tpls)c.tpls["super."+k]=c.tpls[k],c.tpls[k]="string"==typeof e.tpls[k]?c.tpls[e.tpls[k]]||e.tpls[k]:e.tpls[k];for(k in c.tpls)if(1==c.autoTpls[k]){var l=a(e.el),m=l.get(0).tagName;/[DIV|SPAN|A]/.test(m)&&""==a.trim(l.html())?c._buildTemplate(l,k,e):c._bindTplEvent()}if(c._create(),l){var n=l.data("cuiCreated");n&&(a.each(n,function(){c[this.method]&&c[this.method].apply(c,this.arg)}),l.removeData("cuiCreated"))}},__load:function(c,d,e){"undefined"==typeof e&&(e=!1),"function"!=typeof d&&(d=function(){}),a.ajax({url:c+"?v="+b.version,async:e,dataType:"text",success:d,error:function(){}})},__loadTemplate:function(d){d=d||"template.html";var f,g=this,h=g.options.uitype,i="",j=e[h],k=a("body"),l=k.attr("cuitmplmark")||"",m=new RegExp(d);if(h=h.charAt(0).toUpperCase()+h.substring(1),j||(m.test(l)||(b.UI.templatePath||b.UI.scanTemplateUrl(d),f=c(d),i=f.path+"template/"+d,k.attr("cuitmplmark",l+"["+f.mark+"#"+d+"]"),g.__load(i,function(a){a=a.match(/<cmptpl[^>]*>(\s|\r|\t|.)*?<\/cmptpl>/g);for(var b=0,c=a.length;c>b;b++){var d=a[b].match(/uiType="([\w-]*)"/)[1],f=a[b].match(/var="([\w-]*)"/)[1],g="false"!=a[b].match(/parse="([\w-]*)"/)[1],h=a[b].replace(/<cmptpl[^>]*>/,"").replace(/<\/cmptpl>/,""),i=e[d]||{tpls:{},autoTpls:{}};i.tpls[f]=h,g&&(i.autoTpls[f]=!0),e[d]=i}})),j=e[h]||{tpls:{},autoTpls:{}}),g.tpls=a.extend(!0,{},j.tpls),g.autoTpls=a.extend(!0,{},j.autoTpls),g._superUITypes)for(var n=g._superUITypes.length-1;n>=0;n--){h=g._superUITypes[n];var o=e[h];if(o){var p=e[h].tpls;for(var q in p)g.tpls[q]||(g.tpls[q]=p[q]);var r=e[h].autoTpls;for(q in r)g.autoTpls[q]||(g.autoTpls[q]=r[q])}}k=null},_buildTemplate:function(b,c,d,e){var f=this,g=a(b);if(d=d||f.options,"object"!=typeof f.tpls[c]){for(var h=a.trim(f._buildTemplateStr(c,d))||"",i=h.match(/\#ref\=[\w\.]*\#/g)||[],j="",k=0;k<i.length;k++)j=a.trim(i[k].replace(/#/g,"").replace("ref=","")),h=h.replace(i[k],f._buildTemplateStr(j,d)||"");return h=f._bindTplEvent(h),e?g.append(h):g.html(h),h}f.tpls[c].el=g,f.__createTargetCmp(f.tpls[c])},_buildTemplateStr:function(a,c){var d=this,e=new b.JCT(d.tpls[a]);return e.Build(),e.GetView(c)},__createTargetCmp:function(a){new b.UI[a.uitype](a)},_bindTplEvent:function(c){var d=this,e=d.options;if("string"==typeof c){for(var f=e.el.selector,g=c.match(/events=\"[\w-\s\;\=\,\.]*\"/g)||[],h=[],i=null,j=null,k=null,l=0;l<g.length;l++){h=[],i=g[l].replace(/\"/g,"").replace(/events\=/,"").split(";");for(var m=0,n=i.length;n>m;m++)j=i[m].split("="),a.trim(j[0])&&h.push("on",j[0],'="',b.Browser.isIE?"return ":"","comtop.proxyHandler(event, '",f,"', this, '",j[1],"');\" ");var k=new RegExp(g[l],"g");h.push(g[l].replace("events","etsBak")),c=c.replace(k,h.join(""))}return c}return c=c||a(e.el),a("[etsBak]",c).each(function(){for(var b,c=a(this),e=c.attr("etsBak").split(";"),f=0;f<e.length;f++)b=e[f].split("="),c.bind(b[0]+".comtopBase",{self:d,func:b[1]},comtop.proxyHandler);c=null}),c},_unbindTplEvent:function(b){var c=this,d=c.options;b=b||d.el,a("[etsBak]",b).each(function(){for(var b=a(this),c=b.attr("etsBak").split(";"),d=0;d<c.length;d++)b.removeAttr("on"+c[d].split("=")[0]);b.unbind(".comtopBase")})},_triggerHandler:function(b,c){a(this).triggerHandler(b,c)},_init:function(){},_create:function(){},bind:function(b,c,d){return a(this).bind(b,c,d),this},unbind:function(b,c){return a(this).unbind(b,c),this},setValue:function(){},getValue:function(){},show:function(){return this.options.el.show(),this},hide:function(){return this.options.el.hide(),this},setReadonly:function(){},setTextMode:function(){var a=this,b=a.options,c=b.el[0].nodeName,d=a.getLabelValue();"SPAN"==c||"DIV"==c?b.el.html(d):("INPUT"==c||"BUTTON"==c||"TEXTAREA"==c)&&(b.el=b.el.replaceWith("<span>"+d+"</span>"))},getLabelValue:function(){return this.options.value||""},disable:function(b){return b="undefined"==typeof b?!1:b,a("input, select, textarea, button",this.options.el).attr("disabled",b),this},destroy:function(){var a=this,b=a.options;a._unbindTplEvent(b.el),b.el.removeData(),a.tpls&&b.el.empty()},_convertTo:function(b,c,d){function e(a){for(var b=a.split("."),c=window,e=0;e<b.length;e++)c=c[b[e]];return"object"!=typeof c&&"function"!=typeof c||c.nodeName?d:c}if(""===a.trim(b))return"string"===c?"":d;var f=/^(?:\{.*\}|\[.*\])$/;switch(c){case"string":b=""+b;break;case"boolean":b=!("true"!==b);break;case"number":b=+b;break;case"object":b=f.test(b)?a.parseJSON(b.replace(/\\'/g,"#@@#").replace(/'/g,'"').replace(/#@@#/g,"'")):e(b);break;case"function":b=e(b);break;default:b=d}return b}}),b.proxyHandler=function(c,d,e,f){var g=null,h=null,i=null,j=null,k=0,l=0;if(d){for(c||(c=a.Event()),c=a.event.fix(c),k=0;k<b.UI.componentList.length;k++)if(j=b.UI.componentList[k],j.options.el.selector===d){g=j;break}if(null==g)return!1}else g=c.data.self,f=c.data.func,e=this,c.data=null;for(f=f.split(","),k=0;k<f.length;k++)if(a.isFunction(g[f[k]]))g[f[k]](c,e,c.target||c.srcElement);else{for(h=window,i=f[k].split("."),l=0;l<i.length;l++)h=h[i[l]];h(c,e,c.target||c.srcElement)}return"click"===c.type&&"a"===c.target.nodeName.toLocaleLowerCase()&&b.Browser.isIE?!1:void 0},b.UI.scanTemplateUrl=function(c){var d,e,f,g=0,h=0,i=(new RegExp(c),[]),j=[];for(d=a("script[cuiTemplate]"),i.push({path:b.cuiFilePath,attrTmpl:""}),h=d.length;h>g;g++)e=d.eq(g).attr("src"),e&&(f=e.substr(0,e.lastIndexOf("/")),f=e.substr(0,f.lastIndexOf("/")+1),j.push({path:f,attrTmpl:d.eq(g).attr("cuiTemplate")}));b.UI.templatePath={scriptTP:j,scriptOP:i}},window.__hasCUILoad=!0}}(window.comtop.cQuery,window.comtop),function(a,b){b.Tools.getCUIURL=function(){},b.String.getBytesLength=function(a){for(var b=0,c=0;c<a.length;c++){var d=a.charCodeAt(c);d>=1&&126>=d||d>=65376&&65439>=d?b++:b+=2}return b},b.String.interceptString=function(a,b){for(var c="",d=0,e=0,f=a.length;f>e;e++){{a.charCodeAt(e)}if(d++,!(b>=d))break;c+=a.charAt(e)}return c},b.String.intercept=function(a,b){for(var c="",d=0,e=0,f=a.length;f>e;e++){var g=a.charCodeAt(e);if(g>=0&&126>=g||g>=65376&&65439>=g?d++:d+=2,!(b>=d))break;c+=a.charAt(e)}return c},b.Date.format=function(a,c){var d={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"H+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds(),"w+":b.Date.getOnWeek(a).week};/(y+)/.test(c)&&(c=c.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(var e in d)new RegExp("("+e+")").test(c)&&(c=c.replace(RegExp.$1,1==RegExp.$1.length?d[e]:("00"+d[e]).substr((""+d[e]).length)));return c},b.Date.simpleformat=function(b,c){function d(a){return a.charAt(1)?a:0+a}if(!b)return"";var e=a.type(b);if("string"===e||"number"===e){var f=new Date;if(f.setTime(b),isNaN(f.getDate()))return b;b=f}for(var g=["y+","yyyy","M","MM","d","dd","h","hh","m","mm","s","ss"],h=b.getFullYear().toString(),i=(b.getMonth()+1).toString(),j=b.getDate().toString(),k=b.getHours().toString(),l=b.getMinutes().toString(),m=b.getSeconds().toString(),n=[h.slice(2),h,i,d(i),j,d(j),k,d(k),l,d(l),m,d(m)],o=g.length;o--;)c=c.replace(new RegExp(g[o]),n[o]);return c},b.Date.getOnWeek=function(a,b,c){if(!a)return null;var d,e=b?4:1,f=new Date(a.getTime());return f.setDate(f.getDate()+e-(c?f.getDay():f.getDay()||7)),d=f.getTime(),f.setMonth(0),f.setDate(1),{year:f.getFullYear(),week:Math.floor(Math.round((d-f)/864e5)/7)+1}},b.Date.getWeekRange=function(a,c,d,e){e=d?!1:e;var f,g,h,i=new Date(a,0,1),j=b.Date.getOnWeek(i,d,e).week;return h=1!=j?e?7-i.getDay():8-(i.getDay()||7):0,f=7*(c-1)+h,g=f+6,[new Date(864e5*f+i.getTime()),new Date(864e5*g+i.getTime())]},b.Date.parse=function(c,d){function e(a,b){return b=b.replace(/yyyy/,h[1]).replace(/yy/,h[2]).replace(/MM/,i[1]).replace(/M/,i[2]).replace(/dd/,j[1]).replace(/d/,j[2]).replace(/hh/,k[1]).replace(/h/,k[2]).replace(/mm/,l[1]).replace(/m/,l[2]).replace(/ss/,m[1]).replace(/s/,m[2]).replace(/qq/,n[1]).replace(/q/,n[2]).replace(/ww/,o[1]).replace(/w/,o[2]),g=new RegExp("^"+b+"$"),g.test(a)}function f(a){var b,c,d=[],e=0;for(h[0]=a.indexOf("yyyy"),h[0]<0&&(h[0]=a.indexOf("yy")),h[0]>=0&&(d[e]=h[0],e++),i[0]=a.indexOf("MM"),i[0]<0&&(i[0]=a.indexOf("M")),i[0]>=0&&(d[e]=i[0],e++),j[0]=a.indexOf("dd"),j[0]<0&&(j[0]=a.indexOf("d")),j[0]>=0&&(d[e]=j[0],e++),k[0]=a.indexOf("hh"),k[0]<0&&(k[0]=a.indexOf("h")),k[0]>=0&&(d[e]=k[0],e++),l[0]=a.indexOf("mm"),l[0]<0&&(l[0]=a.indexOf("m")),l[0]>=0&&(d[e]=l[0],e++),m[0]=a.indexOf("ss"),m[0]<0&&(m[0]=a.indexOf("s")),m[0]>=0&&(d[e]=m[0],e++),n[0]=a.indexOf("qq"),n[0]<0&&(n[0]=a.indexOf("q")),n[0]>=0&&(d[e]=n[0],e++),o[0]=a.indexOf("ww"),o[0]<0&&(o[0]=a.indexOf("w")),o[0]>=0&&(d[e]=o[0],e++),c=[h[0],i[0],j[0],k[0],l[0],m[0],n[0],o[0]],e=0;e<d.length-1;e++)for(b=0;b<d.length-1-e;b++)if(d[b]>d[b+1]){var f=d[b];d[b]=d[b+1],d[b+1]=f}for(e=0;e<d.length;e++)for(b=0;b<c.length;b++)d[e]==c[b]&&(c[b]=e);return c}if(c=a.trim(c),""===c)return null;var g,h,i,j,k,l,m,n,o;if(h=[-1,"([0-9]{4})","([0-9]{2})"],i=[-1,"(0[1-9]|1[0-2])","([1-9]|1[0-2])"],j=[-1,"(0[1-9]|[1-2][0-9]|30|31)","([1-9]|[1-2][0-9]|30|31)"],k=[-1,"([0-1][0-9]|20|21|22|23)","([0-9]|1[0-9]|20|21|22|23)"],l=[-1,"([0-5][0-9])","([0-9]|[1-5][0-9])"],m=[-1,"([0-5][0-9])","([0-9]|[1-5][0-9])"],n=[-1,"([0-0][1-4])","([1-4])"],o=[-1,"([0-5][0-9])","([0-9]|[1-4][0-9]|5[0-3])"],e(c,d)){var p=new Date,q=g.exec(c),r=f(d),s=[p.getFullYear(),1,1,0,0,0,1,1];q.shift();for(var t=0;8>t;t++)s[t]=r[t]>=0?+q[r[t]]:s[t];if(r[6]>=0&&r[1]<0)s[1]=3*(s[6]-1),s[2]=1,s[3]=0,s[4]=0,s[5]=0;else if(r[7]>=0&&r[1]){var u=b.Date.getWeekRange(s[0],s[7]);s[1]=u[0].getMonth(),s[2]=u[0].getDate()}else s[1]=s[1]-1;return new Date(s[0],s[1],s[2],s[3],s[4],s[5],0)}return null},b.Number.money=function(b,c,d){d=a.extend({separator:",",prefix:""},d),"string"!=typeof b&&"number"!=typeof b&&(b=0),c=void 0===c?2:c;var e,f="",g=!1,h=1;/-/.test(b+"")&&(g=!0,b=(b+"").replace("-","")),null===c?(e=b.split(".")[1],e=e||""):e="";for(var i=0;c>i;i++)f+="0",h=10*h;b=parseFloat(b,10)||0,b=(Math.round(b*h)/h).toString().split(".");for(var j=b[0],k=(b[1]||""+f).slice(0,c),l=j.length,m=l%3,n=m?[j.slice(0,m)]:[],o=0,p=Math.floor(l/3);p>o;o+=1)n.push(j.slice(m+3*o,m+3*o+3));if(k.length<c)for(var i=0,l=k.length;c-l>i;i++)k+="0";return null!==c?d.prefix+(g?"-":"")+n.join(d.separator)+(c>0?".":"")+k:d.prefix+(g?"-":"")+n.join(d.separator)+(e.length>0?".":"")+e},b.Number.round=function(a,b){var c,d,e,f,g,h,i,j,k;if(c=/^(\+|\-)?(\d+|\d*(\.)\d+)$/.exec(a+"")){if(b=!b||0>b?0:b,d=c[1]?c[1].replace("+",""):"",h=c[2].replace(/^0+/g,""),h=h.replace(/(\.\d*?)0+$/g,"$1"),h="."===h.charAt(0)?"0"+h:h,e=h.search(/\./),f=h.substring(e),-1===e||!f||f.length<=b)k=d+h;else if(g=h.split(""),g.length=e+b+1,f.charAt(b+1)-0<5)k=d+g.join("");else{for(i=g.length;i--;)if("."!==g[i]){if(g[i]=g[i]-0+1,10!==g[i])break;g[i]=j?0:""}else j=!0;k=d+(0>i?"1"+g.join(""):g.join(""))}return k=k.replace(/\.0*$/,"").replace(/^\-0$/,""),k?k:"0"}},b.Tools.fixedNumber=function(b){var c=typeof b,d=null;return"number"===c?d=Math.floor(b):"string"===c&&(b=a.trim(b),"auto"===b?d="auto":/\d+(\.\d*)?%/.test(b)?(d=b.replace(/\.\d*/,""),("%"===d||"0%"===d)&&(d=0)):/\d/.test(b.charAt(0))&&(d=parseInt(b.replace(/x/,"")))),d},cui.ajax=function(a){var b=a.type||"GET",c=a.dataType||"json",d=a.success||g.noop,e=a.error,f=a.scope||window,g=window.comtop.cQuery;g.ajax({url:a.url,type:b,data:a.data,dataType:c,success:function(a){"json"==c&&a.success===!1?e&&e.call?e.call(f,a):cui.error(a.exMessage):d.call(f,a)},error:function(a,b){e&&e.call?e.call(f):"parsererror"==b?cui.error("\u670d\u52a1\u5668\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"):"timeout"==b?cui.error("\u7f51\u7edc\u8fde\u63a5\u8d85\u65f6\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"):404==a.status?cui.error("\u8fde\u63a5\u670d\u52a1\u5668\u5931\u8d25\uff0c\u53ef\u80fd\u7f51\u7edc\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"):0==a.status||cui.error("\u670d\u52a1\u5f02\u5e38")}})},b.Browser.isIE8&&a("head").append('<style type="text/css">*{font-family: "Microsoft YaHei"!important}</style>')}(window.comtop.cQuery,window.comtop),window.comtop.icon={glass:"&#xf000;",music:"&#xf001;",search:"&#xf002;","envelope-o":"&#xf003;",heart:"&#xf004;",star:"&#xf005;","star-o":"&#xf006;",user:"&#xf007;",film:"&#xf008;","th-large":"&#xf009;",th:"&#xf00a;","th-list":"&#xf00b;",check:"&#xf00c;",remove:"&#xf00d;","search-plus":"&#xf00e;","search-minus":"&#xf010;","power-off":"&#xf011;",signal:"&#xf012;",cog:"&#xf013;","trash-o":"&#xf014;",home:"&#xf015;","file-o":"&#xf016;","clock-o":"&#xf017;",road:"&#xf018;",download:"&#xf019;","arrow-circle-o-down":"&#xf01a;","arrow-circle-o-up":"&#xf01b;",inbox:"&#xf01c;","play-circle-o":"&#xf01d;",repeat:"&#xf01e;",refresh:"&#xf021;","list-alt":"&#xf022;",lock:"&#xf023;",flag:"&#xf024;",headphones:"&#xf025;","volume-off":"&#xf026;","volume-down":"&#xf027;","volume-up":"&#xf028;",qrcode:"&#xf029;",barcode:"&#xf02a;",tag:"&#xf02b;",tags:"&#xf02c;",book:"&#xf02d;",bookmark:"&#xf02e;",print:"&#xf02f;",camera:"&#xf030;",font:"&#xf031;",bold:"&#xf032;",italic:"&#xf033;","text-height":"&#xf034;","text-width":"&#xf035;","align-left":"&#xf036;","align-center":"&#xf037;","align-right":"&#xf038;","align-justify":"&#xf039;",list:"&#xf03a;",outdent:"&#xf03b;",indent:"&#xf03c;","video-camera":"&#xf03d;","picture-o":"&#xf03e;",pencil:"&#xf040;","map-marker":"&#xf041;",adjust:"&#xf042;",tint:"&#xf043;","pencil-square-o":"&#xf044;","share-square-o":"&#xf045;","check-square-o":"&#xf046;",arrows:"&#xf047;","step-backward":"&#xf048;","fast-backward":"&#xf049;",backward:"&#xf04a;",play:"&#xf04b;",pause:"&#xf04c;",stop:"&#xf04d;",forward:"&#xf04e;","fast-forward":"&#xf050;","step-forward":"&#xf051;",eject:"&#xf052;","chevron-left":"&#xf053;","chevron-right":"&#xf054;","plus-circle":"&#xf055;","minus-circle":"&#xf056;","remove-circle":"&#xf057;","check-circle":"&#xf058;","question-circle":"&#xf059;","info-circle":"&#xf05a;",crosshairs:"&#xf05b;","remove-circle-o":"&#xf05c;","check-circle-o":"&#xf05d;",ban:"&#xf05e;","arrow-left":"&#xf060;","arrow-right":"&#xf061;","arrow-up":"&#xf062;","arrow-down":"&#xf063;",share:"&#xf064;",expand:"&#xf065;",compress:"&#xf066;",plus:"&#xf067;",minus:"&#xf068;",asterisk:"&#xf069;","exclamation-circle":"&#xf06a;",gift:"&#xf06b;",leaf:"&#xf06c;",fire:"&#xf06d;",eye:"&#xf06e;","eye-slash":"&#xf070;","exclamation-triangle":"&#xf071;",plane:"&#xf072;",calendar:"&#xf073;",random:"&#xf074;",comment:"&#xf075;",magnet:"&#xf076;","chevron-up":"&#xf077;","chevron-down":"&#xf078;",retweet:"&#xf079;","shopping-cart":"&#xf07a;",folder:"&#xf07b;","folder-open":"&#xf07c;","arrows-v":"&#xf07d;","arrows-h":"&#xf07e;","bar-chart-o":"&#xf080;","twitter-square":"&#xf081;","facebook-square":"&#xf082;","camera-retro":"&#xf083;",key:"&#xf084;",cogs:"&#xf085;",comments:"&#xf086;","thumbs-o-up":"&#xf087;","thumbs-o-down":"&#xf088;","star-half":"&#xf089;","heart-o":"&#xf08a;","sign-out":"&#xf08b;","linkedin-square":"&#xf08c;","thumb-tack":"&#xf08d;","external-link":"&#xf08e;","sign-in":"&#xf090;",trophy:"&#xf091;","github-square":"&#xf092;",upload:"&#xf093;","lemon-o":"&#xf094;",phone:"&#xf095;","square-o":"&#xf096;","bookmark-o":"&#xf097;","phone-square":"&#xf098;",twitter:"&#xf099;",facebook:"&#xf09a;",github:"&#xf09b;",unlock:"&#xf09c;","credit-card":"&#xf09d;",rss:"&#xf09e;","hdd-o":"&#xf0a0;",bullhorn:"&#xf0a1;",bell:"&#xf0f3;",certificate:"&#xf0a3;","hand-o-right":"&#xf0a4;","hand-o-left":"&#xf0a5;","hand-o-up":"&#xf0a6;","hand-o-down":"&#xf0a7;","arrow-circle-left":"&#xf0a8;","arrow-circle-right":"&#xf0a9;","arrow-circle-up":"&#xf0aa;","arrow-circle-down":"&#xf0ab;",globe:"&#xf0ac;",wrench:"&#xf0ad;",tasks:"&#xf0ae;",filter:"&#xf0b0;",briefcase:"&#xf0b1;","arrows-alt":"&#xf0b2;",users:"&#xf0c0;",link:"&#xf0c1;",cloud:"&#xf0c2;",flask:"&#xf0c3;",scissors:"&#xf0c4;","files-o":"&#xf0c5;",paperclip:"&#xf0c6;","floppy-o":"&#xf0c7;",square:"&#xf0c8;",bars:"&#xf0c9;","list-ul":"&#xf0ca;","list-ol":"&#xf0cb;",strikethrough:"&#xf0cc;",underline:"&#xf0cd;",table:"&#xf0ce;",magic:"&#xf0d0;",truck:"&#xf0d1;",pinterest:"&#xf0d2;","pinterest-square":"&#xf0d3;","google-plus-square":"&#xf0d4;","google-plus":"&#xf0d5;",money:"&#xf0d6;","caret-down":"&#xf0d7;","caret-up":"&#xf0d8;","caret-left":"&#xf0d9;","caret-right":"&#xf0da;",columns:"&#xf0db;",sort:"&#xf0dc;","sort-asc":"&#xf0dd;","sort-desc":"&#xf0de;",envelope:"&#xf0e0;",linkedin:"&#xf0e1;",undo:"&#xf0e2;",gavel:"&#xf0e3;",tachometer:"&#xf0e4;","comment-o":"&#xf0e5;","comments-o":"&#xf0e6;",bolt:"&#xf0e7;",sitemap:"&#xf0e8;",umbrella:"&#xf0e9;",clipboard:"&#xf0ea;","lightbulb-o":"&#xf0eb;",exchange:"&#xf0ec;","cloud-download":"&#xf0ed;","cloud-upload":"&#xf0ee;","user-md":"&#xf0f0;",stethoscope:"&#xf0f1;",suitcase:"&#xf0f2;","bell-o":"&#xf0a2;",coffee:"&#xf0f4;",cutlery:"&#xf0f5;","file-text-o":"&#xf0f6;","building-o":"&#xf0f7;","hospital-o":"&#xf0f8;",ambulance:"&#xf0f9;",medkit:"&#xf0fa;","fighter-jet":"&#xf0fb;",beer:"&#xf0fc;","h-square":"&#xf0fd;","plus-square":"&#xf0fe;","angle-double-left":"&#xf100;","angle-double-right":"&#xf101;","angle-double-up":"&#xf102;","angle-double-down":"&#xf103;","angle-left":"&#xf104;","angle-right":"&#xf105;","angle-up":"&#xf106;","angle-down":"&#xf107;",desktop:"&#xf108;",laptop:"&#xf109;",tablet:"&#xf10a;",mobile:"&#xf10b;","circle-o":"&#xf10c;","quote-left":"&#xf10d;","quote-right":"&#xf10e;",spinner:"&#xf110;",circle:"&#xf111;",reply:"&#xf112;","github-alt":"&#xf113;","folder-o":"&#xf114;","folder-open-o":"&#xf115;","smile-o":"&#xf118;","frown-o":"&#xf119;","meh-o":"&#xf11a;",gamepad:"&#xf11b;","keyboard-o":"&#xf11c;","flag-o":"&#xf11d;","flag-checkered":"&#xf11e;",terminal:"&#xf120;",code:"&#xf121;","reply-all":"&#xf122;","mail-reply-all":"&#xf122;","star-half-o":"&#xf123;","location-arrow":"&#xf124;",crop:"&#xf125;","code-fork":"&#xf126;","chain-broken":"&#xf127;",question:"&#xf128;",info:"&#xf129;",exclamation:"&#xf12a;",superscript:"&#xf12b;",subscript:"&#xf12c;",eraser:"&#xf12d;","puzzle-piece":"&#xf12e;",microphone:"&#xf130;","microphone-slash":"&#xf131;",shield:"&#xf132;","calendar-o":"&#xf133;","fire-extinguisher":"&#xf134;",rocket:"&#xf135;",maxcdn:"&#xf136;","chevron-circle-left":"&#xf137;","chevron-circle-right":"&#xf138;","chevron-circle-up":"&#xf139;","chevron-circle-down":"&#xf13a;",html5:"&#xf13b;",css3:"&#xf13c;",anchor:"&#xf13d;","unlock-alt":"&#xf13e;",bullseye:"&#xf140;","ellipsis-h":"&#xf141;","ellipsis-v":"&#xf142;","rss-square":"&#xf143;","play-circle":"&#xf144;",ticket:"&#xf145;","minus-square":"&#xf146;","minus-square-o":"&#xf147;","level-up":"&#xf148;","level-down":"&#xf149;","check-square":"&#xf14a;","pencil-square":"&#xf14b;","external-link-square":"&#xf14c;","share-square":"&#xf14d;",compass:"&#xf14e;","caret-square-o-down":"&#xf150;","caret-square-o-up":"&#xf151;","caret-square-o-right":"&#xf152;",eur:"&#xf153;",gbp:"&#xf154;",usd:"&#xf155;",inr:"&#xf156;",jpy:"&#xf157;",rub:"&#xf158;",krw:"&#xf159;",btc:"&#xf15a;",file:"&#xf15b;","file-text":"&#xf15c;","sort-alpha-asc":"&#xf15d;","sort-alpha-desc":"&#xf15e;","sort-amount-asc":"&#xf160;","sort-amount-desc":"&#xf161;","sort-numeric-asc":"&#xf162;","sort-numeric-desc":"&#xf163;","thumbs-up":"&#xf164;","thumbs-down":"&#xf165;","youtube-square":"&#xf166;",youtube:"&#xf167;",xing:"&#xf168;","xing-square":"&#xf169;","youtube-play":"&#xf16a;",dropbox:"&#xf16b;","stack-overflow":"&#xf16c;",instagram:"&#xf16d;",flickr:"&#xf16e;",adn:"&#xf170;",bitbucket:"&#xf171;","bitbucket-square":"&#xf172;",tumblr:"&#xf173;","tumblr-square":"&#xf174;","long-arrow-down":"&#xf175;","long-arrow-up":"&#xf176;","long-arrow-left":"&#xf177;","long-arrow-right":"&#xf178;",apple:"&#xf179;",windows:"&#xf17a;",android:"&#xf17b;",linux:"&#xf17c;",dribbble:"&#xf17d;",skype:"&#xf17e;",foursquare:"&#xf180;",trello:"&#xf181;",female:"&#xf182;",male:"&#xf183;",gittip:"&#xf184;","sun-o":"&#xf185;","moon-o":"&#xf186;",archive:"&#xf187;",bug:"&#xf188;",vk:"&#xf189;",weibo:"&#xf18a;",renren:"&#xf18b;",pagelines:"&#xf18c;","stack-exchange":"&#xf18d;","arrow-circle-o-right":"&#xf18e;","arrow-circle-o-left":"&#xf190;","caret-square-o-left":"&#xf191;","dot-circle-o":"&#xf192;",wheelchair:"&#xf193;","vimeo-square":"&#xf194;","try":"&#xf195;","plus-square-o":"&#xf196;"},function(a,b){"use strict";b.UI.Databind=b.UI.Base.extend({options:{uitype:"Databind",scope:"uitype",data:{}},data:{},initData:{},bindMapping:{},_init:function(){this.data=this.options.el.get(0),delete this.data.eventID,this.initData=a.extend(!0,{},this.data),this.bindMapping={}},setValue:function(a,b){for(var c in a)c.toLowerCase().indexOf("jquery")>=0||this.set(c,a[c],b)},getValue:function(){var b=a.extend({},this.data);for(var c in b)c.toLowerCase().indexOf("jquery")>=0&&delete b[c];return b},_change:function(a){var b=a.data.propName,c=a.data.el,d=cui(c).getValue(),e=this.data[b];d!=e&&(this.data[b]=d,this._triggerHandler("change",[b,e,d]))},addBind:function(c,d){this.bindMapping[d]=c;var e=cui(c);if(!b.UI.scan.textmode&&!e.options.textmode){var f=e.getValue();"undefined"==typeof this.data[d]&&("string"==typeof f&&""!==f?this.data[d]=f:"array"===a.type(f)&&0!==f.lenght&&(this.data[d]=f))}return e.bind("change",{propName:d,el:c},a.proxy(this._change,this)),"undefined"!=typeof this.data[d]&&(e.options.textmode?(e.options.value=this.data[d],e.setTextMode()):e.setValue(this.data[d],!0)),this},reset:function(){for(var a in this.initData)this.set(a,this.initData[a],!0)},setEmpty:function(){var a,b,c="";for(b in this.bindMapping)cui(this.bindMapping[b]).onValid();for(b in this.data)if(!(b.toLowerCase().indexOf("jquery")>=0)){switch(a=Object.prototype.toString.call(this.data[b]).match(/\[object\s([A-Za-z]{1,})\]/)[1].toLocaleLowerCase(),a=null===this.data[b]?"null":a){case"number":c="";break;case"string":c="";break;case"array":c=[];break;case"object":c={};break;case"null":c=null;break;case"undefined":c=void 0}this.set(b,c,!0)}},set:function(a,b,c){var d=this.data[a];if(b!=d||c){this.data[a]=b;var e=this.bindMapping[a],f=cui(e);e&&(f.options.textmode?(f.options.value=b,f.setTextMode()):f.setValue(b,!!c)),this._triggerHandler("change",[a,d,b])}},get:function(a){return this.data[a]},destroy:function(){this._super();for(var a in this.bindMapping)a&&cui(this.bindMapping[a]).unbind("change",null,this._change)}})}(window.comtop.cQuery,window.comtop),function(a,b){b.UI.Validate=b.UI.Base.extend({options:{uitype:"Validate",onValid:null,onInValid:null},invalidClass:"validate_invalid",messageClass:"validate_validation_message",invalidFieldClass:"validate_invalid_field",_create:function(){a.extend(this,this.options)},destroy:function(){var b=this,c=a.data(this.options.el,"validateEl")||[];a.each(c,function(a,c){var d=cui("#"+c.id),e=d.options.el;d.unbind("change",b._validateEvent),e.removeData("validateRule")}),a.removeData(this.options.el,"validateEl")},add:function(b,d,e){var f="string"==a.type(b)?cui("#"+b):b;if(f.options){var g=f.options.el,h=g.data("validateRule")||[],i=null;i=e||c[d]?{type:d,params:e||{}}:{type:"required",params:{m:d}},h.push(i),g.data("validateRule",h);var j=a.data(this.options.el,"validateEl")||[];this._contains(g[0],j)||(f.bind("change",this,this._validateEvent),j.push(g[0])),a.data(this.options.el,"validateEl",j)}},setTips:function(b,c){if(b&&c){var d="string"===a.type(b)?cui("#"+b):b;
if(d.options){var e=d.options.el,f=e.data("validateRule")||[],g=[],h=this;if("string"===a.type(c))return a.each(f,function(a){var b=f[a];"required"===b.type&&(b.params.m=c)}),void(d.options.el.attr("tip")&&this.validOneElement(d));a.isArray(c)?g=c:g.push(c),a.each(g,function(b){var c=g[b];a.each(f,function(a){var b=f[a];if(c.type===b.type){var d=h._getPropertyNames(c)[1]||"m";b.params[d]&&(b.params[d]=c[d])}})}),d.options.el.attr("tip")&&this.validOneElement(d)}}},_getPropertyNames:function(a){var b=[];for(key in a)b.push(key);return b},disValid:function(b,c){var d="string"==a.type(b)?cui("#"+b):b;if(d.options){var e=d.options.el;c?e.data("disValid","true"):e.removeData("disValid")}},_contains:function(b,c){var d=!1;return a.each(c,function(a,c){return b===c?void(d=!0):void 0}),d},remove:function(b,c){var d="string"==a.type(b)?cui("#"+b):b;if(d.options){var e=d.options.el,f=[];if(c){f=e.data("validateRule")||[];var g=-1;a.each(f,function(a,b){b.type==c&&(g=a)}),g>=0&&f.splice(g,1)}if(f.length<1){e.removeData("validateRule"),d.unbind("change",this,this._validateEvent);var h=a.data(this.options.el,"validateEl")||[],i=-1;a.each(h,function(a,b){b.id==e[0].id&&(i=a)}),i>=0&&h.splice(i,1),h.length<1?a.removeData(this.options.el,"validateEl"):a.data(this.options.el,"validateEl",h)}else e.data("validateRule",f)}},_validateEvent:function(a,b){var c=a.data;c._validate(this,!!b)},validAllElement:function(){return this._validElement(a.data(this.options.el,"validateEl"))},validOneElement:function(b){var c="string"==a.type(b)?cui("#"+b):b;return c.options?this._validate(c):!1},validElement:function(c,d,e){var f,g,h=[];switch(c=c||"ALL",c=c.toLocaleUpperCase(c)){case"AREA":var i=a(d),j=[],k=[],l=b.UI.componentList;for(f=0,g=l.length;g>f;f++)i.find(l[f].options.el).length&&"undefined"!=typeof l[f].options.textmode&&k.push(l[f].options.el[0]),l[f].options.el&&"undefined"!=typeof l[f].options.textmode&&j.push(l[f].options.el[0]);if(e="undefined"==typeof e?!0:!1)h=k;else{var m=!1;for(f=0,g=j.length;g>f;f++){for(var n=0,o=k.length;o>n;n++)if(a(k[n]).attr("id")==a(j[f]).attr("id")){m=!0;break}m||h.push(j[f]),m=!1}}break;case"CUSTOM":if(e="undefined"==typeof e?!0:!1)for(f=0,g=d.length;g>f;f++)h.push(a("#"+d[f])[0]);else{var l=b.UI.componentList,k=[];for(f=0,g=l.length;g>f;f++)l[f].options.el&&"undefined"!=typeof l[f].options.textmode&&k.push(l[f].options.el[0]);var m=!1;for(f=0,g=k.length;g>f;f++){for(var n=0,o=d.length;o>n;n++)if(a(k[f]).attr("id")==d[n]){m=!0;break}m||h.push(k[f]),m=!1}}break;case"ALL":default:h=a.data(this.options.el,"validateEl")}return this._validElement(h)},_validElement:function(b){b=b||[];for(var c=[],d=[],e=!0,f=0;f<b.length;f++){var g=b[f],h=cui(g);if("undefined"!=typeof h.options){var i=this._validate(h);i=a.extend(i,{id:g.id}),i.valid?c.push(i):(e=!1,d.push(i))}}return[d,c,e]},_validate:function(a,b){var c=a.options.el;if(b)return a.onValid(a),!1;if(!c[0].disabled){var d=null,e=a.options.el.data("disValid");d=e&&"true"==e?{valid:!0,message:""}:this._doValidate(a);var f=d.valid;return f?a.onValid&&!this.options.onValid?a.onValid(a):a.onValid||this.options.onValid?this.options.onValid.apply(this,[c]):this.onValid(c):a.onInValid&&!this.options.onInValid?a.onInValid(a,d.message):a.onInValid||this.options.onInValid?this.options.onInValid.apply(this,[c,d.message]):this.onInValid(c,d.message),d}},_doValidate:function(a){for(var b=a.options.el,c=!1,d=b.data("validateRule")||[],e=0;e<d.length;e++){var f=d[e],g=this._validateElement(a,f);if(c=!g.valid)return{valid:!1,message:g.message}}return{valid:!0,message:""}},_validateElement:function(a,b){var d=b.type,e=b.params,f=a.getValue(),g=!0,h="";try{c[d](f,e)}catch(i){h=i.message,g=!1}finally{return{valid:g,message:h}}},onInValid:function(a,b){this._insertMessage(a,this._createMessageSpan(b)),this._addFieldClass(a)},onValid:function(a){this._removeMessageAndFieldClass(a)},_createMessageSpan:function(b){return a("<span></span>").html(b)},_insertMessage:function(b,c){this._removeMessage(b),a(c).addClass(this.messageClass+(" "+this.invalidClass)),a(c).insertAfter(b)},_addFieldClass:function(b){this._removeFieldClass(b),a(b).addClass(this.invalidFieldClass)},_removeMessage:function(b){(nextEl=a(b).next("."+this.messageClass))&&a(nextEl).remove()},_removeFieldClass:function(b){a(b).removeClass(this.invalidFieldClass)},_removeMessageAndFieldClass:function(a){this._removeMessage(a),this._removeFieldClass(a)}});var c=null;b.UI.Validate.rule=c={required:function(b,d){var e=a.extend({m:"\u4e0d\u80fd\u4e3a\u7a7a!"},d||{});if((""===a.trim(b)||null===b||void 0===b)&&c.fail(e.m),e.emptyVal&&a.each(e.emptyVal,function(a,d){b==d&&c.fail(e.m)}),"array"===a.type(b)&&0===b.length)c.fail(e.m);else if("array"===a.type(b))for(var f=0;f<b.length;f++)if(""===a.trim(b[f])||null===b[f]||void 0===b[f]){c.fail(e.m);break}return!0},numeric:function(a,b){var d=a;if(""===a)return!0;var a=Number(a),b=b||{},e={notANumberMessage:b.notnm||"\u5fc5\u987b\u4e3a\u6570\u5b57!",notAnIntegerMessage:b.notim||"\u5fc5\u987b\u4e3a\u6574\u6570!",wrongNumberMessage:b.wrongm||"\u5fc5\u987b\u4e3a "+b.is+"!",tooLowMessage:b.minm||"\u5fc5\u987b\u5927\u4e8e "+b.min+"!",tooHighMessage:b.maxm||"\u5fc5\u987b\u5c0f\u4e8e "+b.max+"!",is:b.is||0==b.is?b.is:null,minimum:b.min||0==b.min?b.min:null,maximum:b.max||0==b.max?b.max:null,onlyInteger:b.oi||!1};switch(isFinite(a)||c.fail(e.notANumberMessage),e.onlyInteger&&!/^\d+$/.test(String(d))&&c.fail(e.notAnIntegerMessage),!0){case null!==e.is:a!=Number(e.is)&&c.fail(e.wrongNumberMessage);break;case null!==e.minimum&&null!==e.maximum:c.numeric(a,{minm:e.tooLowMessage,min:e.minimum}),c.numeric(a,{maxm:e.tooHighMessage,max:e.maximum});break;case null!==e.minimum:a<Number(e.minimum)&&c.fail(e.tooLowMessage);break;case null!==e.maximum:a>Number(e.maximum)&&c.fail(e.tooHighMessage)}return!0},format:function(b,d){var b=String(b);if(""==b)return!0;var e=a.extend({m:"\u4e0d\u7b26\u5408\u89c4\u5b9a\u683c\u5f0f!",pattern:/./,negate:!1},d||{});return e.pattern="string"==a.type(e.pattern)?new RegExp(e.pattern):e.pattern,e.negate||e.pattern.test(b)||c.fail(e.m),!0},email:function(b,d){if(""==b)return!0;var e=a.extend({m:"\u90ae\u7bb1\u683c\u5f0f\u8f93\u5165\u4e0d\u5408\u6cd5!"},d||{});return c.format(b,{m:e.m,pattern:/^([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})$/i}),!0},dateFormat:function(b,d){var e=a.extend({m:"\u65e5\u671f\u683c\u5f0f\u5fc5\u987b\u4e3ayyyy-MM-dd\u5f62\u5f0f\uff01"},d||{});return c.format(b,{m:e.m,pattern:/^((((((0[48])|([13579][26])|([2468][048]))00)|([0-9][0-9]((0[48])|([13579][26])|([2468][048]))))-02-29)|(((000[1-9])|(00[1-9][0-9])|(0[1-9][0-9][0-9])|([1-9][0-9][0-9][0-9]))-((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30))|(((0[1-9])|(1[0-2]))-((0[1-9])|(1[0-9])|(2[0-8]))))))$/i}),!0},length:function(a,b){var a=String(a),b=b||{},d={wrongLengthMessage:b.wrongm||"\u957f\u5ea6\u5fc5\u987b\u4e3a "+b.is+" \u5b57\u8282!",tooShortMessage:b.minm||"\u957f\u5ea6\u5fc5\u987b\u5927\u4e8e "+b.min+" \u5b57\u8282!",tooLongMessage:b.maxm||"\u957f\u5ea6\u5fc5\u987b\u5c0f\u4e8e "+b.max+" \u5b57\u8282!",is:b.is||0==b.is?b.is:null,minimum:b.min||0==b.min?b.min:null,maximum:b.max||0==b.max?b.max:null};switch(!0){case null!==d.is:a.replace(/[^\x00-\xff]/g,"xx").length!=Number(d.is)&&c.fail(d.wrongLengthMessage);break;case null!==d.minimum&&null!==d.maximum:c.length(a,{minm:d.tooShortMessage,min:d.minimum}),c.length(a,{maxm:d.tooLongMessage,max:d.maximum});break;case null!==d.minimum:a.replace(/[^\x00-\xff]/g,"xx").length<Number(d.minimum)&&c.fail(d.tooShortMessage);break;case null!==d.maximum:a.replace(/[^\x00-\xff]/g,"xx").length>Number(d.maximum)&&c.fail(d.tooLongMessage);break;default:throw new c.error("Validate::Length - \u957f\u5ea6\u9a8c\u8bc1\u5fc5\u987b\u63d0\u4f9b\u957f\u5ea6\u503c!")}return!0},inclusion:function(b,d){var e=a.extend({m:"",within:[],allowNull:!1,partialMatch:!1,caseSensitive:!0,negate:!1},d||{});if(e.m=e.m||b+"\u6ca1\u6709\u5305\u542b\u5728\u6570\u7ec4"+e.within.join(",")+"\u4e2d",e.allowNull&&!b)return!0;if(e.allowNull||b||c.fail(e.m),!e.caseSensitive){var f=[];a.each(e.within,function(a,b){"string"==typeof b&&(b=b.toLowerCase()),f.push(b)}),e.within=f,"string"==typeof b&&(b=b.toLowerCase())}var g=!1;return a.each(e.within,function(a,c){c==b&&(g=!0),e.partialMatch&&-1!=b.indexOf(c)&&(g=!0)}),(!e.negate&&!g||e.negate&&g)&&c.fail(e.m),!0},exclusion:function(b,d){var e=a.extend({m:"",within:[],allowNull:!1,partialMatch:!1,caseSensitive:!0},d||{});return e.m=e.m||b+"\u4e0d\u5e94\u8be5\u5728\u6570\u7ec4"+e.within.join(",")+"\u4e2d\uff01",e.negate=!0,c.inclusion(b,e),!0},confirmation:function(b,d){if(!d.match)throw new Error("Validate::Confirmation - \u4e0e\u4e4b\u5339\u914d\u7684\u5143\u7d20\u5f15\u7528\u6216\u5143\u7d20id\u5fc5\u987b\u88ab\u63d0\u4f9b!");var e=a.extend({m:"\u4e24\u8005\u4e0d\u4e00\u81f4!",match:null},d||{});if(e.match="string"==a.type(e.match)?cui("#"+e.match):e.match,!e.match||0==e.match.length)throw new Error("Validate::Confirmation - \u4e0e\u4e4b\u5339\u914d\u7684\u5143\u7d20\u5f15\u7528\u6216\u5143\u7d20\u4e0d\u5b58\u5728!");return b!=e.match.getValue()&&c.fail(e.m),!0},acceptance:function(b,d){var e=a.extend({m:"\u5fc5\u987b\u9009\u62e9!"},d||{});return b||c.fail(e.m),!0},custom:function(b,d){var e=a.extend({against:function(){return!0},args:{},m:"\u4e0d\u5408\u6cd5!"},d||{}),f=e.against;return"string"==a.type(f)&&(f=window[f]),f(b,e.args)||c.fail(e.m),!0},error:function(a){this.message=a,this.name="ValidationError"},fail:function(a){throw new c.error(a)}}}(window.comtop.cQuery,window.comtop),function(a,b){b.UI.Tip=b.UI.Base.extend({options:{uitype:"Tip",pointee:!0,position:"auto",live:!1,trigger:"hover",x:!1,maxWidth:150,fade:!1,opacity:1,tipEl:null,content_cls:".ctip-msg",close_cls:".ctip-x",tipType:"normal"},_init:function(){this.options.uid="tip_"+b.guid();var c=this.options;this.$el=a(c.el),this.$tipEl=c.tipEl?a(c.tipEl):this.$el,this.outTime=null,this._fixTitle()},_create:function(){"onload"===this.options.trigger?this.show():this._bindElEvent()},_createDOM:function(){var b=this,c=b.options,d=[];d.push('<div class="ctip" id="',c.uid,'">'),c.pointee&&d.push('<div class="ctip-arrow"><span class="tip-arrow-border">&#9670</span><span class="tip-arrow-bg">&#9670</span></div>'),d.push('<div class="ctip-content ',c.x===!0?"ctip-closed":"",'">'),c.x&&d.push('<a class="ctip-x cui-icon" href="#">&#xf00d;</a>'),d.push('<div class="ctip-msg"></div></div></div>'),a("body").append(d.join(""))},_bindElEvent:function(){var a=this,b=a.options,c="true"===b.live||b.live===!0?"live":"bind",d="hover"===b.trigger?"mouseenter":"click"===b.trigger?"click":"focus",e="hover"===b.trigger?"mouseleave":"click"===b.trigger?"":"blur";a.$el[c](d,function(){return a.outTime&&clearTimeout(a.outTime),a.show(a.$el.attr("tipType")),"hover"!==b.trigger?!1:void 0})[c](e,function(){return b.x||(a.outTime=setTimeout(function(){a.hide()},100)),"hover"!==b.trigger?!1:void 0})},_lazyCreate:function(){var b=this,c=b.options;this.created||(this._createDOM(),b.$tip=a("#"+c.uid),b._bindEvent(),b.created=!0)},_setMaxWidth:function(){var a=this.$tip,c=this.options;if(b.Browser.isIE6){var d=a.find(".ctip-msg").width()>c.maxWidth?c.maxWidth:"auto";b.Browser.isQM&&"auto"!=d&&(d+=16),a.children(".ctip-content").css("width",d)}else a.children(".ctip-content").css("maxWidth",c.maxWidth)},_bindEvent:function(){var a=this,b=this.options;b.x===!0?this.$tip.find(b.close_cls).bind("click",function(){return a.hide(),!1}):a.$tip.hover(function(){a.outTime&&clearTimeout(a.outTime)},function(){a.outTime=setTimeout(function(){a.hide()},200)})},_fixTitle:function(){this.$el.removeAttr("title")},_setPosition:function(){var c=this.$tip,d=this.$el,e=this.options,f=a.extend({},d.offset(),{width:d[0].offsetWidth,height:d[0].offsetHeight}),g=c[0].offsetWidth,h=c[0].offsetHeight,i=e.position;b.Browser.isIE&&g>e.maxWidth&&(c.width(e.maxWidth),g=c[0].offsetWidth,h=c[0].offsetHeight),"auto"===i&&(i=this._calAutoPosition(f));var j={};switch(i){case"t":j={left:f.left+f.width/2-g/2,top:f.top-h-5};break;case"b":j={left:f.left+f.width/2-g/2,top:f.top+f.height+5};break;case"l":j={left:f.left-g-5,top:f.top+f.height/2-h/2};break;case"r":j={left:f.left+f.width+5,top:f.top+f.height/2-h/2};break;case"lt":j={left:f.left,top:f.top-h-5};break;case"lb":j={left:f.left,top:f.top+f.height+5};break;case"rt":j={left:f.left+f.width-g,top:f.top-h-5};break;case"rb":j={left:f.left+f.width-g,top:f.top+f.height+5}}c.css(j).addClass("ctip-"+i)},_calAutoPosition:function(b){var c=a(window),d={width:c.width(),height:c.height()},e=b.top>a(document).scrollTop()+d.height/2?"t":"b",f="",g=this.options.maxWidth/2,h=b.left+b.width/2-a(document).scrollLeft(),i=d.width-h;return g>h?f="l":g>i&&(f="r"),f+e},getContent:function(){var a=this.options;return a.content?a.content:this.$tipEl.attr("tip")},setContent:function(a){var a=a||this.getContent();this.created||this._lazyCreate(),this.$tip.find(this.options.content_cls).html(a),this.$tipEl.attr("tip",a)},setType:function(a){var b=this,c=b.options;b.$tip.removeClass("ctip-"+c.tipType),b.$tip.addClass("ctip-"+a),c.tipType=a},show:function(b){var c=this;c._lazyCreate(),""!==a.trim(c.getContent())&&(c.setContent(),c.$tip[0].className="ctip",c.$tip.css({top:0,left:0,display:"block"}),c._setMaxWidth(),c._setPosition(),c.setType(b||c.options.tipType))},hide:function(){this.$tip&&this.$tip.hide()}}),cui.tipList={},cui.tip=function(c,d){d=d||{},d.el=a(c);var e=new b.UI.Tip(d);return cui.tipList[e.options.uid]=e,d.el.attr("tipID",e.options.uid),e}}(window.comtop.cQuery,window.comtop),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,this.each(h?function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}:function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(window.comtop.cQuery),function(a){a.cookie=function(b,c,d){if("undefined"==typeof c){var e=null;if(document.cookie&&""!=document.cookie)for(var f=document.cookie.split(";"),g=0;g<f.length;g++){var h=a.trim(f[g]);if(h.substring(0,b.length+1)==b+"="){e=decodeURIComponent(h.substring(b.length+1));break}}return e}d=d||{},null===c&&(c="",d=$.extend({},d),d.expires=-1);var i="";if(d.expires&&("number"==typeof d.expires||d.expires.toUTCString)){var j;"number"==typeof d.expires?(j=new Date,j.setTime(j.getTime()+24*d.expires*60*60*1e3)):j=d.expires,i="; expires="+j.toUTCString()}var k=d.path?"; path="+d.path:"",l=d.domain?"; domain="+d.domain:"",m=d.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(c),i,k,l,m].join("")}}(window.comtop.cQuery);var _canLog=!0,getDynaTreePersistData=null,DTNodeStatus_Error=-1,DTNodeStatus_Loading=1,DTNodeStatus_Ok=0;!function($){function getDtNodeFromElement(a){return alert("getDtNodeFromElement is deprecated"),$.ui.dynatree.getNode(a)}function noop(){}function _initDragAndDrop(a){var b=a.options.dnd||null;b&&(b.onDragStart||b.onDrop)&&_registerDnd(),b&&b.onDragStart&&a.$tree.draggable({addClasses:!1,appendTo:"body",containment:!1,delay:0,distance:4,revert:!1,scroll:!0,scrollSpeed:7,scrollSensitivity:10,connectToDynatree:!0,helper:function(a){var b=$.ui.dynatree.getNode(a.target);return b?b.tree._onDragEvent("helper",b,null,a,null,null):"<div></div>"},start:function(a,b){var c=b.helper.data("dtSourceNode");return!!c},_last:null}),b&&b.onDrop&&a.$tree.droppable({addClasses:!1,tolerance:"intersect",greedy:!1,_last:null})}var Class={create:function(){return function(){this.initialize.apply(this,arguments)}}},DynaTreeNode=Class.create();DynaTreeNode.prototype={initialize:function(a,b,c){this.parent=a,this.tree=b,"string"==typeof c&&(c={title:c}),void 0===c.key&&(c.key="_"+b._nodeCount++),this.data=$.extend({},$.ui.dynatree.nodedatadefaults,c),this.li=null,this.span=null,this.ul=null,this.childList=null,this._isLoading=!1,this.hasSubSel=!1,this.bExpanded=!1,this.bSelected=!1},toString:function(){return"DynaTreeNode<"+this.data.key+">: '"+this.data.title+"'"},toDict:function(a,b){var c=$.extend({},this.data);if(c.activate=this.tree.activeNode===this,c.focus=this.tree.focusNode===this,c.expand=this.bExpanded,c.select=this.bSelected,b&&b(c),a&&this.childList){c.children=[];for(var d=0,e=this.childList.length;e>d;d++)c.children.push(this.childList[d].toDict(!0,b))}else delete c.children;return c},disable:function(){this.data.disable=!0;var a=$(this.li);this.expand(!1),a.children().removeClass("dynatree-active").addClass("dynatree-node-disable"),a.find(".dynatree-checkbox").removeClass("dynatree-checkbox").addClass("dynatree-checkbox-disable"),a.find(".dynatree-radio").removeClass("dynatree-radio").addClass("dynatree-radio-disable")},enable:function(){this.data.disable=!1;var a=$(this.li);a.children().removeClass("dynatree-node-disable"),a.find(".dynatree-checkbox-disable").removeClass("dynatree-checkbox-disable").addClass("dynatree-checkbox"),a.find(".dynatree-radio-disable").removeClass("dynatree-radio-disable").addClass("dynatree-radio")},fromDict:function(a){var b=a.children;return void 0===b?(this.data=$.extend(this.data,a),void this.render()):(a=$.extend({},a),a.children=void 0,this.data=$.extend(this.data,a),this.removeChildren(),void this.addChild(b))},_getInnerHtml:function(){var a,b=this.tree,c=b.options,d=b.cache,e=this.getLevel(),f=this.data,g="";e<c.minExpandLevel?e>1&&(g+=d.tagConnector):g+=this.hasChildren()!==!1?d.tagExpander:d.tagConnector,c.checkbox&&f.hideCheckbox!==!0&&!f.isStatusNode&&(g+=d.tagCheckbox),f.icon?(a="/"===f.icon.charAt(0)?f.icon:c.imagePath+f.icon,g+="<img src='"+a+"' alt='' />"):f.icon===!1||(g+=d.tagNodeIcon);var h="";if(c.onCustomRender&&(h=c.onCustomRender.call(b,this)||""),!h){var i=f.tooltip?' title="'+f.tooltip.replace(/\"/g,"&quot;")+'"':"",j=f.href||"javascript:;";h=c.noLink||f.noLink?'<span style="display:inline-block;" class="'+c.classNames.title+'"'+i+">"+f.title+"</span>":'<a hidefocus="true" onclick="return false;"  href="'+j+'" class="'+c.classNames.title+'"'+i+">"+f.title+"</a>"}return g+=h},_fixOrder:function(){var a=this.childList;if(a&&this.ul)for(var b=this.ul.firstChild,c=0,d=a.length-1;d>c;c++){var e=a[c],f=b.dtnode;e!==f?(this.tree.logDebug("_fixOrder: mismatch at index "+c+": "+e+" != "+f),this.ul.insertBefore(e.li,f.li)):b=b.nextSibling}},render:function(a,b){var c=this.tree,d=this.parent,e=this.data,f=c.options,g=f.classNames,h=this.isLastSibling(),i=!1;if(d||this.ul){if(d){this.li||(i=!0,this.li=document.createElement("li"),this.li.dtnode=this,e.key&&f.generateIds&&(this.li.id=f.idPrefix+e.key),this.span=document.createElement("span"),this.span.className=g.title,this.li.appendChild(this.span),d.ul||(d.ul=document.createElement("ul"),d.ul.style.display="none",d.li.appendChild(d.ul)),d.ul.appendChild(this.li)),this.span.innerHTML=this._getInnerHtml();var j=[];j.push(g.node),e.isFolder&&j.push(g.folder),this.bExpanded&&j.push(g.expanded),this.hasChildren()!==!1&&j.push(g.hasChildren),e.isLazy&&null===this.childList&&j.push(g.lazy),h&&j.push(g.lastsib),this.bSelected&&j.push(g.selected),this.hasSubSel&&j.push(g.partsel),c.activeNode===this&&j.push(g.active),e.addClass&&j.push(e.addClass),e._firstNode&&(j.push("dynatree-first-node"),$(this.span).find(".dynatree-expander").addClass("dynatree-expander-first")),e.partSelect&&j.push(g.partsel),j.push(g.combinedExpanderPrefix+(this.bExpanded?"e":"c")+(e.isLazy&&null===this.childList?"d":"")+(h?"l":"")),j.push(g.combinedIconPrefix+(this.bExpanded?"e":"c")+(e.isFolder?"f":"")),this.span.className=j.join(" "),this.li.className=h?g.lastsib:"",e.disable&&this.disable(),e._customStyle&&$(this.span).find("a").attr("style",e._customStyle),"string"==typeof e.customerClass&&$(this.span).find("a").addClass(e.customerClass),i&&f.onCreate&&f.onCreate.call(c,this,this.span),f.onRender&&f.onRender.call(c,this,this.span)}}else this.li=this.span=null,this.ul=document.createElement("ul"),this.ul.className=f.minExpandLevel>1?g.container+" "+g.noConnector:g.container;if(this.li&&$(this.li).data("nodeData",this.data),(this.bExpanded||b===!0)&&$.isArray(this.childList)){for(var k=0,l=this.childList.length;l>k;k++)this.childList[k].render(!1,b);this._fixOrder()}if(this.ul){var m="none"===this.ul.style.display,n=!!this.bExpanded;if(a&&f.fx&&m===n){var o=f.fx.duration||200;$(this.ul).animate(f.fx,o)}else this.ul.style.display=this.bExpanded||!d?"":"none"}},getKeyPath:function(a){var b=[];return this.visitParents(function(a){a.parent&&b.unshift(a.data.key)},!a),"/"+b.join(this.tree.options.keyPathSeparator)},getParent:function(){return this.parent},getChildren:function(){return void 0===this.hasChildren()?void 0:this.childList},hasChildren:function(){return this.data.isLazy?null===this.childList||void 0===this.childList?void 0:0===this.childList.length?!1:1===this.childList.length&&this.childList[0].isStatusNode()?void 0:!0:!!this.childList},isFirstSibling:function(){var a=this.parent;return!a||a.childList[0]===this},isLastSibling:function(){var a=this.parent;return!a||a.childList[a.childList.length-1]===this},isLoading:function(){return!!this._isLoading},getPrevSibling:function(){if(!this.parent)return null;for(var a=this.parent.childList,b=1,c=a.length;c>b;b++)if(a[b]===this)return a[b-1];return null},getNextSibling:function(){if(!this.parent)return null;for(var a=this.parent.childList,b=0,c=a.length-1;c>b;b++)if(a[b]===this)return a[b+1];return null},isStatusNode:function(){return this.data.isStatusNode===!0},isChildOf:function(a){return this.parent&&this.parent===a},isDescendantOf:function(a){if(!a)return!1;for(var b=this.parent;b;){if(b===a)return!0;b=b.parent}return!1},countChildren:function(){var a=this.childList;if(!a)return 0;for(var b=a.length,c=0,d=b;d>c;c++){var e=a[c];b+=e.countChildren()}return b},sortChildren:function(a,b){var c=this.childList;if(c){if(a=a||function(a,b){var c=a.data.title.toLowerCase(),d=b.data.title.toLowerCase();return c===d?0:c>d?1:-1},c.sort(a),b)for(var d=0,e=c.length;e>d;d++)c[d].childList&&c[d].sortChildren(a,"$norender$");"$norender$"!==b&&this.render()}},_setStatusNode:function(a){var b=this.childList?this.childList[0]:null;if(a)b?(a.isStatusNode=!0,a.key="_statusNode",b.data=a,b.render()):(a.isStatusNode=!0,a.key="_statusNode",b=this.addChild(a));else if(b&&b.isStatusNode()){try{this.ul&&(this.ul.removeChild(b.li),b.li=null)}catch(c){}1===this.childList.length?this.childList=[]:this.childList.shift()}},setLazyNodeStatus:function(a,b){var c=b&&b.tooltip?b.tooltip:null,d=b&&b.info?" ("+b.info+")":"";switch(a){case DTNodeStatus_Ok:this._setStatusNode(null),$(this.span).removeClass(this.tree.options.classNames.nodeLoading),this._isLoading=!1,this.tree.options.autoFocus&&(this===this.tree.tnRoot&&this.childList&&this.childList.length>0?this.childList[0].focus():this.focus());break;case DTNodeStatus_Loading:this._isLoading=!0,$(this.span).addClass(this.tree.options.classNames.nodeLoading),this.parent||this._setStatusNode({title:this.tree.options.strings.loading+d,tooltip:c,addClass:this.tree.options.classNames.nodeWait});break;case DTNodeStatus_Error:this._isLoading=!1,this._setStatusNode({title:this.tree.options.strings.loadError+d,tooltip:c,addClass:this.tree.options.classNames.nodeError});break;default:throw"Bad LazyNodeStatus: '"+a+"'."}},_parentList:function(a,b){for(var c=[],d=b?this:this.parent;d;)(a||d.parent)&&c.unshift(d),d=d.parent;return c},getLevel:function(){for(var a=0,b=this.parent;b;)a++,b=b.parent;return a},_getTypeForOuterNodeEvent:function(a){var b=this.tree.options.classNames,c=a.target;if(c.className.indexOf(b.node)<0)return null;for(var d=a.pageX-c.offsetLeft,e=a.pageY-c.offsetTop,f=0,g=c.childNodes.length;g>f;f++){var h=c.childNodes[f],i=h.offsetLeft-c.offsetLeft,j=h.offsetTop-c.offsetTop,k=h.clientWidth,l=h.clientHeight;if(d>=i&&i+k>=d&&e>=j&&j+l>=e){if(h.className==b.title)return"title";if(h.className==b.expander)return"expander";if(h.className==b.checkbox)return"checkbox";if(h.className==b.nodeIcon)return"icon"}}return"prefix"},getEventTargetType:function(a){var b=a&&a.target?a.target.className:"",c=this.tree.options.classNames;return b===c.title?"title":-1!==b.indexOf(c.expander)?"expander":b===c.checkbox?"checkbox":b===c.nodeIcon?"icon":b===c.empty||b===c.vline||b===c.connector?"prefix":b.indexOf(c.node)>=0?this._getTypeForOuterNodeEvent(a):null},isVisible:function(){for(var a=this._parentList(!0,!1),b=0,c=a.length;c>b;b++)if(!a[b].bExpanded)return!1;return!0},makeVisible:function(){for(var a=this._parentList(!0,!1),b=0,c=a.length;c>b;b++)a[b]._expand(!0)},focus:function(){this.makeVisible();try{$(this.span).find(">a").focus()}catch(a){}},isFocused:function(){return this.tree.tnFocused===this},_activate:function(a,b,c){this.tree.logDebug("dtnode._activate(%o, fireEvents=%o) - %o",a,b,this);var d=this.tree.options;if(!(this.data.isStatusNode||b&&d.onQueryActivate&&d.onQueryActivate.call(this.tree,a,this)===!1))if(a){if(this.tree.activeNode){if(this.tree.activeNode===this&&!c)return;this.tree.activeNode.deactivate()}d.activeVisible&&this.makeVisible(),this.tree.activeNode=this,d.persist&&$.cookie(d.cookieId+"-active",this.data.key,d.cookie),this.tree.persistence.activeKey=this.data.key,$(this.span).addClass(d.classNames.active),b&&d.onActivate&&d.onActivate.call(this.tree,this)}else if(this.tree.activeNode===this){if(d.onQueryActivate&&d.onQueryActivate.call(this.tree,!1,this)===!1)return;$(this.span).removeClass(d.classNames.active),d.persist&&$.cookie(d.cookieId+"-active","",d.cookie),this.tree.persistence.activeKey=null,this.tree.activeNode=null,b&&d.onDeactivate&&d.onDeactivate.call(this.tree,this)}},activate:function(a){this._activate(!0,!0,a)},activateSilently:function(){this._activate(!0,!1)},deactivate:function(){this._activate(!1,!0)},isActive:function(){return this.tree.activeNode===this},_userActivate:function(){var a=!0,b=!1;if(this.data.isFolder)switch(this.tree.options.clickFolderMode){case 2:a=!1,b=!0;break;case 3:a=b=!0}null===this.parent&&(b=!1),b&&this.toggleExpand(),a&&this.activate(this.tree.options.reactive)
},_setSubSel:function(a){a?(this.hasSubSel=!0,$(this.span).addClass(this.tree.options.classNames.partsel)):(this.hasSubSel=!1,$(this.span).removeClass(this.tree.options.classNames.partsel))},_updatePartSelectionState:function(){var a,b=this.bSelected;if(!this.hasChildren())return a=this.bSelected&&!this.data.unselectable&&!this.data.isStatusNode,this._setSubSel(!1),a;var c,d,e=this.childList,f=!0,g=!0;for(c=0,d=e.length;d>c;c++){var h=e[c],i=h._updatePartSelectionState();i!==!1&&(g=!1),i!==!0&&(f=!1)}return a=f?!0:g?!1:void 0,this._setSubSel(void 0===a),this.bSelected=a===!0,4==this.tree.options.selectMode&&(this.bSelected=b),a},_fixSelectionState:function(a){var b,c,d;if(this.bSelected)for(this.visit(function(a){a.parent._setSubSel(!0),a.data.unselectable||a._select(!0,!1,!1)}),b=this.parent;b;){b._setSubSel(!0);var e=!0;for(c=0,d=b.childList.length;d>c;c++){var f=b.childList[c];if(!f.bSelected&&!f.data.isStatusNode&&!f.data.unselectable){e=!1;break}}e&&!a&&b._select(!0,!1,!1),b=b.parent}else for(this._setSubSel(!1),this.visit(function(a){a._setSubSel(!1),a._select(!1,!1,!1)}),b=this.parent;b;){b._select(!1,!1,!1);var g=!1;for(c=0,d=b.childList.length;d>c;c++)if(b.childList[c].bSelected||b.childList[c].hasSubSel){g=!0;break}b._setSubSel(g),b=b.parent}},_select:function(a,b,c){var d=this.tree.options;this.data.isStatusNode||this.bSelected!==a&&(b&&d.onQuerySelect&&d.onQuerySelect.call(this.tree,a,this)===!1||(1==d.selectMode&&a&&this.tree.visit(function(a){return a.bSelected?(a._select(!1,!1,!1),!1):void 0}),this.bSelected=a,c&&3===d.selectMode&&this._fixSelectionState(),c&&4===d.selectMode&&this._fixSelectionState(!0),a?(d.persist&&this.tree.persistence.addSelect(this.data.key),$(this.span).addClass(d.classNames.selected),b&&d.onSelect&&d.onSelect.call(this.tree,!0,this)):(d.persist&&this.tree.persistence.clearSelect(this.data.key),$(this.span).removeClass(d.classNames.selected),b&&d.onSelect&&d.onSelect.call(this.tree,!1,this))))},select:function(a){return this.data.unselectable?this.bSelected:this._select(a!==!1,!0,!0)},toggleSelect:function(){return this.select(!this.bSelected)},isSelected:function(){return this.bSelected},isLazy:function(){return!!this.data.isLazy},_loadContent:function(){try{var a=this.tree.options;this.tree.logDebug("_loadContent: start - %o",this),this.setLazyNodeStatus(DTNodeStatus_Loading),!0===a.onLazyRead.call(this.tree,this)&&(this.setLazyNodeStatus(DTNodeStatus_Ok),this.tree.logDebug("_loadContent: succeeded - %o",this))}catch(b){this.tree.logWarning("_loadContent: failed - %o",b),this.setLazyNodeStatus(DTNodeStatus_Error,{tooltip:""+b})}},_expand:function(a,b){if(this.bExpanded===a)return void this.tree.logDebug("dtnode._expand(%o) IGNORED - %o",a,this);this.tree.logDebug("dtnode._expand(%o) - %o",a,this);var c=this.tree.options;if(!a&&this.getLevel()<c.minExpandLevel)return void this.tree.logDebug("dtnode._expand(%o) prevented collapse - %o",a,this);if(!c.onQueryExpand||c.onQueryExpand.call(this.tree,a,this)!==!1){this.bExpanded=a,c.persist&&(a?this.tree.persistence.addExpand(this.data.key):this.tree.persistence.clearExpand(this.data.key));var d=!(this.data.isLazy&&null===this.childList||this._isLoading||b);if(this.render(d),this.bExpanded&&this.parent&&c.autoCollapse)for(var e=this._parentList(!1,!0),f=0,g=e.length;g>f;f++)e[f].collapseSiblings();return c.activeVisible&&this.tree.activeNode&&!this.tree.activeNode.isVisible()&&this.tree.activeNode.deactivate(),a&&this.data.isLazy&&null===this.childList&&!this._isLoading?void this._loadContent():void(c.onExpand&&c.onExpand.call(this.tree,a,this))}},isExpanded:function(){return this.bExpanded},expand:function(a){a=a!==!1,(this.childList||this.data.isLazy||!a)&&(null!==this.parent||a)&&this._expand(a)},scheduleAction:function(a,b){this.tree.timer&&(clearTimeout(this.tree.timer),this.tree.logDebug("clearTimeout(%o)",this.tree.timer));var c=this;switch(a){case"cancel":break;case"expand":this.tree.timer=setTimeout(function(){c.tree.logDebug("setTimeout: trigger expand"),c.expand(!0)},b);break;case"activate":this.tree.timer=setTimeout(function(){c.tree.logDebug("setTimeout: trigger activate"),c.activate()},b);break;default:throw"Invalid mode "+a}this.tree.logDebug("setTimeout(%s, %s): %s",a,b,this.tree.timer)},toggleExpand:function(){this.expand(!this.bExpanded)},collapseSiblings:function(){if(null!==this.parent)for(var a=this.parent.childList,b=0,c=a.length;c>b;b++)a[b]!==this&&a[b].bExpanded&&a[b]._expand(!1)},_onClick:function(a){var b=this.getEventTargetType(a);if("expander"===b)this.toggleExpand();else if("checkbox"===b)this.toggleSelect();else{this._userActivate();var c=this.span.getElementsByTagName("a");if(!c[0])return!0}},_onDblClick:function(){},_onKeydown:function(a){var b,c=!0;switch(a.which){case 107:case 187:this.bExpanded||this.toggleExpand();break;case 109:case 189:this.bExpanded&&this.toggleExpand();break;case 32:this._userActivate();break;case 8:this.parent&&this.parent.focus();break;case 37:this.bExpanded?(this.toggleExpand(),this.focus()):this.parent&&this.parent.parent&&this.parent.focus();break;case 39:this.bExpanded||!this.childList&&!this.data.isLazy?this.childList&&this.childList[0].focus():(this.toggleExpand(),this.focus());break;case 38:for(b=this.getPrevSibling();b&&b.bExpanded&&b.childList;)b=b.childList[b.childList.length-1];!b&&this.parent&&this.parent.parent&&(b=this.parent),b&&b.focus();break;case 40:if(this.bExpanded&&this.childList)b=this.childList[0];else for(var d=this._parentList(!1,!0),e=d.length-1;e>=0&&!(b=d[e].getNextSibling());e--);b&&b.focus();break;default:c=!1}c&&a.preventDefault()},_onKeypress:function(){},_onFocus:function(a){var b=this.tree.options;"blur"==a.type||"focusout"==a.type?(b.onBlur&&b.onBlur.call(this.tree,this),this.tree.tnFocused&&$(this.tree.tnFocused.span).removeClass(b.classNames.focused),this.tree.tnFocused=null,b.persist&&$.cookie(b.cookieId+"-focus","",b.cookie)):("focus"==a.type||"focusin"==a.type)&&(this.tree.tnFocused&&this.tree.tnFocused!==this&&(this.tree.logDebug("dtnode.onFocus: out of sync: curFocus: %o",this.tree.tnFocused),$(this.tree.tnFocused.span).removeClass(b.classNames.focused)),this.tree.tnFocused=this,b.onFocus&&b.onFocus.call(this.tree,this),$(this.tree.tnFocused.span).addClass(b.classNames.focused),b.persist&&$.cookie(b.cookieId+"-focus",this.data.key,b.cookie))},visit:function(a,b){var c=!0;if(b===!0&&(c=a(this),c===!1||"skip"==c))return c;if(this.childList)for(var d=0,e=this.childList.length;e>d&&(c=this.childList[d].visit(a,!0),c!==!1);d++);return c},visitParents:function(a,b){if(b&&a(this)===!1)return!1;for(var c=this.parent;c;){if(a(c)===!1)return!1;c=c.parent}return!0},remove:function(){if(this===this.tree.root)throw"Cannot remove system root";this.parent.removeChild(this),this.parent.render()},removeChild:function(a){var b=this.childList;if(1==b.length){if(a!==b[0])throw"removeChild: invalid child";return this.removeChildren(),void $(this.ul).addClass("tree-hide-ul")}a===this.tree.activeNode&&a.deactivate(),this.tree.options.persist&&(a.bSelected&&this.tree.persistence.clearSelect(a.data.key),a.bExpanded&&this.tree.persistence.clearExpand(a.data.key)),a.removeChildren(!0),this.ul&&a.li&&this.ul.removeChild(a.li);for(var c=0,d=b.length;d>c;c++)if(b[c]===a){this.childList.splice(c,1);break}},removeChildren:function(a,b){this.tree.logDebug("%s.removeChildren(%o)",this,a);var c=this.tree,d=this.childList;if(d){for(var e=0,f=d.length;f>e;e++){var g=d[e];g!==c.activeNode||b||g.deactivate(),this.tree.options.persist&&!b&&(g.bSelected&&this.tree.persistence.clearSelect(g.data.key),g.bExpanded&&this.tree.persistence.clearExpand(g.data.key)),g.removeChildren(!0,b),this.ul&&$("li",$(this.ul)).remove()}this.childList=null}a||(this._isLoading=!1,this.render())},setTitle:function(a){this.fromDict({title:a})},reload:function(){throw"Use reloadChildren() instead"},reloadChildren:function(a){if(null===this.parent)throw"Use tree.reload() instead";if(!this.data.isLazy)throw"node.reloadChildren() requires lazy nodes.";if(a){var b=this,c="nodeLoaded.dynatree."+this.tree.$tree.attr("id")+"."+this.data.key;this.tree.$tree.bind(c,function(d,e,f){if(b.tree.$tree.unbind(c),b.tree.logDebug("loaded %o, %o, %o",d,e,f),e!==b)throw"got invalid load event";a.call(b.tree,e,f)})}this.removeChildren(),this._loadContent()},_loadKeyPath:function(a,b){var c=this.tree;if(c.logDebug("%s._loadKeyPath(%s)",this,a),""===a)throw"Key path must not be empty";var d=a.split(c.options.keyPathSeparator);if(""===d[0])throw"Key path must be relative (don't start with '/')";var e=d.shift();if(this.childList)for(var f=0,g=this.childList.length;g>f;f++){var h=this.childList[f];if(h.data.key===e){if(0===d.length)b.call(c,h,"ok");else if(!h.data.isLazy||null!==h.childList&&void 0!==h.childList)b.call(c,h,"loaded"),h._loadKeyPath(d.join(c.options.keyPathSeparator),b);else{c.logDebug("%s._loadKeyPath(%s) -> reloading %s...",this,a,h);var i=this;h.reloadChildren(function(e,f){f?(c.logDebug("%s._loadKeyPath(%s) -> reloaded %s.",e,a,e),b.call(c,h,"loaded"),e._loadKeyPath(d.join(c.options.keyPathSeparator),b)):(c.logWarning("%s._loadKeyPath(%s) -> reloadChildren() failed.",i,a),b.call(c,h,"error"))})}return}}b.call(c,void 0,"notfound",e,0===d.length),c.logWarning("Node not found: "+e)},resetLazy:function(){if(null===this.parent)throw"Use tree.reload() instead";if(!this.data.isLazy)throw"node.resetLazy() requires lazy nodes.";this.expand(!1),this.removeChildren()},_addChildNode:function(a,b){var c=this.tree,d=c.options,e=c.persistence;if(a.parent=this,null===this.childList?this.childList=[]:b||this.childList.length>0&&$(this.childList[this.childList.length-1].span).removeClass(d.classNames.lastsib),b){var f=$.inArray(b,this.childList);if(0>f)throw"<beforeNode> must be a child of <this>";this.childList.splice(f,0,a)}else this.childList.push(a);var g=c.isInitializing();d.persist&&e.cookiesFound&&g?(e.activeKey===a.data.key&&(c.activeNode=a),e.focusedKey===a.data.key&&(c.focusNode=a),a.bExpanded=$.inArray(a.data.key,e.expandedKeyList)>=0,a.bSelected=$.inArray(a.data.key,e.selectedKeyList)>=0):(a.data.activate&&(c.activeNode=a,d.persist&&(e.activeKey=a.data.key)),a.data.focus&&(c.focusNode=a,d.persist&&(e.focusedKey=a.data.key)),a.bExpanded=a.data.expand===!0,a.bExpanded&&d.persist&&e.addExpand(a.data.key),a.bSelected=a.data.select===!0,a.bSelected&&d.persist&&e.addSelect(a.data.key));var h=a.getLevel();if((d.minExpandLevel>=h||d.defaultExpandLevel>=h)&&(this.bExpanded=!0),a.bSelected&&3==d.selectMode)for(var i=this;i;)i.hasSubSel||i._setSubSel(!0),i=i.parent;return c.bEnableUpdate&&this.render(),a},addChild:function(a,b){if($(this.ul).removeClass("tree-hide-ul"),"string"==typeof a)throw"Invalid data type for "+a;if(a&&0!==a.length){if(a instanceof DynaTreeNode)return this._addChildNode(a,b);a.length||(a=[a]);for(var c=this.tree.enableUpdate(!1),d=null,e=0,f=a.length;f>e;e++){var g=a[e],h=this._addChildNode(new DynaTreeNode(this,this.tree,g),b);d||(d=h),g.children&&h.addChild(g.children,null)}return this.tree.enableUpdate(c),d}},append:function(a){return this.tree.logWarning("node.append() is deprecated (use node.addChild() instead)."),this.addChild(a,null)},appendAjax:function(a){var b=this;if(this.removeChildren(!1,!0),this.setLazyNodeStatus(DTNodeStatus_Loading),a.debugLazyDelay){var c=a.debugLazyDelay;return a.debugLazyDelay=0,this.tree.logInfo("appendAjax: waiting for debugLazyDelay "+c),void setTimeout(function(){b.appendAjax(a)},c)}var d=a.success,e=a.error,f="nodeLoaded.dynatree."+this.tree.$tree.attr("id")+"."+this.data.key,g=$.extend({},this.tree.options.ajaxDefaults,a,{success:function(a,c){var e=b.tree.phase;b.tree.phase="init",g.postProcess?a=g.postProcess.call(this,a,this.dataType):a&&a.hasOwnProperty("d")&&(a="string"==typeof a.d?$.parseJSON(a.d):a.d),$.isArray(a)&&0===a.length||b.addChild(a,null),b.tree.phase="postInit",d&&d.call(g,b,a,c),b.tree.logDebug("trigger "+f),b.tree.$tree.trigger(f,[b,!0]),b.tree.phase=e,b.setLazyNodeStatus(DTNodeStatus_Ok),$.isArray(a)&&0===a.length&&(b.childList=[],b.render())},error:function(a,c,d){b.tree.logWarning("appendAjax failed:",c,":\n",a,"\n",d),e&&e.call(g,b,a,c,d),b.tree.$tree.trigger(f,[b,!1]),b.setLazyNodeStatus(DTNodeStatus_Error,{info:c,tooltip:""+d})}});$.ajax(g)},move:function(a,b){var c;if(this!==a){if(!this.parent)throw"Cannot move system root";(void 0===b||"over"==b)&&(b="child");var d=this.parent,e="child"===b?a:a.parent;if(e.isDescendantOf(this))throw"Cannot move a node to it's own descendant";if(1==this.parent.childList.length)this.parent.childList=this.parent.data.isLazy?[]:null,this.parent.bExpanded=!1;else{if(c=$.inArray(this,this.parent.childList),0>c)throw"Internal error";this.parent.childList.splice(c,1)}if(this.parent.ul&&this.parent.ul.removeChild(this.li),this.parent=e,e.hasChildren())switch(b){case"child":e.childList.push(this);break;case"before":if(c=$.inArray(a,e.childList),0>c)throw"Internal error";e.childList.splice(c,0,this);break;case"after":if(c=$.inArray(a,e.childList),0>c)throw"Internal error";e.childList.splice(c+1,0,this);break;default:throw"Invalid mode "+b}else e.childList=[this];if(e.ul||(e.ul=document.createElement("ul"),e.ul.style.display="none",e.li.appendChild(e.ul)),this.li&&e.ul.appendChild(this.li),this.tree!==a.tree)throw this.visit(function(b){b.tree=a.tree},null,!0),"Not yet implemented.";var f=function(a){for(var b=0,c=a.length;c>b;b++)a[b].data._firstNode=0==b?!0:!1};this.data._firstNode=!1,d.isDescendantOf(e)||(null===d.parent&&f(d.childList),d.render()),e.isDescendantOf(d)||(null===d.parent&&f(d.childList),e.render())}},lastentry:void 0};var DynaTreeStatus=Class.create();DynaTreeStatus._getTreePersistData=function(a,b){var c=new DynaTreeStatus(a,b);return c.read(),c.toDict()},getDynaTreePersistData=DynaTreeStatus._getTreePersistData,DynaTreeStatus.prototype={initialize:function(a,b){void 0===a&&(a=$.ui.dynatree.prototype.options.cookieId),b=$.extend({},$.ui.dynatree.prototype.options.cookie,b),this.cookieId=a,this.cookieOpts=b,this.cookiesFound=void 0,this.activeKey=null,this.focusedKey=null,this.expandedKeyList=null,this.selectedKeyList=null},_log:function(){Array.prototype.unshift.apply(arguments,["debug"]),_log.apply(this,arguments)},read:function(){this.cookiesFound=!1;var a=$.cookie(this.cookieId+"-active");this.activeKey=null===a?"":a,null!==a&&(this.cookiesFound=!0),a=$.cookie(this.cookieId+"-focus"),this.focusedKey=null===a?"":a,null!==a&&(this.cookiesFound=!0),a=$.cookie(this.cookieId+"-expand"),this.expandedKeyList=null===a?[]:a.split(","),null!==a&&(this.cookiesFound=!0),a=$.cookie(this.cookieId+"-select"),this.selectedKeyList=null===a?[]:a.split(","),null!==a&&(this.cookiesFound=!0)},write:function(){$.cookie(this.cookieId+"-active",null===this.activeKey?"":this.activeKey,this.cookieOpts),$.cookie(this.cookieId+"-focus",null===this.focusedKey?"":this.focusedKey,this.cookieOpts),$.cookie(this.cookieId+"-expand",null===this.expandedKeyList?"":this.expandedKeyList.join(","),this.cookieOpts),$.cookie(this.cookieId+"-select",null===this.selectedKeyList?"":this.selectedKeyList.join(","),this.cookieOpts)},addExpand:function(a){$.inArray(a,this.expandedKeyList)<0&&(this.expandedKeyList.push(a),$.cookie(this.cookieId+"-expand",this.expandedKeyList.join(","),this.cookieOpts))},clearExpand:function(a){var b=$.inArray(a,this.expandedKeyList);b>=0&&(this.expandedKeyList.splice(b,1),$.cookie(this.cookieId+"-expand",this.expandedKeyList.join(","),this.cookieOpts))},addSelect:function(a){$.inArray(a,this.selectedKeyList)<0&&(this.selectedKeyList.push(a),$.cookie(this.cookieId+"-select",this.selectedKeyList.join(","),this.cookieOpts))},clearSelect:function(a){var b=$.inArray(a,this.selectedKeyList);b>=0&&(this.selectedKeyList.splice(b,1),$.cookie(this.cookieId+"-select",this.selectedKeyList.join(","),this.cookieOpts))},isReloading:function(){return this.cookiesFound===!0},toDict:function(){return{cookiesFound:this.cookiesFound,activeKey:this.activeKey,focusedKey:this.activeKey,expandedKeyList:this.expandedKeyList,selectedKeyList:this.selectedKeyList}},lastentry:void 0};var DynaTree=Class.create();DynaTree.version="$Version:$",DynaTree.prototype={initialize:function(a){this.phase="init",this.$widget=a,this.options=a.options,this.$tree=a.element,this.timer=null,this.divTree=this.$tree.get(0),_initDragAndDrop(this)},_load:function(a){var b=(this.$widget,this.options);this.bEnableUpdate=!0,this._nodeCount=1,this.activeNode=null,this.focusNode=null,void 0!==b.rootVisible&&this.logWarning("Option 'rootVisible' is no longer supported."),b.minExpandLevel<1&&(this.logWarning("Option 'minExpandLevel' must be >= 1."),b.minExpandLevel=1),b.classNames!==$.ui.dynatree.prototype.options.classNames&&(b.classNames=$.extend({},$.ui.dynatree.prototype.options.classNames,b.classNames)),b.ajaxDefaults!==$.ui.dynatree.prototype.options.ajaxDefaults&&(b.ajaxDefaults=$.extend({},$.ui.dynatree.prototype.options.ajaxDefaults,b.ajaxDefaults)),b.dnd!==$.ui.dynatree.prototype.options.dnd&&(b.dnd=$.extend({},$.ui.dynatree.prototype.options.dnd,b.dnd)),this.persistence=new DynaTreeStatus(b.cookieId,b.cookie),b.persist&&($.cookie||_log("warn","Please include jquery.cookie.js to use persistence."),this.persistence.read()),this.logDebug("DynaTree.persistence: %o",this.persistence.toDict()),this.cache={tagEmpty:"<span class='"+b.classNames.empty+"'></span>",tagVline:"<span class='"+b.classNames.vline+"'></span>",tagExpander:"<span class='"+b.classNames.expander+"'></span>",tagConnector:"<span class='"+b.classNames.connector+"'></span>",tagNodeIcon:"<span class='"+b.classNames.nodeIcon+"'></span>",tagCheckbox:"<span class='"+b.classNames.checkbox+"'></span>",lastentry:void 0},(b.children||b.initAjax&&b.initAjax.url||b.initId)&&$(this.divTree).empty();var c=this.$tree.find(">ul:first").hide();this.tnRoot=new DynaTreeNode(null,this,{}),this.tnRoot.bExpanded=!0,this.tnRoot.render(),this.divTree.appendChild(this.tnRoot.ul);var d=this.tnRoot,e=b.persist&&this.persistence.isReloading(),f=!1,g=this.enableUpdate(!1);this.logDebug("Dynatree._load(): read tree structure..."),b.children?d.addChild(b.children):b.initAjax&&b.initAjax.url?(f=!0,d.data.isLazy=!0,this._reloadAjax(a)):b.initId?this._createFromTag(d,$("#"+b.initId)):(this._createFromTag(d,c),c.remove()),this._checkConsistency(),f||3!=b.selectMode&&4!=b.selectMode||d._updatePartSelectionState(),this.logDebug("Dynatree._load(): render nodes..."),this.enableUpdate(g),this.logDebug("Dynatree._load(): bind events..."),this.$widget.bind(),this.logDebug("Dynatree._load(): postInit..."),this.phase="postInit",b.persist&&this.persistence.write(),this.focusNode&&this.focusNode.isVisible()&&(this.logDebug("Focus on init: %o",this.focusNode),this.focusNode.focus()),f||(b.onPostInit&&b.onPostInit.call(this,e,!1),a&&a.call(this,"ok")),this.phase="idle"},_reloadAjax:function(a){var b=this.options;if(!b.initAjax||!b.initAjax.url)throw"tree.reload() requires 'initAjax' mode.";var c=this.persistence,d=$.extend({},b.initAjax);d.addActiveKey&&(d.data.activeKey=c.activeKey),d.addFocusedKey&&(d.data.focusedKey=c.focusedKey),d.addExpandedKeyList&&(d.data.expandedKeyList=c.expandedKeyList.join(",")),d.addSelectedKeyList&&(d.data.selectedKeyList=c.selectedKeyList.join(",")),d.success&&this.logWarning("initAjax: success callback is ignored; use onPostInit instead."),d.error&&this.logWarning("initAjax: error callback is ignored; use onPostInit instead.");var e=c.isReloading();d.success=function(c){3==b.selectMode&&c.tree.tnRoot._updatePartSelectionState(),b.onPostInit&&b.onPostInit.call(c.tree,e,!1),a&&a.call(c.tree,"ok")},d.error=function(c,d,f,g){b.onPostInit&&b.onPostInit.call(c.tree,e,!0,d,f,g),a&&a.call(c.tree,"error",d,f,g)},this.logDebug("Dynatree._init(): send Ajax request..."),this.tnRoot.appendAjax(d)},toString:function(){return"Dynatree '"+this.$tree.attr("id")+"'"},toDict:function(){return this.tnRoot.toDict(!0)},serializeArray:function(a){for(var b=this.getSelectedNodes(a),c=this.$tree.attr("name")||this.$tree.attr("id"),d=[],e=0,f=b.length;f>e;e++)d.push({name:c,value:b[e].data.key});return d},getPersistData:function(){return this.persistence.toDict()},logDebug:function(){this.options.debugLevel>=2&&(Array.prototype.unshift.apply(arguments,["debug"]),_log.apply(this,arguments))},logInfo:function(){this.options.debugLevel>=1&&(Array.prototype.unshift.apply(arguments,["info"]),_log.apply(this,arguments))},logWarning:function(){Array.prototype.unshift.apply(arguments,["warn"]),_log.apply(this,arguments)},isInitializing:function(){return"init"==this.phase||"postInit"==this.phase},isReloading:function(){return("init"==this.phase||"postInit"==this.phase)&&this.options.persist&&this.persistence.cookiesFound},isUserEvent:function(){return"userEvent"==this.phase},redraw:function(){this.tnRoot.render(!1,!1)},renderInvisibleNodes:function(){this.tnRoot.render(!1,!0)},reload:function(a){this._load(a)},getRoot:function(){return this.tnRoot},enable:function(){this.$widget.enable()},disable:function(){this.$widget.disable()},getNodeByKey:function(a){var b=document.getElementById(this.options.idPrefix+a);if(b)return b.dtnode?b.dtnode:null;var c=null;return this.visit(function(b){return b.data.key==a?(c=b,!1):void 0},!0),c},getActiveNode:function(){return this.activeNode},reactivate:function(a){var b=this.activeNode;b&&(this.activeNode=null,b.activate(),a&&b.focus())},getSelectedNodes:function(a){var b=[];return this.tnRoot.visit(function(c){return c.bSelected&&(b.push(c),a===!0)?"skip":void 0}),b},activateKey:function(a){var b=null===a?null:this.getNodeByKey(a);return b?(b.focus(),b.activate(),b):(this.activeNode&&this.activeNode.deactivate(),this.activeNode=null,null)},loadKeyPath:function(a,b){var c=a.split(this.options.keyPathSeparator);return""===c[0]&&c.shift(),c[0]==this.tnRoot.data.key&&(this.logDebug("Removed leading root key."),c.shift()),a=c.join(this.options.keyPathSeparator),this.tnRoot._loadKeyPath(a,b)},selectKey:function(a,b){var c=this.getNodeByKey(a);return c?(c.select(b),c):null},enableUpdate:function(a){return this.bEnableUpdate==a?a:(this.bEnableUpdate=a,a&&this.redraw(),!a)},count:function(){return this.tnRoot.countChildren()},visit:function(a,b){return this.tnRoot.visit(a,b)},_createFromTag:function(parentTreeNode,$ulParent){var self=this;$ulParent.find(">li").each(function(){var $li=$(this),$liSpan=$li.find(">span:first"),$liA=$li.find(">a:first"),title,href=null,target=null,tooltip;if($liSpan.length)title=$liSpan.html();else if($liA.length)title=$liA.html(),href=$liA.attr("href"),target=$liA.attr("target"),tooltip=$liA.attr("title");else{title=$li.html();var iPos=title.search(/<ul/i);title=$.trim(iPos>=0?title.substring(0,iPos):title)}var data={title:title,tooltip:tooltip,isFolder:$li.hasClass("folder"),isLazy:$li.hasClass("lazy"),expand:$li.hasClass("expanded"),select:$li.hasClass("selected"),activate:$li.hasClass("active"),focus:$li.hasClass("focused"),noLink:$li.hasClass("noLink")};if(href&&(data.href=href,data.target=target),$li.attr("title")&&(data.tooltip=$li.attr("title")),$li.attr("id")&&(data.key=$li.attr("id")),$li.attr("data")){var dataAttr=$.trim($li.attr("data"));if(dataAttr){"{"!=dataAttr.charAt(0)&&(dataAttr="{"+dataAttr+"}");try{$.extend(data,eval("("+dataAttr+")"))}catch(e){throw"Error parsing node data: "+e+"\ndata:\n'"+dataAttr+"'"}}}var childNode=parentTreeNode.addChild(data),$ul=$li.find(">ul:first");$ul.length&&self._createFromTag(childNode,$ul)})},_checkConsistency:function(){},_setDndStatus:function(a,b,c,d,e){var f=a?$(a.span):null,g=$(b.span);if(this.$dndMarker||(this.$dndMarker=$("<div id='dynatree-drop-marker'></div>").hide().css({"z-index":1e3}).prependTo($(this.divTree).parent())),"after"===d||"before"===d||"over"===d){var h="0 0";switch(d){case"before":this.$dndMarker.removeClass("dynatree-drop-after dynatree-drop-over"),this.$dndMarker.addClass("dynatree-drop-before"),h="0 -8";break;case"after":this.$dndMarker.removeClass("dynatree-drop-before dynatree-drop-over"),this.$dndMarker.addClass("dynatree-drop-after"),h="0 8";break;default:this.$dndMarker.removeClass("dynatree-drop-after dynatree-drop-before"),this.$dndMarker.addClass("dynatree-drop-over"),g.addClass("dynatree-drop-target"),h="8 0"}this.$dndMarker.show().position({my:"left top",at:"left top",of:g,offset:h})}else g.removeClass("dynatree-drop-target"),this.$dndMarker.hide();"after"===d?g.addClass("dynatree-drop-after"):g.removeClass("dynatree-drop-after"),"before"===d?g.addClass("dynatree-drop-before"):g.removeClass("dynatree-drop-before"),e===!0?(f&&f.addClass("dynatree-drop-accept"),g.addClass("dynatree-drop-accept"),c.addClass("dynatree-drop-accept")):(f&&f.removeClass("dynatree-drop-accept"),g.removeClass("dynatree-drop-accept"),c.removeClass("dynatree-drop-accept")),e===!1?(f&&f.addClass("dynatree-drop-reject"),g.addClass("dynatree-drop-reject"),c.addClass("dynatree-drop-reject")):(f&&f.removeClass("dynatree-drop-reject"),g.removeClass("dynatree-drop-reject"),c.removeClass("dynatree-drop-reject"))},_onDragEvent:function(a,b,c,d,e,f){var g,h,i=(this.options,this.options.dnd),j=null,k=$(b.span);switch(a){case"helper":var l=$("<div class='dynatree-drag-helper'><span class='dynatree-drag-helper-img' /></div>").append($(d.target).closest("a").clone());$("ul.dynatree-container",b.tree.divTree).append(l),l.data("dtSourceNode",b),j=l;break;case"start":b.isStatusNode()?j=!1:i.onDragStart&&(j=i.onDragStart(b)),j===!1?(this.logDebug("tree.onDragStart() cancelled"),e.helper.trigger("mouseup"),e.helper.hide()):k.addClass("dynatree-drag-source");break;case"enter":j=i.onDragEnter?i.onDragEnter(b,c):null,j=j?{over:j===!0||"over"===j||$.inArray("over",j)>=0,before:j===!0||"before"===j||$.inArray("before",j)>=0,after:j===!0||"after"===j||$.inArray("after",j)>=0}:!1,e.helper.data("enterResponse",j);break;case"over":if(h=e.helper.data("enterResponse"),g=null,h===!1);else if("string"==typeof h)g=h;else{var m=k.offset(),n={x:d.pageX-m.left,y:d.pageY-m.top},o={x:n.x/k.width(),y:n.y/k.height()};h.after&&o.y>.75?g="after":!h.over&&h.after&&o.y>.5?g="after":h.before&&o.y<=.25?g="before":!h.over&&h.before&&o.y<=.5?g="before":h.over&&(g="over"),i.preventVoidMoves&&(b===c?g=null:"before"===g&&c&&b===c.getNextSibling()?g=null:"after"===g&&c&&b===c.getPrevSibling()?g=null:"over"===g&&c&&c.parent===b&&c.isLastSibling()&&(g=null)),e.helper.data("hitMode",g)}"over"===g&&i.autoExpandMS&&b.hasChildren()!==!1&&!b.bExpanded&&b.scheduleAction("expand",i.autoExpandMS),g&&i.onDragOver&&(j=i.onDragOver(b,c,g),("over"===j||"before"===j||"after"===j)&&(g=j)),this._setDndStatus(c,b,e.helper,g,j!==!1&&null!==g);break;case"drop":var p=e.helper.hasClass("dynatree-drop-reject");g=e.helper.data("hitMode"),g&&i.onDrop&&!p&&i.onDrop(b,c,g,e,f);break;case"leave":b.scheduleAction("cancel"),e.helper.data("enterResponse",null),e.helper.data("hitMode",null),this._setDndStatus(c,b,e.helper,"out",void 0),i.onDragLeave&&i.onDragLeave(b,c);break;case"stop":k.removeClass("dynatree-drag-source"),i.onDragStop&&i.onDragStop(b);break;default:throw"Unsupported drag event: "+a}return j},cancelDrag:function(){var a=$.ui.ddmanager.current;a&&a.cancel()},lastentry:void 0},$.widget("ui.dynatree",{_init:function(){return parseFloat($.ui.version)<1.8?(this.options.debugLevel>=0&&_log("warn","ui.dynatree._init() was called; you should upgrade to jquery.ui.core.js v1.8 or higher."),this._create()):void(this.options.debugLevel>=2&&_log("debug","ui.dynatree._init() was called; no current default functionality."))},_create:function(){var a=this.options;a.debugLevel>=1&&logMsg("Dynatree._create(): version='%s', debugLevel=%o.",$.ui.dynatree.version,this.options.debugLevel),this.options.event+=".dynatree";this.element.get(0);this.tree=new DynaTree(this),this.tree._load(),this.tree.logDebug("Dynatree._init(): done.")},bind:function(){function a(a){a=$.event.fix(a||window.event);var b=$.ui.dynatree.getNode(a.target);return b?b._onFocus(a):!1}this.unbind();var b="click.dynatree dblclick.dynatree";this.options.keyboard&&(b+=" keypress.dynatree keydown.dynatree"),this.element.bind(b,function(a){var b=$.ui.dynatree.getNode(a.target);if(!b)return!0;if(!b.data.disable){var c=b.tree,d=c.options;c.logDebug("event(%s): dtnode: %s",a.type,b);var e=c.phase;c.phase="userEvent";try{switch(a.type){case"click":"function"!=typeof d.onDblClick||b.data.isFolder!==!0&&"true"!==b.data.isFolder?b._onClick(a):b._timer_?(clearTimeout(b._timer_),b._timer_=null):b._timer_=setTimeout(function(){b._onClick(a),b._timer_=null},200),"function"==typeof d.onClick&&d.onClick.call(c,b,a);break;case"dblclick":"function"==typeof d.onDblClick&&d.onDblClick.call(c,b,a),b._onDblClick(a);break;case"keydown":return d.onKeydown&&d.onKeydown.call(c,b,a)===!1?!1:b._onKeydown(a);case"keypress":return d.onKeypress&&d.onKeypress.call(c,b,a)===!1?!1:b._onKeypress(a)}}catch(f){c.logWarning("bind(%o): dtnode: %o, error: %o",a,b,f)}finally{c.phase=e}}});var c=this.tree.divTree;c.addEventListener?(c.addEventListener("focus",a,!0),c.addEventListener("blur",a,!0)):c.onfocusin=c.onfocusout=a},unbind:function(){this.element.unbind(".dynatree")},enable:function(){this.bind(),$.Widget.prototype.enable.apply(this,arguments)},disable:function(){this.unbind(),$.Widget.prototype.disable.apply(this,arguments)},getTree:function(){return this.tree},getRoot:function(){return this.tree.getRoot()},getActiveNode:function(){return this.tree.getActiveNode()},getSelectedNodes:function(){return this.tree.getSelectedNodes()},lastentry:void 0}),parseFloat($.ui.version)<1.8&&($.ui.dynatree.getter="getTree getRoot getActiveNode getSelectedNodes"),$.ui.dynatree.version="$Version:$",$.ui.dynatree.getNode=function(a){if(a instanceof DynaTreeNode)return a;for(void 0!==a.selector&&(a=a[0]);a;){if(a.dtnode)return a.dtnode;a=a.parentNode}return null},$.ui.dynatree.getPersistData=DynaTreeStatus._getTreePersistData,$.ui.dynatree.prototype.options={title:"Dynatree",minExpandLevel:1,imagePath:"",children:null,initId:null,initAjax:null,autoFocus:!0,keyboard:!0,persist:!1,autoCollapse:!1,clickFolderMode:3,activeVisible:!0,checkbox:!1,selectMode:2,fx:null,reactive:!0,noLink:!1,onClick:null,onDblClick:null,onKeydown:null,onKeypress:null,onFocus:null,onBlur:null,onQueryActivate:null,onQuerySelect:null,onQueryExpand:null,onPostInit:null,onActivate:null,onDeactivate:null,onSelect:null,onExpand:null,onLazyRead:null,onCustomRender:null,onCreate:null,onRender:null,postProcess:null,dnd:{onDragStart:null,onDragStop:null,autoExpandMS:1e3,preventVoidMoves:!0,onDragEnter:null,onDragOver:null,onDrop:null,onDragLeave:null},ajaxDefaults:{cache:!1,timeout:0,dataType:"json"},strings:{loading:"Loading&#8230;",loadError:"Load error!"},generateIds:!1,idPrefix:"dynatree-id-",keyPathSeparator:"/",cookieId:"dynatree",cookie:{expires:null},classNames:{container:"dynatree-container",node:"dynatree-node",folder:"dynatree-folder",empty:"dynatree-empty",vline:"dynatree-vline",expander:"dynatree-expander",connector:"dynatree-connector",checkbox:"dynatree-checkbox",nodeIcon:"dynatree-icon",title:"dynatree-title",noConnector:"dynatree-no-connector",nodeError:"dynatree-statusnode-error",nodeWait:"dynatree-statusnode-wait",hidden:"dynatree-hidden",combinedExpanderPrefix:"dynatree-exp-",combinedIconPrefix:"dynatree-ico-",nodeLoading:"dynatree-loading",hasChildren:"dynatree-has-children",active:"dynatree-active",selected:"dynatree-selected",expanded:"dynatree-expanded",lazy:"dynatree-lazy",focused:"dynatree-focused",partsel:"dynatree-partsel",lastsib:"dynatree-lastsib"},debugLevel:0,lastentry:void 0},parseFloat($.ui.version)<1.8&&($.ui.dynatree.defaults=$.ui.dynatree.prototype.options),$.ui.dynatree.nodedatadefaults={title:null,key:null,isFolder:!1,isLazy:!1,tooltip:null,href:null,icon:!1,addClass:null,noLink:!1,activate:!1,focus:!1,expand:!1,select:!1,hideCheckbox:!1,unselectable:!1,children:null,lastentry:void 0};var didRegisterDnd=!1,_registerDnd=function(){didRegisterDnd||($.ui.plugin.add("draggable","connectToDynatree",{start:function(a,b){var c=$(this).data("draggable"),d=b.helper.data("dtSourceNode")||null;
return d?(c.offset.click.top=-2,c.offset.click.left=16,d.tree._onDragEvent("start",d,null,a,b,c)):void 0},drag:function(a,b){var c=$(this).data("draggable"),d=b.helper.data("dtSourceNode")||null,e=b.helper.data("dtTargetNode")||null,f=$.ui.dynatree.getNode(a.target);if(a.target&&!f){var g=$(a.target).closest("div.dynatree-drag-helper,#dynatree-drop-marker").length>0;if(g)return}b.helper.data("dtTargetNode",f),e&&e!==f&&e.tree._onDragEvent("leave",e,d,a,b,c),f&&f.tree.options.dnd.onDrop&&(f===e?f.tree._onDragEvent("over",f,d,a,b,c):f.tree._onDragEvent("enter",f,d,a,b,c))},stop:function(a,b){var c=$(this).data("draggable"),d=b.helper.data("dtSourceNode")||null,e=b.helper.data("dtTargetNode")||null,f=(c._mouseDownEvent,a.type),g="mouseup"==f&&1==a.which;g||logMsg("Drag was cancelled"),e&&(g&&e.tree._onDragEvent("drop",e,d,a,b,c),e.tree._onDragEvent("leave",e,d,a,b,c)),d&&d.tree._onDragEvent("stop",d,null,a,b,c)}}),didRegisterDnd=!0)}}(window.comtop.cQuery),function(a,b){function c(){return g.init(),g}var d=a.browser.msie,e=d&&"6.0"===a.browser.version,f=d&&!a.support.boxModel,g={init:function(){var b;this.overlayBuild||(b=a(document.createElement("div")),b.addClass("cui_overlay"),a("body").append(b),this.overlayBuild=!0,this._dom=b)},show:function(b){var c=this._dom.data("opa")||0;b=c+parseInt(100*b),(e||f)&&a("html,body").addClass("cui_overlay_ie6"),this._dom.data("opa",b).css("opacity",b/100).show()},hide:function(b){var c=this._dom.data("opa");b=c-parseInt(100*b),this._dom.data("opa",b),this._dom.css("opacity",b/100),0>=b&&(this._dom.hide(),(e||f)&&a("html,body").removeClass("cui_overlay_ie6"))}};b.comtop&&b.comtop.UI&&(comtop.UI.Overlay=c),b._overlay=c}(window.comtop?window.comtop.cQuery:window.jQuery,window),function(a,b){"use strict";var c="";b.UI.Button=b.UI.Base.extend({options:{uitype:"Button",label:"",hide:!1,disable:!1,icon:"",on_click:null,menu:null,button_type:"",mark:""},_init:function(a){var c=this.options;this.beOptions=a,this.$el=c.el,c.label=c.label||this.$el.html()||"\u6309&nbsp;\u94ae",c.menuId="button_"+b.guid()},_create:function(){var b=this,c=b.options;this._createDom(),c.hide&&this.hide(),c.disable&&this.disable(!0),c.icon&&this._setIcon(c.icon),c.menu&&(a.isFunction(c.menu)&&(c.menu=c.menu()),c.menu=cui("#"+c.menuId).menu(c.menu),c.el.children("a").unbind("click")),c.el.children("a").on("click.button",function(a){b._clickHandler(a,this,a.target),a.preventDefault()}).on("mouseleave.button",function(){c.menu&&(window._cui_button_timer=setTimeout(function(){c.menu.hide()},100))})},_createDom:function(){var a=this.options,c=this.$el,d=[];d.push('<a class="cui-button '),b.Browser.isQM&&d.push("QM-cui-button "),a.button_type&&d.push(a.button_type),d.push('" hidefocus="true" href="#">'),a.icon&&d.push('<span class="button-icon cui-icon">&nbsp;</span>'),d.push('<span class="button-label">'+a.label+"</span>"),a.menu&&d.push('<span class="button-arrow cui-icon">&#xf0dc;</span>'),d.push("</a>"),c.html(d.join(""))},_setIcon:function(a){var c=b.icon;/\./.test(a)?(/\/+/.test(a)||(a=this._getIconPath("comtop.ui")+"images/button/"+a),this.$el.find(".button-icon").addClass("button-icon-center").html('<img src="'+a+'" />')):this.$el.find(".button-icon").html(c[a]||"")},_clickHandler:function(a){var b=this.options;if(!b.disable){var c=b.menu;if(c&&c.show(this.$el.children(".cui-button")),"function"!=typeof b.on_click){var d=this._convertTo(this.beOptions.on_click,"function");"function"==typeof d&&d(a,this,b.mark)}else this.options.on_click&&this.options.on_click(a,this,b.mark)}},_getIconPath:function(b){if(c)return c;for(var d,e=a("link"),f=new RegExp(b),g=0;g<e.length&&(d=e.eq(g).attr("href"),!f.test(d));g++);return d=d.substr(0,d.lastIndexOf("/")),c=d=d.substr(0,d.lastIndexOf("/")+1),d},disable:function(a){a===!0?(this.options.disable=!0,this.options.el.children(".cui-button").addClass("disable-button"),this.options.menu&&this.options.menu.hide&&this.options.menu.hide()):(this.options.disable=!1,this.options.el.children(".cui-button").removeClass("disable-button"))},hide:function(){this.options.el.hide(),this.options.menu&&this.options.menu.hide&&this.options.menu.hide()},setLabel:function(b){var c=a.type(b),d=this.options;("number"===c||"string"===c)&&(d.label=b,d.el.children("a").children(".button-label").html(b))},getLabel:function(){return this.options.label},getMenu:function(){return this.options.menu}})}(window.comtop.cQuery,window.comtop),function(a){"use strict";var b=a.cQuery,c={bottom:"&#xf0d7;",top:"&#xf0d8;",left:"&#xf0d9;",right:"&#xf0da;"},d={top:"&#xf0d7;",bottom:"&#xf0d8;",right:"&#xf0d9;",left:"&#xf0da;"};a.UI.Borderlayout=a.UI.Base.extend({options:{uitype:"Borderlayout",id:"",is_root:!0,gap:"0px 0px 0px 0px",fixed:{top:!0,middle:!1,left:!0,center:!1,right:!0,bottom:!0},items:[],on_sizechange:null},_init:function(){},_create:function(){var b=this.options;this.id=a.guid(),this.el=b.el,"BODY"===this.el.parent().prop("tagName")&&(this.body=!0,this.el.parent().css({margin:0,overflow:"hidden"})),this._setItems(),this._createDom(),this._bindHandler()},_setItems:function(){var c=this.options.items,d=this.el,e=this.items_default={position:"left",width:-1,height:-1,gap:"0px 0px 0px 0px",resizable:!1,min_size:30,max_size:200,split_size:2,is_header:!1,header_content:"",header_height:30,collapsable:!1,url:".",show_expand_icon:!1};if(!c.length){var f={string:function(a){return a},number:a.Tools.fixedNumber,"boolean":function(a){return"true"===a}};this.setattr=!0,d.children("[position]").each(function(){var a,d={};c.push(d);for(var g in e)e.hasOwnProperty(g)&&(a=b(this).attr(g),d[g]=void 0===a?e[g]:f[typeof e[g]](a))})}},_isCols:function(a){return"left"===a||"center"===a||"right"===a},_createDom:function(){for(var a=this.options.items,d=this.el,e=this.setattr,f={},g={},h={},i=[],j=this.options.fixed,k={top:"bottom",bottom:"top",left:"right",right:"left"},l=this.box_css={},m=this.min_size={},n=this.max_size={},o=this.collapsable={},p=this.items_default,q={},r=this._isCols,s=a.length;s--;){var t=a[s],u=t.position;t=e?a[s]:b.extend(p,a[s]),r(u)?(g[u]=-1!==t.width?t.width:"auto",i.push(t.height)):h[u]=-1!==t.height?t.height:"auto";var v=t.gap.split(" "),w=v.length;switch(w){case 1:v[1]=v[2]=v[3]=v[0];break;case 2:v[2]=v[0],v[3]=v[1];break;case 3:v[3]=v[1]}l[u]={"margin-top":parseInt(v[0],10),"margin-right":parseInt(v[1],10),"margin-bottom":parseInt(v[2],10),"margin-left":parseInt(v[3],10)},j[u]&&(m[u]=t.min_size,n[u]=t.max_size);var x='<div class="bl_'+u+" bl_"+u+this.id+'">',y="",z="";if("center"!==u){var A=this._isCols(u)?"width":"height";y='<div class="'+(t.resizable?"bl_move":"bl_border")+'" style="'+A+":"+t.split_size+'px;">'+(j[u]&&t.collapsable&&t.show_expand_icon?'<a href="javascript:;" class="bl_fold bl_unfold cui-icon">'+c[u]+"</a>":"")+"</div>",l[u]["margin-"+k[u]]+=t.split_size}j[u]&&t.collapsable&&(o[u]=t.collapsable),t.id&&(q[u]=t.id),t.is_header&&(z='<div class="bl_header" style="height:'+(t.header_height-1)+"px;line-height:"+(t.header_height-1)+'px;">'+t.header_content+"</div>"),x+='<div class="bl_inner" header="'+(t.is_header?t.header_height-1:0)+'">'+z+'<div class="bl_box_'+u+" bl_box"+this.id+'">'+("."!==t.url?'<iframe url="'+t.url+'" frameborder="0" class="bl_iframe_page"></iframe>':"")+"</div></div>",f[u]=x+=y+"</div>"}var B=b("<div class='bl_middle bl_middle"+this.id+"'></div>").append(f.left).append(f.center).append(f.right);if(d.append(f.top).append(B.html()?B:"").append(f.bottom).append("<div class='bl_overlay'></div>"),d.find(".bl_box"+this.id).each(function(){var a=this.className.match(/top|left|center|bottom|right/)[0];q[a]?b(this).append(b("#"+q[a],d).css({height:"100%"}).append(b(this).html())):b(this).html(d.children("[position="+a+"]").css({height:"100%"}).append(b(this).html()))}),d.find(".bl_iframe_page").each(function(){b(this).attr("src",b(this).attr("url")).removeAttr("url")}),j.middle){var C=Math.max.apply(null,i);h.middle=-1===C?"auto":C}else h.middle="auto";this._setLayout(g,h),this._setBoxLayout()},_setLayout:function(a,c){var d=this,e=this.options.gap,f=this.el;d.auto_lays={width:[],height:[]};var g=e.split(" ");this.margin_v=parseInt(g[0],10)+(void 0===g[2]?parseInt(g[0],10):parseInt(g[2],10));var h=void 0===g[1]?parseInt(g[0],10):parseInt(g[1],10);this.margin_r=h+(void 0===g[3]?h:parseInt(g[3],10)),this.scope={};var i=this.scope=this._getParentLayout();a=this._separateAutoLayout(a,i.width,"width"),c=this._separateAutoLayout(c,i.height,"height"),this.layout=b.extend(a,c),this._setPartLayout();var j=b.client.height(),k=b.client.width();b(window).on("resize",function(){(j!==b.client.height()||k!==b.client.width())&&(j=b.client.height(),k=b.client.width(),d._resizeHandle(!0))}),f.addClass("bl_main").css("padding",e)},_setPartLayout:function(){var a=this.layout,b=this.el;for(var c in a)b.find(".bl_"+c+this.id).eq(0).css(this._isCols(c)?"width":"height",a[c])},_resizeHandle:function(a){var b=this._getParentLayout();this._resetLayout(b,this.scope,a),this.scope.width=b.width,this.scope.height=b.height},_separateAutoLayout:function(a,b,c){var d=[],e={},f=this.options.fixed;for(var g in a)if(a.hasOwnProperty(g)){if(!f[g]){this.auto_lays[c].push(g),d.push(g);continue}a[g]="number"!=typeof a[g]?"width"===c?500:300:a[g],b-=a[g],e[g]=a[g]}for(var h=d.length;h--;)e[d[h]]=b/d.length;return e},_getParentLayout:function(){var c=this.el.parent().css({positon:"relative",overflow:"hidden"}),d=a.Browser,e=this.scope,f=document.createElement("div");f.style.width="100%",f.style.height="100%",f.style.positon="absolute",f.style.left=0,f.style.top=0,c.append(f);var g=b(f).width(),h=b(f).height();return this.body?h=d.isQM?window.innerHeight||document.documentElement.offsetHeight-4:b(window).height():c.css("overflow",""),b(f).remove(),c.css("positon",""),{width:e.fix_width||g-this.margin_r-1,height:e.fix_height||h-this.margin_v}},_setBoxLayout:function(){var a=this.el,b=this.box_height={},c=this.box_css;for(var d in c)if(c.hasOwnProperty(d)){var e=a.find(".bl_box_"+d).eq(0),f=e.parent();b[d]=f.parent().css("overflow","hidden").height()-f.attr("header")-0-c[d]["margin-top"]-c[d]["margin-bottom"],f.parent().css("overflow",""),f.css(c[d]),e.css("height",b[d])}},_resetLayout:function(a,b,c){var d=a.width-b.width,e=a.height-b.height;d&&this._setWidthAndHeight(d,"width",c),e&&this._setWidthAndHeight(e,"height",c)},setWidth:function(b){var c=a.Browser.isQM?b+this.margin_r:b;this.el.css("width",c),this.scope.fix_width=b,this._resizeHandle(!1)},setHeight:function(b){var c=a.Browser.isQM?b+this.margin_v:b;this.el.css("height",c),this.scope.fix_height=b,this._resizeHandle(!1)},_setWidthAndHeight:function(a,b,c){for(var d=this.el,e=this.auto_lays[b],f=e.length,g=this.layout,h=a,i=0,j=f;j--;)i+=g[e[j]];for(j=f;j--;){var k=Math.round(a*g[e[j]]/i),l=d.find(".bl_"+e[j]+this.id),m=0===j?h:k;h-=k,l.css(b,g[e[j]]+=m),"height"===b&&this._setBoxHeight(l,m)}c||this._childrenHandler()},_setBoxHeight:function(a,c){var d=this.box_height;a.find(".bl_box"+this.id).each(function(a,e){var f=b(e).attr("class").match(/top|left|center|bottom|right/)[0],g=d[f]+=c;b(e).css("height",Math.max(g,0)),g?b(e).show():b(e).hide()})},_bindHandler:function(){var a=this,b=this.el;b.find(".bl_top>.bl_move, .bl_bottom>.bl_move").on("mousedown",function(b){a._drag(b,this,"height")}),b.find(".bl_left>.bl_move, .bl_center>.bl_move, .bl_right>.bl_move").on("mousedown",function(b){a._drag(b,this,"width")}),b.find(".bl_top .bl_fold, .bl_bottom .bl_fold").on("mousedown",function(b){a._fold(b,this,"height")}),b.find(".bl_middle .bl_fold").on("mousedown",function(b){a._fold(b,this,"width")})},_drag:function(a,c,d){var e=b(c);if(e.find(".bl_unfold").length){a.stopPropagation(),a.preventDefault();var f,g=a.pageX,h=a.pageY,i=this,j=this.layout,k=this.min_size,l=this.max_size,m=e.parent(),n=m.prev(),o=m.next(),p=m.parent().not(".bl_main:eq(0)");n.length?o=m:n=m;var q=n.attr("class").match(/top|left|center|bottom|middle|right/)[0],r=o.attr("class").match(/top|left|center|bottom|middle|right/)[0],s=j[q],t=j[r],u=k[q],v=k[r],w=l[q],x=l[r];this.el.children(".bl_overlay").show().css("height",this.scope.height).css("cursor","width"===d?"col-resize":"row-resize").on("mousemove",function(a){a.stopPropagation(),a.preventDefault();var b=a.pageX,c=a.pageY,e=p.length?b-g:c-h;0===e||e*f>0||(f=0,void 0!==w&&(s+e>w||u>s+e)&&(e=e>0?w-s:u-s,f=e),void 0!==x&&(t-e>x||v>t-e)&&(e=0>e?t-x:t-v,f=e),n.css(d,s+=e),o.css(d,t-=e),"height"===d&&(i._setBoxHeight(n,e),i._setBoxHeight(o,-e)),h=c,g=b,i._childrenHandler())}).on("mouseup mouseout",function(a){a.stopPropagation(),b(this).hide().off("mousemove"),j[q]=j[q]===s?j[q]:s,j[r]=j[r]===t?j[r]:t})}},_fold:function(a,c,d){a.stopPropagation(),a.button>1||this._foldAction(b(c).parent().parent(),d)},_foldAction:function(a,b,e){var f=this.layout,g=a.attr("class").match(/top|left|center|bottom|right/)[0],h=a.data("fold"),i=a.children(".bl_move,.bl_border").eq(0).children().eq(0);if(this.collapsable[g]){if(e===!0&&void 0!==h||e===!1&&void 0===h)return;if(void 0===h)return this._setWidthAndHeight(f[g],b),a.children(".bl_inner").hide(),a.data("fold",f[g]).css(b,f[g]=0),void i.removeClass("bl_unfold").html(d[g]);this._setWidthAndHeight(-h,b),i.addClass("bl_unfold").html(c[g]),a.children(".bl_inner").show(),a.removeData("fold").css(b,f[g]=h).children(".bl_inner")}},_childrenHandler:function(){var a=null;this.child_bl||(a=this.el.find("[uitype=Borderlayout]"),this.child_bl=0===a.length?null:a),a=this.child_bl,a&&a.each(function(){window.cui(this)._resizeHandle()});var b=this.options.on_sizechange;b&&"function"==typeof b&&b()},setContentURL:function(a,b){var c=this.el.find(".bl_"+a+this.id).eq(0).find(".bl_box"+this.id).eq(0).children().eq(0),d=c.find(".bl_iframe_page");d.length?d.eq(0).attr("src",b):c.append('<iframe class="bl_iframe_page" src="'+b+'" frameborder="0"></iframe>')},setCollapse:function(a,c){this.options.fixed[a]&&this._foldAction(b(".bl_"+a+this.id),this._isCols(a)?"width":"height",c)},getCollapseState:function(a){return{collapsed:!!this.el.find(".bl_"+a+this.id).eq(0).data("fold"),contentHeight:this.box_height[a],contentWidth:this.el.find(".bl_"+a+this.id).eq(0).width()}},setGap:function(a){var b=this.options.gap=a,c=b.split(" ");this.el.css("padding",b),this.margin_v=parseInt(c[0],10)+(void 0===c[2]?parseInt(c[0],10):parseInt(c[2],10)),this._resizeHandle()},setTittle:function(a,c){b(".bl_"+a+this.id).find(".bl_header").eq(0).html(c)},setCollapsable:function(a,c){if(this.options.fixed[a]){this.collapsable[a]=c;var d=b(".bl_"+a).children(".bl_move,.bl_border").eq(0).children(".bl_fold").eq(0);if(c)return void d.show();d.hide()}},changeSize:function(a,b){this.options.fixed[a]&&b&&(this.layout[a]=this.layout[a]+b,this._setPartLayout(),this._setBoxLayout(),this._setWidthAndHeight(-b,this._isCols(a)?"width":"height"))}})}(window.comtop),function(a,b){function c(c,d){for(var e=null,f=0,g=c.length;g>f;f++)e=a.type(c[f]),"string"===e?c[f]=i(b.Date.parse(c[f],d),d)||null:"date"===e&&(c[f]=i(c[f],d)||null);return c}function d(a,c,d){for(var e=[],f=new Date(a.getTime()),g=d?f.getDay()-1:(f.getDay()||7)-1,h=0;6>h;h++)e.push([b.Date.getOnWeek(new Date(f.getTime()),c,d).week,0]),f.setDate(f.getDate()+(7-g)),g=0;return e}function e(a){function b(a,b,c){if(!b)return!1;var d=b.getFullYear(),e=b.getMonth(),f=b.getDate();return b=new Date(d,e,f,0,0,0,0),"mindate"===c?a.getTime()<b.getTime():a.getTime()>b.getTime()}var c,e,f,g,h,i,j,l=this,m=l.options,n=[],o=0,p=0,q=[],r=a.getFullYear(),s=a.getMonth();m.mindate[1]=k.call(l,"mindate"),m.maxdate[1]=k.call(l,"maxdate"),g=new Date(r,s,1).getDay(),h=new Date(r,s,0).getDate(),i=new Date(r,s+1,0).getDate(),m.sunday_first||g--,0>g&&(g=6);var t=0>s-1?!0:!1,u=s+1>11?!0:!1;for(c=0;g>c;c++)f=new Date(t?r-1:r,t?11:s-1,h,0,0,0,0),e=b(f,m.mindate[1],"mindate")||b(f,m.maxdate[1],"maxdate")?0:1,n.push([h,e,f.getFullYear(),f.getMonth()]),h--;for(n.reverse(),c=1;i>=c;c++)f=new Date(r,s,c,0,0,0,0),e=b(f,m.mindate[1],"mindate")||b(f,m.maxdate[1],"maxdate")?0:1,n.push([c,e,r,s]);for(c=1;42-i-g>=c;c++)f=new Date(u?r+1:r,u?0:s+1,c,0,0,0,0),e=b(f,m.mindate[1],"mindate")||b(f,m.maxdate[1],"maxdate")?0:1,n.push([c,e,f.getFullYear(),f.getMonth()]);for(j=d(a,m.iso8601,m.sunday_first),c=0;48>c;c++)0!=c&&c%8!=0?(q.push(n[o]),o++):(q.push(j[p]),p++);return{year:r,month:s,date:q}}function f(a,b){var c=[];if(b>0)for(var d=0;b>d;d++)c.push(a),a++;else{for(var d=0;-b>d;d++)c.push(a),a--;c.reverse()}return c}function g(a){var b=["1","2","3","4","5","6","7","8","9","10","11","12"],c=[];a=a||[0,11];for(var d=a[0];d<=a[1];d++)c.push([d,b[d]]);return c}function h(a,c,d){for(var e,f=[],g=31;g>0&&(e=b.Date.getOnWeek(new Date(a,11,g),c,d).week,1===e);g--);for(g=1;e>=g;g++)f.push([g,1]);return f}function i(a,c){if(!a)return null;var d=[];return d.push(a),d.push(b.Date.format(a,c)),d.push(a.getFullYear(),a.getMonth(),a.getDate()),d.push(a.getHours(),a.getMinutes(),a.getSeconds()),d}function j(a){if(!a||a.length<2||!a[0]||!a[1])return a;var b;return a[0][0]>a[1][0]&&(b=a[1],a[1]=a[0],a[0]=b),a}function k(c,d){var e,f=this,g=f.options,h=g[c][0],i=g.nocurrent;if(d="undefined"==typeof d?!0:d,!h)return null;var j=/^([\+\-]{1})([0-9]{1,})([yMd]{1})$/,k=[null,null,null];if("string"==typeof h)if(/[\+\-]{1}[0-9]{1,}[yMd]{1}/.test(h)){for(var l,m,n=h.split(","),o=[0,0,0],p=[(new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()],q=0;q<n.length;q++)l=n[q].match(j),m="yMd".indexOf(l[3]),k[m]+=("+"===l[1]?1:-1)*+l[2]+p[m];for(q=0;q<k.length;q++)o[q]=null===k[q]?0:1;switch(o.join("-")){case"1-0-0":h="mindate"===c?new Date(k[0],0,1):new Date(k[0],11,31);break;case"1-1-0":h="mindate"===c?new Date(k[0],k[1],1):new Date(k[0],k[1],new Date(k[0],k[1]+1,0).getDate());break;case"1-1-1":i&&(k[2]="mindate"===c?k[2]+1:k[2]-1),h=new Date(k[0],k[1],k[2]);break;case"0-1-1":i&&(k[2]="mindate"===c?k[2]+1:k[2]-1),h=new Date(p[0],k[1],k[2]);break;case"0-0-1":i&&(k[2]="mindate"===c?k[2]+1:k[2]-1),h=new Date(p[0],p[1],k[2]);break;case"0-1-0":h="mindate"===c?new Date(p[0],k[1],1):new Date(p[0],k[1],new Date(k[0],k[1]+1,0).getDate());break;case"1-0-1":i&&(k[2]="mindate"===c?k[2]+1:k[2]-1),h=new Date(k[0],p[1],k[2])}h="maxdate"===c?new Date(h.getFullYear(),h.getMonth(),h.getDate(),23,59,59):new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0)}else if(e=a(h).data("uitype")){if(!(h=e.getValue("date")))return null;i&&h.setDate("mindate"===c?h.getDate()+1:h.getDate()-1)}else{if(!/^[0-9]{4}\-[0-9]{2}\-[0-9]{2}|[0-9]{4}\-[0-9]{2}|[0-9]{4}|[0-9]{4}\-[0-9]{2}\-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}$/.test(h))return null;/^[0-9]{4}\-[0-9]{2}\-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}$/.test(h)&&(h=b.Date.parse(h,"yyyy-MM-dd hh:mm:ss"),i&&h.setDate("mindate"===c?h.getDate()+1:h.getDate()-1)),/^[0-9]{4}\-[0-9]{2}\-[0-9]{2}$/.test(h)&&(h=b.Date.parse(h,"yyyy-MM-dd"),i&&h.setDate("mindate"===c?h.getDate()+1:h.getDate()-1),h="maxdate"===c?new Date(h.getFullYear(),h.getMonth(),h.getDate(),23,59,59):new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0))}else h="date"===a.type(h)?h:null,i&&h&&h.setDate("mindate"===c?h.getDate()+1:h.getDate()-1);return d?new Date(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),0,0):new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0,0,0)}function l(b,c){var d=b.children(".C_CR_YM_wrap");if("hide"===c)d.hide();else{switch(c){case"disYear":d.find("span.C_CR_YMer_tx_y").parents("td").eq(0).hide().next().hide();break;case"disMonth":d.find(".C_CR_YMer").each(function(b,c){a(c).children("tbody").children("tr").children("td").slice(2).hide()});break;case"dis":d.find("span.C_CR_YMer_tx_wrap").parents("table").find("td").hide();break;case"unDis":default:d.find("span.C_CR_YMer_tx_wrap").parents("table").find("td").show()}d.show()}}function m(b,c,d){var e=a("table.C_CR_YMer:eq("+d+")",b).attr("val",c.year+"|"+(c.month-1)).find("input.C_CR_tx");e.eq(0).val(c.year),e.eq(1).val(c.month)}function n(a){var b=this,c=b.options;(c.activePop||a)&&(c.activePop&&c.activePop.hide(),a&&(a.show(),c.activePop=a))}function o(){var a=this,b=a.options,c=b.pEl.children(".C_CR_OPBar_wrap").children("a").show(),d=c.filter('[val^="ok"]'),e=c.filter('[val^="clear"]'),f=c.filter('[val^="cur"]'),g={date:"\u4eca&nbsp;\u5929",month:"\u672c&nbsp;\u6708",year:"\u672c&nbsp;\u5e74",quarter:"\u672c\u5b63\u5ea6",week:"\u672c&nbsp;\u5468"};f.html(g[b.curModel[0]]),b.okbtn||d.hide(),b.clearbtn||e.hide()}function p(){var b=this,c=b.options,d=c.pEl.children(".C_CR_Timer_box"),e=[/s/.test(c.format),/m/.test(c.format),/h/.test(c.format)];e[0]||c.pEl.find("td.C_CR_Timer_com_s").hide().prev().hide(),e[1]||c.pEl.find("td.C_CR_Timer_com_m").hide().prev().hide(),e[2]||c.pEl.find("td.C_CR_Timer_com_h").hide().prev().hide(),b.$tmp.$timeHour=a("div.C_CR_Timer_pop_h",d),b.$tmp.$timeMin=a("div.C_CR_Timer_pop_m",d),b.$tmp.$timeSecond=a("div.C_CR_Timer_pop_s",d)}function q(){var a=this,b=a.options,c=b.pEl.children(".C_CR_Timer_box");"date"===b.curModel[0]&&/[h|s|m]/.test(b.format)?c.show():c.hide()}function r(b,c){var d,e=this,f=e.options,g=a(".C_CR_Tag_wrap a",f.pEl);g.each(function(e,f){var g=a(f);g.hide();for(var h=0,i=b.length;i>h;h++)d=g.attr("val"),d===b[h]&&g.show(),d===c&&g.addClass("C_CR_Tag_cur")})}function s(b,c,d){var e,f=this,g=f.options,h=g.curModel[0];switch(c){case"CUR":e="C_CR_main_cur";break;case"SEL":e="C_CR_main_cur_d";break;case"clear":return void a("td.C_CR_main_cur_d",g.pEl).removeClass("C_CR_main_cur_d")}if(b)b.parent("td").addClass(e);else for(var i=0;i<d.length;i++)a("#C_CR_"+h+"_"+d[i].join("_")+"_"+g.uuid).parent("td").addClass(e)}function t(b){var c=this,d=c.options,e=a(".C_CR_Tip",d.pEl);e.text(b).fadeIn("fast"),setTimeout(function(){e.fadeOut("fast")},1e3)}function u(a){var c=a.panel,d=226*c;a.pEl.css("width",d+3*(a.panel-1));var e=a.pEl.outerWidth(),f=a.pEl.outerHeight();(b.Browser.isIE6||b.Browser.isQM)&&a.pEl.find("iframe").css({width:e,height:f})}function v(b){var c=a(window),d=b.el.children(".C_CR_calInput_bd"),e=d.offset(),f=d.outerHeight(),g=d.outerWidth(),h=c.width(),i=c.height(),j=c.scrollLeft(),k=c.scrollTop(),l=b.pEl.outerWidth(),m=b.pEl.outerHeight(),n=a(document).height(),o={};o.left=h-(e.left-j)>l?e.left:e.left-j+g>l?e.left+g-l:0,n-e.top-f>m&&i-(e.top-k)-f>m?o.top=e.top+f:e.top-k>m?o.top=e.top-m:(o.top=k+(i-m)/2,o.left=h-(e.left-j+g)>l?e.left+g:e.left-j+g>l?e.left-g:0),o.left=o.left<0?0:o.left,o.top=o.top<0?0:o.top,b.pEl.css(o),b.isBuild||(b.isBuild=!0)}var w=null;b.UI.Calender=b.UI.Base.extend({options:{uitype:"Calender",name:"",model:"date",isrange:!1,trigger:"click",value:[],format:"",entering:!1,emptytext:"",readonly:!1,disable:!1,icon:!0,textmode:!1,panel:1,zindex:11e3,width:"200px",okbtn:!1,clearbtn:!0,mindate:null,maxdate:null,nocurrent:!1,iso8601:!1,on_before_show:null,on_change:null,separator:!1,sunday_first:!1},tipPosition:".C_CR_calInput_bd",_init:function(c){var d=this,e=d.options;if(c.value){var f=a.type(c.value);switch(f){case"string":e.value=/^(?:\{.*\}|\[.*\])$/.test(c.value)?a.parseJSON(c.value.replace(/\\'/g,"#@@#").replace(/'/g,'"').replace(/#@@#/g,"'")):[c.value];break;case"array":e.value=c.value;break;default:e.value=[c.value]}}c.width&&(e.width="string"==typeof c.width&&/^(\d)+(px|pt|em|PX|PT|EM|%)$/.test(c.width)?c.width:c.width+"px"),e.value=null===e.value?[]:e.value,e.mindate=[c.mindate,null],e.maxdate=[c.maxdate,null],e.uuid=b.guid(),e.template="calender.html",e.curModel=[],e.formatList={date:"yyyy-MM-dd",year:"yyyy",quarter:"yyyy-q",month:"yyyy-MM",week:"yyyy-w"},e.inputFocusClass="C_CR_calInput_focus",e.inputDisClass="C_CR_calInput_rd",e.inputErrClass="C_CR_calInput_err",e.selDate=[],e.cache={yearPop:{},selDate:[]},e.isBuild=!1,e.inputEl=null,e.tipTxt=null,e.pEl=null,e.datePanel=[],e.yearPanel=[],e.monthPanel=[],e.quarterPanel=[],e.timePanel=[],e.weekPanel=[],e.yearPop={forDate:[],forYear:[],forQuarter:[],forMonth:[],forWeek:[]},e.selIndex=0,e.activePop=null,e.isChangeTag=!1,e.tags=[],d.$tmp={};var g=e.model.split(";");1===g.length?e.tags="all"===g[0]?["date","year","quarter","month","week"]:g:(e.tags=g,e.model="all");var h=e.tags[0];e.curModel=[h,"for"+h.charAt(0).toUpperCase()+h.substring(1),h+"Frame",h+"Panel"],"all"===e.model&&c.format?(e.format=a.parseJSON(c.format.replace(/\\'/g,"#@@#").replace(/'/g,'"').replace(/#@@#/g,"'")),e.formatList=a.extend(e.formatList,e.format),e.format=e.formatList[e.curModel[0]]):c.format?e.formatList[e.curModel[0]]=e.format:e.format=e.formatList[e.curModel[0]],e.okbtn=/[y|M|q|w|d]/.test(e.format)?e.okbtn:!0},_create:function(){var b=this,c=b.options;c.inputEl=c.el.find(":text").bind("click",function(){c.readonly||(a(this).parents(".C_CR_calInput_bd").addClass(c.inputFocusClass),b.show(),b._setEmptyText(!1),b.onValid())}).bind("mouseup.calender",function(a){a.stopPropagation()}),b._getDefault(),b.setValue(a.extend(!0,[],c.selDate),!0);for(var d=0;d<c.cache.selDate.length;d++)if(null===c.cache.selDate[d]){c.selIndex=d;break}(c.disable||c.readonly)&&c.el.children(".C_CR_calInput_bd").addClass(c.inputDisClass),(!c.entering||c.disable||c.readonly)&&(c.disable&&c.inputEl.attr("disabled",!0),(c.readonly||!c.entering)&&c.inputEl.attr("readonly",!0)),c.entering&&(b._enter(),c.inputEl.on("keyup.calender",function(a){13===a.which&&(c.inputEl.blur(),b.hide())}))},_enter:function(){var a=this,b=a.options,c=b.format,d=b.format,e=function(a,b){for(var c=[/y+/,/M+/,/d+/,/h+/,/m+/,/s+/,/w+/,/q+/],d=0;d<c.length;d++)a=a.replace(c[d],b[d]);return a};c=e(c,["9999","1x","3z","2r","59","59","5k","q"]),d=e(d,["yyyy","MM","dd","hh","mm","ss","ww","q"]),b.inputEl.data("fmOpts",{format:b.format,fullFormat:d,isRange:b.isrange,okBtn:b.okbtn,separator:b.separator}).unmaskCL().maskCL(b.isrange?c+"~"+c:c)},_getDefault:function(){var b=this,d=b.options,e=[];0!==d.value.length?e=d.value:d.isrange?(e=a.trim(d.inputEl.eq(0).val()).split("~"),e=e.join("")?e:[null,null]):a.each(d.inputEl,function(){e.push(a.trim(a(this).val()))}),d.selDate=j(c(e,d.format))},_buildData:function(c,d){var j,k,l,m,n,o,p=this,q=p.options;if(q.isBuild&&(void 0===d?(q[q.curModel[3]]=[],q.yearPop[q.curModel[1]]=[]):(o=!p._isReady("yearPop",d),q[q.curModel[3]][d]=[],o&&(q.yearPop[q.curModel[1]][d]=[]))),!q.isBuild&&"all"===q.model||"date"===q.curModel[0])if(void 0===d)for(m=0;m<q.panel;m++)j=c[m]?new Date(c[m][0],c[m][1],1):new Date(j.getFullYear(),j.getMonth()+1,1),q.yearPop.forDate.push(f(j.getFullYear()-4,12)),q.datePanel.push(e.call(p,j));else j=new Date(c[0][0],c[0][1],1),o&&(q.yearPop.forDate[d]=f(j.getFullYear()-4,12)),q.datePanel[d]=e.call(p,j);if(!q.isBuild&&"all"===q.model||"year"===q.curModel[0])if(void 0===d)for(m=0;m<q.panel;m++)n=c[m]?c[m][0]:q.yearPanel[m-1].data[11]+14,q.yearPop.forYear.push(f(n-4,12)),q.yearPanel.push({year:n,month:null,data:f(n-7,18)});else n=c[0][0],o&&(q.yearPop.forYear[d]=f(n-4,12)),q.yearPanel[d]={year:n,month:null,data:f(n-7,18)};if(!q.isBuild&&"all"===q.model||"month"===q.curModel[0])if(void 0===d)for(m=0;m<q.panel;m++)n=c[m]?c[m][0]:q.monthPanel[m-1].year+1,q.yearPop.forMonth.push(f(n-4,12)),q.monthPanel.push({year:n,month:null,data:g()});else n=c[0][0],o&&(q.yearPop.forMonth[d]=f(n-4,12)),q.monthPanel[d]={year:n,month:null,data:g()};if(!q.isBuild&&"all"===q.model||"quarter"===q.curModel[0])if(void 0===d)for(m=0;m<q.panel;m++)n=c[m]?c[m][0]:q.quarterPanel[m-1].year+1,q.yearPop.forQuarter.push(f(n-4,12)),q.quarterPanel.push({year:n,month:null,quarter:[1,2,3,4]});else n=c[0][0],o&&(q.yearPop.forQuarter[d]=f(n-4,12)),q.quarterPanel[d]={year:n,month:null,quarter:[1,2,3,4]};if(!q.isBuild&&"all"===q.model||"date"===q.curModel[0]){var r;for(q.timePanel=[],r=q.isrange?2:1,k=0;r>k;k++)l=q.cache.selDate[k]?q.cache.selDate[k]:i(new Date,q.format),q.timePanel.push([l[5],l[6],l[7]])}if(!q.isBuild&&"all"===q.model||"week"===q.curModel[0]){var s;if(void 0===d)for(m=0;m<q.panel;m++)c[m]&&(s=b.Date.getOnWeek(new Date(c[m][0],c[m][1]>0?c[m][1]:1,c[m][2]||1),q.iso8601,q.sunday_first)),n=c[m]?s.year:q.weekPanel[m-1].year+1,q.yearPop.forWeek.push(f(n-4,12)),q.weekPanel.push({year:n,month:null,data:h(n,q.iso8601,q.sunday_first)});else n=c[0][0],o&&(q.yearPop.forWeek[d]=f(n-4,12)),q.weekPanel[d]={year:n,month:null,data:h(n,q.iso8601,q.sunday_first)}}q.cache.yearPop=a.extend(!0,{},q.yearPop)},_buildUpdateDate:function(){var a,b,c,d=this,e=d.options,f=new Date,g=[],h=[];for("date"===e.model&&(a=k.call(d,"mindate"),b=k.call(d,"maxdate"),a=void 0!==e.mindate[0]?null===a?0:a:0,f=0===a?f:a-f>0?a:f,b=void 0!==e.maxdate[0]?null===b?0:b:0,f=0===b?f:0>b-f?b:f,f=f||new Date),f=i(f,e.format),c=0;c<e.cache.selDate.length;c++)0===c?(h.push(e.cache.selDate[c]?e.cache.selDate[c]:f),g.push([h[c][2],h[c][3],h[c][4]])):e.cache.selDate[c]&&(h.push(e.cache.selDate[c]),g.push([h[c][2],h[c][3],h[c][4]]));return g},_draw:function(){var b=this,c=b.options;b._buildData(b._buildUpdateDate()),b._buildTemplate("body","calFrame",a.extend(!0,{},c),!0),c.pEl=a("#C_CR_"+c.uuid)},_drawYearPop:function(a,b){var c,d=this,e=d.options,f=e.pEl.children(".C_CR_YM_wrap").find("div.C_CR_YMer_pop_y");if(c=e.yearPop[a]||[],"undefined"!=typeof b)d._buildTemplate(f.eq(b),"yearPopFrame",c[b]);else for(var g=0;g<c.length;g++)d._buildTemplate(f.eq(g),"yearPopFrame",c[g])},_tagEventHandle:function(b,c,d){b.stopPropagation();var e=this,f=e.options,g=d.nodeName;if(n.call(e),"A"===g){var h=a(d),i=h.attr("val");h.parents("ul").find("a").removeClass("C_CR_Tag_cur"),h.addClass("C_CR_Tag_cur"),f.curModel=[i,"for"+i.charAt(0).toUpperCase()+i.substring(1),i+"Frame",i+"Panel"],f.cache.selDate=[],f.isChangeTag=!0,e._selectTag(f.curModel)}},_binderHandler:function(a,b,c){a.stopPropagation();var d=this,e=d.options,f=c.nodeName;e.readonly||e.disable||"true"!==e.el.attr("isShow")&&(e.el.attr("isShow","true"),"INPUT"!==f&&e.inputEl.click())},_mainEventHandle:function(b,c,d){b.stopPropagation();var e=this,f=a(d),g=f[0].nodeName;if(n.call(e),"A"===g){for(var h=f.attr("val").split("|"),i=0;i<h.length;i++)h[i]=+h[i];e._cachingDate(h,f)}},_ymEventHandle:function(b,c,d){b.stopPropagation();var e,f,g=this,h=g.options,i=a(d),j=i[0].nodeName;if("A"===j)switch(e=i.attr("val"),f=+i.parents(".C_CR_YMer_item:eq(0)").attr("popIndex"),e){case"prevMonth":n.call(g),"date"===h.curModel[0]?g._selectMonthYear("month",null,null,-1):"year"===h.curModel[0]?g._selectMonthYear("year",null,null,-18):g._selectMonthYear("year",null,null,-1);break;case"nextMonth":n.call(g),"date"===h.curModel[0]?g._selectMonthYear("month",null,null,1):"year"===h.curModel[0]?g._selectMonthYear("year",null,null,18):g._selectMonthYear("year",null,null,1);break;case"prevPop":g._changeYear(-12,f);break;case"nextPop":g._changeYear(12,f);break;case"closePop":n.call(g);break;default:g._closeYMerPop(!0),e=Number(e),"y"===i.attr("panel")?g._selectMonthYear("year",e,f):g._selectMonthYear("month",e,f)}else"INPUT"===j||"SPAN"===j?(i=i.children("input").size()?i.children("input"):i,g._closeYMerPop(!1,i),i.blur()):n.call(g)},_timerEventHandle:function(b,c,d){b.stopPropagation();var e,f,g=this,h=a(d),i=h[0].nodeName;if("SPAN"===i){switch(e=h.attr("val")){case"up":g._selectTime(h,1);break;case"down":g._selectTime(h,-1)}n.call(g)}else if("INPUT"===i){switch(h.blur(),h.attr("val")){case"h":f=g.$tmp.$timeHour;break;case"m":f=g.$tmp.$timeMin;break;case"s":f=g.$tmp.$timeSecond}g.$tmp.curTimeTxt=h,n.call(g,f)}else if("A"===i){if("C_CR_Timer_up"===h.attr("class")||"C_CR_Timer_down"===h.attr("class")){switch(h=h.children("span"),e=h.attr("val")){case"up":g._selectTime(h,1);break;case"down":g._selectTime(h,-1)}return void n.call(g)}e=h.attr("val"),g.$tmp.curTimeTxt&&g.$tmp.curTimeTxt.val(10>e?"0"+e:e),n.call(g)}},_btnEventHandle:function(c,d,e){c.stopPropagation();var f,g=this,h=g.options,j=a(e),k=j.attr("val");switch(n.call(g),k){case"close":g.hide();break;case"cur":var l=new Date,m=i(l,h.format);"quarter"===h.curModel[0]?g._cachingDate([m[2],Math.floor(m[3]/3)+1,1],null,"btn"):"week"===h.curModel[0]?g._cachingDate([m[2],b.Date.getOnWeek(new Date(m[0]),h.iso8601,h.sunday_first).week],null,"btn"):g._cachingDate([m[2],m[3],m[4]],null,"btn");break;case"clear":s.call(g,null,"clear",null),h.selIndex=0,g.setValue(h.isrange?["",""]:[""]),h.entering&&"function"==typeof h.inputEl.data("fmOpts").clearBuffer&&h.inputEl.data("fmOpts").clearBuffer(0,h.inputEl.data("fmOpts").buffer.length);
break;case"ok":"date"===h.curModel[0]&&(f=i(new Date,h.format),h.cache.selDate=/[y|M|q|w|d]/.test(h.format)?h.cache.selDate:h.isrange?[f,f]:[f]),g._export()}},_selectTag:function(b){var c=this,d=c.options,e=d.pEl.children(".C_CR_main_wrap"),f=e.children(".C_CR_main_loading"),g=e.children(".C_CR_main_panel[val="+b[0]+"]"),h=g.siblings(),i="true"===g.attr("isBuild");d.cache.selDate=a.extend(!0,[],d.selDate),d.format=d.formatList[b[0]],h.hide(),f.show(),"all"!==b[0]&&"date"!==b[0]?l(d.pEl,"disMonth"):l(d.pEl,"undo"),i?i&&!c._isReady("mainPanel")?c._update(c._buildUpdateDate()):s.call(c,null,"clear",null):(c._buildTemplate(g,b[2],d),g.attr("isBuild","true")),f.hide(),g.show(),o.call(c),d.isBuild||("all"===d.model||"date"===b[0]&&/[h|m|s]/.test(d.format))&&(c._buildTemplate(d.pEl.children(".C_CR_Timer_box"),"timeFrame",d),p.call(c)),q.call(c),"all"===d.model&&(u(d),v(d)),c._setYM(b[0]),c._scanFocus(),d.isBuild&&n.call(c),d.entering&&d.isChangeTag&&(c._clear(),c._enter(),d.isChangeTag=!1)},_selectMonthYear:function(b,c,d,e){function f(a){g=h.eq(a).attr("val").split("|"),g[l]="undefined"!=typeof e?Number(g[l])+e:c,k.push([Number(g[0]),Number(g[1])])}var g,h,i=this,j=i.options,k=[],l="month"===b?1:0;if(h=a("table.C_CR_YMer",j.pEl),"undefined"!=typeof d&&null!=d)f(d);else for(var m=0;m<h.length;m++)f(m);i._update(k,d)},_selectTime:function(b,c){var d,e,f,g;e=b.parents(".C_CR_Timer_op").eq(0),f=e.prev().children("input"),d=+a.trim(f.val()),g=d+c,"timer_h"===f.attr("name")?g>23?g=0:0>g&&(g=23):g>59?g=0:0>g&&(g=59),g=String(g),f.val(1===g.length?0+g:g)},_cachingDate:function(a,c,d){var e=this,f=e.options,g=null,h=null,j=null;switch(f.isrange?(2===f.selIndex||0===f.selIndex)&&e._clear(f.okbtn):e._clear(f.okbtn),f.curModel[0]){case"date":g=e._getTime(f.selIndex),h=new Date(a[0],a[1],a[2],g[0],g[1],g[2]);break;case"year":h=new Date(a[0],0,1);break;case"month":h=new Date(a[0],a[1],1);break;case"quarter":h=new Date(a[0],3*(a[1]-1),1);break;case"week":h=b.Date.getWeekRange(a[0],a[1],f.iso8601,f.sunday_first)[0]}if(j=i(h,f.format),f.cache.selDate[f.selIndex]=j,f.isrange){f.selIndex=0;for(var k=0;k<f.cache.selDate.length;k++){if(null===f.cache.selDate[k]){f.selIndex=k;break}f.selIndex++}}else f.selIndex++;e._focus([h],"SEL",c),(!f.okbtn||!/[h|m|s]/.test(f.format)&&"btn"===d&&f.isrange===!1)&&e._export()},_changeYear:function(a,b){var c,d=this,e=d.options,g=e.yearPop[e.curModel[1]];a>0?c=f(g[b][g[b].length-1]+1,a):0>a&&(c=f(g[b][0]-1,a)),e.yearPop[e.curModel[1]][b]=c,d._drawYearPop(e.curModel[1],b)},_getTime:function(b){var c=this,d=c.options,e=[],f=null,g=a("table.C_CR_Timer",d.pEl).eq(b);return f=g.find(":text"),e.push(+f.eq(0).val()||0,+f.eq(1).val()||0,+f.eq(2).val()||0),e},_update:function(a,b){var c,d=this,e=d.options;c=e.pEl.children(".C_CR_main_wrap").children(".C_CR_main_panel[val="+e.curModel[0]+"]"),"undefined"!=typeof b&&null!==b?d._buildData(a,b):d._buildData(a,void 0),d._buildTemplate(c,e.curModel[2],e),("all"===e.model||"date"===e.model&&/[h|m|s]/.test(e.format))&&d._setTime(e.selDate),d._setYM(e.curModel[0]),d._scanFocus()},_setYM:function(a){var b,c=this,d=c.options;b=d[a+"Panel"];for(var e=0,f=b.length;f>e;e++)m(d.pEl,{year:b[e].year,month:null!=b[e].month?b[e].month+1:""},e)},_setTime:function(b){var c,d,e,f,g,h=this,i=h.options;c=a("table.C_CR_Timer",i.pEl);for(var j=0;j<c.length;j++)d=c.eq(j).find(":text"),b[j]&&(e=b[j][5],f=b[j][6],g=b[j][7],d.eq(0).val(10>e?"0"+e:e),d.eq(1).val(10>f?"0"+f:f),d.eq(2).val(10>g?"0"+g:g))},_closeYMerPop:function(b,c){var d=this,e=d.options,f=null,g=null,h=c?c.parents(".C_CR_YMer_item"):null;n.call(d,b?null:h.children(".C_CR_YMer_pop"),"ym"),h&&(f=h.attr("pop"),g=h.attr("popIndex")),"year"===f&&(""===g||d._isReady("yearPop",g)||(e.yearPop=a.extend(!0,{},e.cache.yearPop),setTimeout(function(){d._drawYearPop(e.curModel[1],g)},50)))},_scanFocus:function(){for(var a=this,b=a.options,c=(b.inputEl.index(a.eventEl),[]),d=0;d<b.cache.selDate.length;d++)b.cache.selDate[d]&&c.push(b.cache.selDate[d][0]);a._focus(c,"SEL"),a._focus([new Date],"CUR")},_focus:function(a,c,d){for(var e=this,f=e.options,g=[],h=0;h<a.length;h++){switch(f.curModel[0]){case"date":a[h]=[a[h].getFullYear(),a[h].getMonth(),a[h].getDate()];break;case"year":a[h]=[a[h].getFullYear()];break;case"month":a[h]=[a[h].getFullYear(),a[h].getMonth()];break;case"quarter":a[h]=[a[h].getFullYear(),Math.floor(a[h].getMonth()/3)+1];break;case"week":a[h]=[a[h].getFullYear(),b.Date.getOnWeek(a[h]).week]}g.push(a[h])}s.call(e,d,c,g)},_clear:function(a){var b=this,c=b.options;a||(c.inputEl.val(""),c.value=c.isrange?["",""]:[""],c.selDate=c.isrange?[null,null]:[null]),c.cache.selDate=c.isrange?[null,null]:[null],c.selIndex=0,s.call(b,null,"clear",null)},_export:function(){function a(){for(var a=f.cache.selDate.length,b=0;a>b;b++)f.cache.selDate[b]&&(g=e._getTime(b),c=f.cache.selDate[b],c=new Date(c[2],c[3],c[4],g[0],g[1],g[2]),c=i(c,f.format),f.cache.selDate[b]=c)}var b,c,d,e=this,f=e.options,g=null,h=!0;if(f.isrange){f.cache.selDate=j(f.cache.selDate),a(),b=[f.cache.selDate[0]?f.cache.selDate[0][1]:"",f.cache.selDate[1]?f.cache.selDate[1][1]:""];for(var k=0;k<b.length;k++)b[k]||(h=!1);h=f.okbtn?!0:h}else a(),b=f.cache.selDate[0]?f.cache.selDate[0][1]:"";d=e.setValue(b),h="object"==typeof d?h:d,h&&e.hide()},_isReady:function(c,d){function e(a,b){return a=a?a.getTime():a,b=b?b.getTime():b,a!=b}var f,g,h,i,j=this,l=j.options,m=l.curModel[0];if("mainPanel"===c){h=l.cache.selDate,i=l[l.curModel[3]],f=e(l.mindate[1],k.call(j,"mindate"))||e(l.maxdate[1],k.call(j,"maxdate"));for(var n=0;n<h.length;n++)if(null!==h[n]){for(var o=0;o<i.length;o++){switch(m){case"date":g=h[n][2]===i[o].year&&h[n][3]===i[o].month;break;case"year":for(var p=0;p<i[o].data.length;p++){if(h[n][2]===i[o].data[p]){g=!0;break}g=!1}break;case"week":var q=b.Date.getOnWeek(h[n][0],l.iso8601,l.sunday_first);g=q.year===i[o].year;break;default:g=h[n][2]===i[o].year}if(g)break}if(!g)break}else g=!0;g=g&&!f}else"yearPop"===c&&(h=l[l.curModel[3]][d].year,i=l.pEl.children(".C_CR_YM_wrap").find("div.C_CR_YMer_pop_y:eq("+d+")>table").attr("val")||"none",g=a.trim(i).indexOf(h+"")>=0);return g},_setEmptyText:function(a){var b=this,c=b.options;c.el.find(".C_CR_emptytext").html(a?c.emptytext:"")},show:function(){var b=this,d=b.options,e=!0;return e="function"==typeof d.on_before_show?d.on_before_show(b,b.getValue()):!0,!e||d.disable?(d.inputEl.blur(),d.inputEl.parents(".C_CR_calInput_bd").removeClass(d.inputFocusClass),!1):(w&&w.hide(),d.isBuild?(d.selDate=c(a.extend([],d.selDate),d.format),d.cache.selDate=a.extend([],d.selDate),b._isReady("mainPanel")?(b._scanFocus(),("all"===d.model||"date"===d.model&&/[h|m|s]/.test(d.format))&&b._setTime(d.selDate)):b._update(b._buildUpdateDate()),d.pEl.show()):(b._draw(),r.call(b,d.tags,d.curModel[0]),d.pEl.show(),b._selectTag(d.curModel)),d.isBuild&&"all"!==d.model||u(d),v(d),w=b,a(document).unbind("mouseup.calender").one("mouseup.calender",function(a){a.stopPropagation(),w&&w.hide(),w=null}),b)},hide:function(){var a=this,b=a.options;return b.disable||!b.pEl?a:(b.el.attr("isShow","false"),n.call(a),b.pEl.hide(),b.inputEl.parents(".C_CR_calInput_bd").removeClass(b.inputFocusClass),""===b.inputEl.val()&&a._setEmptyText(!0),s.call(a,null,"clear",null),w=null,b.cache.selDate=b.isrange?[null,null]:[null],a)},setValue:function(d,e){var f=this,g=f.options,h=[],i=[],j=a.extend({},g.formatList),l=!0;if(g.disable)return f;if(d="number"===a.type(d)?d+"":d,d=d||null,d="array"!==a.type(d)?[d]:d,g.value=[],0!==d.length){if(h=c(a.extend(!0,[],d),g.format),!e){var m=k.call(f,"maxdate",!0),n=k.call(f,"mindate",!0);a.each(h,function(a,b){if(null!=b){if(m&&b[0]-m>0)return h[a]=null,t.call(f,"\u6240\u9009\u65e5\u671f\u8d85\u51fa\u6700\u5927\u65e5\u671f\u8303\u56f4"),l=!1,!0;if(n&&n-b[0]>0)return h[a]=null,t.call(f,"\u6240\u9009\u65e5\u671f\u8d85\u51fa\u6700\u5c0f\u65e5\u671f\u8303\u56f4"),l=!1,!0}})}g.selDate=a.extend(!0,[],h),g.cache.selDate=a.extend(!0,[],h)}if(g.selIndex=0,!l)return!1;for(var o=0;o<h.length;o++)h[o]&&g.selIndex++,g.value.push(h[o]?h[o][1]:""),i.push(h[o]?b.Date.format(h[o][0],j[g.curModel[0]]):"");return i=i.join("~"),d=/^~$/.test(i)?"":/^.*~$/.test(i)?g.separator?i:i=i.replace("~",""):i,g.inputEl.eq(0).val(d),f._setEmptyText(""===i?!0:!1),e?f.onValid():f._triggerHandler("change"),"function"!=typeof g.on_change||e||g.on_change.apply(f,a.extend(!0,[],h)),clearTimeout(g.el.data("timeOut")-0),f},getValue:function(a){var c=this,d=c.options,e=[];if(d.disable)return"";a=a?a:"string";for(var f=d.isrange?2:1,g=0;f>g;g++)d.value[g]?e[g]="date"===a?b.Date.parse(d.value[g],d.format):d.value[g]:(e[g]="string"===a?"":null,d.value[g]="string"===a?"":null);return d.isrange?e:e[0]},setMaxDate:function(a){var c=this.options;if("date"===c.model)switch(typeof a){case"string":/\d{4}(\-\d{2}){2}/.test(a)&&(c.maxdate[0]=a);break;case"object":c.maxdate[0]=b.Date.format(a,"yyyy-MM-dd hh:mm:ss")}},setMinDate:function(a){var c=this.options;if("date"===c.model)switch(typeof a){case"string":/\d{4}(\-\d{2}){2}/.test(a)&&(c.mindate[0]=a);break;case"object":c.mindate[0]=b.Date.format(a,"yyyy-MM-dd hh:mm:ss")}},getDateRange:function(c){function d(a){return"date"===c?a:b.Date.format(a,"yyyy-MM-dd hh:mm:ss")}var e,f,g=this,h=g.options,i=a.extend(!0,[],h.selDate),j=[];c=c?c:"date",f="date"===c?null:"";for(var k=0;k<i.length;k++)if(e=i[k])switch(h.curModel[0]){case"month":j.push([d(new Date(e[2],e[3],1,0,0,0,0)),d(new Date(e[2],e[3],new Date(e[2],e[3]+1,0).getDate(),23,59,59,0))]);break;case"year":j.push([d(new Date(e[2],0,1,0,0,0,0)),d(new Date(e[2],11,31,23,59,59,0))]);break;case"quarter":j.push([d(new Date(e[2],e[3],1,0,0,0,0)),d(new Date(e[2],e[3]+2,new Date(e[2],e[3]+3,0).getDate(),23,59,59,0))]);break;case"week":j.push([d(new Date(e[2],e[3],e[4],0,0,0,0)),d(new Date(e[2],e[3],e[4]+6,23,59,59,0))]);break;default:j.push([d(new Date(e[0].getTime())),d(new Date(e[2],e[3],e[4],23,59,59,0))])}else j.push([f,f]);return 1===j.length?"date"===h.curModel[0]?j[0][0]:j[0]:[j[0][0],j[1][1]]},setWidth:function(a){var b=this.options.el.children("div"),c=this.options.width;null!=a&&void 0!==a&&""!==a&&"object"!=typeof a&&(c="string"==typeof a&&/^(\d)+(px|pt|em|PX|PT|EM|%)$/.test(a)?a:a+"px",b.css({width:a}))},setReadonly:function(a){a="undefined"==typeof a?!0:a;var b=this,c=b.options,d=a?"addClass":"removeClass";a!==c.readonly&&(c.el.children(".C_CR_calInput_bd")[d](c.inputDisClass),a?c.inputEl.prop("readonly",!0):c.entering&&c.inputEl.prop("readonly",!1),c.readonly=a)},destroy:function(){var a=this,b=a.options;a._super(),b.el.unbind().remove(),b.pEl&&b.pEl.remove()},setTextMode:function(){var a=this,b=a.options,c=a.getLabelValue();b.el.eq(0).html(b.isrange?c[0]+"~"+c[1]:c[0])},getLabelValue:function(){var b,c=this,d=c.options,e=[],f=/^(?:\{.*\}|\[.*\])$/;(null===d.value||void 0===d.value)&&(d.value=""),b=a.type(d.value),"string"===b&&(d.value=f.test(d.value)?a.parseJSON(d.value.replace(/\\'/g,"#@@#").replace(/'/g,'"').replace(/#@@#/g,"'")):[d.value]);for(var g=0;g<d.value.length;g++)b=a.type(d.value[g]),"string"===b?e.push(d.value[g]):"date"===b&&e.push(i(d.value[g],d.format)[1]);return e},onInValid:function(b,c){var d=this,e=d.options;e.tipTxt=null===e.tipTxt?e.el.attr("tip"):e.tipTxt,e.el.attr("tip",c),a(d.tipPosition,e.el).attr("tipType","error"),e.el.children(".C_CR_calInput_bd").addClass(e.inputErrClass)},onValid:function(){var b=this,c=b.options;c.tipTxt=null===c.tipTxt?c.el.attr("tip"):c.tipTxt,c.el.attr("tip",c.tipTxt||""),a(b.tipPosition,c.el).attr("tipType","normal"),c.el.children(".C_CR_calInput_bd").removeClass(c.inputErrClass)}})}(window.comtop.cQuery,window.comtop),function(a,b){function c(){var a=document.createElement("input"),b="onpaste";return a.setAttribute(b,""),"function"==typeof a[b]?"paste":"input"}var d,e=c()+".mask",f=navigator.userAgent,g=/iphone/i.test(f),h=/android/i.test(f);b.maskCL={definitions:{9:"[0-9]",1:"[0-1]",2:"[0-2]",3:"[0-3]",4:"[0-4]",5:"[0-5]",6:"[0-6]",7:"[0-7]",8:"[0-8]",a:"[A-Za-z]","*":"[A-Za-z0-9]",q:"[1-4]",x:"x",r:"r",z:"z",k:"k"},dataName:"rawMaskFn",placeholder:"_"},b.fn.extend({caretCL:function(a,b){var c;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof a?(b="number"==typeof b?b:a,this.each(function(){this.setSelectionRange?this.setSelectionRange(a,b):this.createTextRange&&(c=this.createTextRange(),c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select())})):(this[0].setSelectionRange?(a=this[0].selectionStart,b=this[0].selectionEnd):document.selection&&document.selection.createRange&&(c=document.selection.createRange(),a=0-c.duplicate().moveStart("character",-1e5),b=a+c.text.length),{begin:a,end:b})},unmaskCL:function(){return this.trigger("unmaskCL")},maskCL:function(c,f){var i,j,k,l,m,n;return!c&&this.length>0?(i=b(this[0]),i.data(b.maskCL.dataName)()):(f=b.extend({placeholder:b.maskCL.placeholder,completed:null},f),j=b.maskCL.definitions,k=[],l=n=c.length,m=null,b.each(c.split(""),function(a,b){"?"===b?(n--,l=a):j[b]?(k.push(new RegExp(j[b])),null===m&&(m=k.length-1)):k.push(null)}),this.trigger("unmaskCL").each(function(){function i(a){for(;++a<n&&!k[a];);return a}function o(a){for(;--a>=0&&!k[a];);return a}function p(a,b){var c,d;if(!(0>a)){for(c=a,d=i(b);n>c;c++)if(k[c]){if(!(n>d&&r(k[c],y[d],c)))break;y[c]=y[d],y[d]=f.placeholder,d=i(d)}v(),x.caretCL(Math.max(m,a))}}function q(a){var b,c,d,e;for(b=a,c=f.placeholder;n>b;b++)if(k[b]){if(d=i(b),e=y[b],y[b]=c,!(n>d&&r(k[d],e,d)))break;c=e}}function r(a,b,c){var d,e,f;switch(a.toString().replace(/\//g,"")){case"x":if(d=x.val().substring(c-1,c),e=parseFloat(b),"0"===d)return e>0&&9>=e;if("1"===d)return e>=0&&3>e;break;case"z":if(f=x.val(),d=f.substring(c-1,c),e=parseFloat(b),e=parseFloat(b),"0"===d)return e>0&&9>=e;if("1"===d||"2"===d)return e>=0&&9>=e;if("3"===d)return e>=0&&1>=e;break;case"r":if(d=x.val().substring(c-1,c),e=parseFloat(b),"0"===d||"1"===d)return e>=0&&9>=e;if("2"===d)return e>=0&&3>=e;break;case"k":if(d=x.val().substring(c-1,c),e=parseFloat(b),"0"===d)return e>0&&9>=e;if("1"===d||"2"===d||"3"===d||"4"===d)return e>=0&&9>=e;if("5"===d)return e>=0&&3>=e;break;default:return a.test(b)}}function s(a){if(!x.prop("readonly")){var b,c,d,e=a.which;8===e||46===e||g&&127===e?(b=x.caretCL(),c=b.begin,d=b.end,d-c===0&&(c=46!==e?o(c):d=i(c-1),d=46===e?i(d):d),u(c,d),p(c,d-1),a.preventDefault()):27===e&&(x.val(z),x.caretCL(0,w()),a.preventDefault())}}function t(a){if(!x.prop("readonly")){var c,d,e,g=a.which,j=x.caretCL();return a.ctrlKey||a.altKey||a.metaKey||32>g?!1:void(g&&(j.end-j.begin!==0&&(u(j.begin,j.end),p(j.begin,j.end-1)),c=i(j.begin-1),n>c&&(d=String.fromCharCode(g),r(k[c],d,c)&&(q(c),y[c]=d,v(),e=i(c),h?setTimeout(b.proxy(b.fn.caret,x,e),0):x.caretCL(e),f.completed&&e>=n&&f.completed.call(x))),a.preventDefault()))}}function u(a,b){var c;for(c=a;b>c&&n>c;c++)k[c]&&(y[c]=f.placeholder)}function v(){x.val(y.join(""))}function w(a){var b,c,d,e,g,h=x.val(),i=-1,j=x.data("fmOpts");for(b=0,c=0;n>b;b++)if(k[b]){for(y[b]=f.placeholder;c++<h.length;)if(d=h.charAt(c-1),r(k[b],d,b)){y[b]=d,i=b;break}if(c>h.length)break}else y[b]===h.charAt(c)&&b!==l&&(c++,i=b);return a?(v(),x.val(x.val().substring(0,i+1))):l>i+1?(g=cui(x.parents("span").eq(0)),e=g.options,i===(l-1)/2&&j.isRange?(v(),x.val(x.val().substring(0,j.separator?i+1:i))):(x.val(""),u(0,n))):(v(),x.val(x.val().substring(0,i+1))),l?b:firstNonmaskCLPos}var x=b(this),y=b.map(c.split(""),function(a){return"?"!==a?j[a]?f.placeholder:a:void 0}),z=x.val();x.data("fmOpts").buffer=y,x.data("fmOpts").clearBuffer=u,x.data(b.maskCL.dataName,function(){return b.map(y,function(a,b){return k[b]&&a!==f.placeholder?a:null}).join("")}),x.one("unmaskCL",function(){x.unbind(".maskCL").removeData(b.maskCL.dataName)}).bind("focus.maskCL",function(){if(!x.prop("readonly")){clearTimeout(d);var e,f,g=x.data("fmOpts");z=x.val(),""!==b.trim(z)&&(g.isRange?(f=z.split("~"),f[0]&&(f[0]=a.Date.parse(f[0],g.format),z=a.Date.format(f[0],g.fullFormat)),f[1]?(f[1]=a.Date.parse(f[1],g.format),z+="~"+a.Date.format(f[1],g.fullFormat)):z+=g.separator?"~":"",x.val(z)):(f=a.Date.parse(z,g.format),z=x.val(a.Date.format(f,g.fullFormat)))),e=w(!0),d=setTimeout(function(){v(),e===c.length?x.caretCL(0,e):x.caretCL(e)},10)}}).bind("blur.maskCL",function(){var b,c=x.data("fmOpts"),d=cui(x.parents("span").eq(0));d.options.el.data("timeOut",setTimeout(function(){w(),"true"!==d.options.el.attr("isShow")&&(""!==x.val()&&(c.isRange?(b=x.val().split("~"),b[0]=a.Date.parse(b[0],c.fullFormat),b[1]=a.Date.parse(b[1],c.fullFormat),null===b[0]&&null!==b[1]&&(b[0]=b[1]),null!==b[0]&&null!==b[1]&&(b[0]-b[1]>0&&b.reverse(),x.val(a.Date.format(b[0],c.format)+"~"+a.Date.format(b[1],c.format)))):(b=a.Date.parse(x.val(),c.fullFormat),x.val(a.Date.format(b,c.format)))),d.setValue(b))},200))}).bind("keydown.maskCL",s).bind("keypress.maskCL",t).bind(e,function(){setTimeout(function(){var a=w(!0);x.caretCL(a),f.completed&&a===x.val().length&&f.completed.call(x)},0)}),w(!0)}))}})}(window.comtop,window.comtop.cQuery),function(a,b){b.UI.ClickInput=b.UI.Base.extend({options:{uitype:"ClickInput",name:"",value:"",emptytext:"",width:"",maxlength:-1,readonly:!1,icon:"",iconwidth:"",enterable:!1,editable:!1,textmode:!1,on_iconclick:null,on_change:null,on_focus:null,on_blur:null,on_keyup:null,on_keydown:null},relation:"data-relation-value",tipPosition:".click_input_base",_init:function(){var a=this.options;a.id=b.guid(),""==a.name&&(a.name=b.guid()+"_"+a.uitype)},_create:function(){var c,d=this.options,e=b.icon,f=d.icon;this.$inputWrap=a("#"+d.id+"_wrap"),this.$inputBox=a("#"+d.id+"_box"),c=this.$input=a("#"+d.id),this.$iconspan=a("#"+d.id+"_icon"),this.$iconWarp=a("#"+d.id+"_warp"),this.$empty=d.el.find(".cui_clickinput_empty").eq(0).on("click",function(){c.focus()}),/\./.test(f)?this.$iconspan.css("backgroundImage","url("+f+")"):this.$iconspan.html(e[f]||"&#xf03a;"),this.setWidth(d.width),d.readonly&&this.setReadOnly(!0),""==d.value&&""!=d.emptytext&&this.$empty.html(d.emptytext),this.setEditAble(d.editable)},setWidth:function(a){this.$inputWrap.css({width:b.Tools.fixedNumber(a)})},setValue:function(b,c){var d=this.$input,e=this.options;b=null==b||void 0==b?"":b,"string"===a.type(b)?(d.removeAttr(this.relation),d.val(b)):"array"===a.type(b)&&(b=a.extend([],b),b.length>0&&(d.val(b[0]),b.splice(0,1),d.attr(this.relation,b.join("|")))),""!==b&&null!=b||"array"===a.type(b)&&b.length>0?this.$empty.html(""):""!==e.emptytext&&this.$empty.html(e.emptytext),c?this.onValid():(this._triggerHandler("change"),this._changeHander())},getValue:function(){var b=this.$input,c=this.options,d=a.trim(b.val()),e=b.attr(this.relation),f=c.emptytext;return d===f?"":e?(d=d+"|"+e,d.split("|")):d},getLabelValue:function(){var b=this.options.value;return"string"===a.type(b)?b:"array"===a.type(b)?b.length>0?b[0]:"":void 0},setMaxLength:function(a){this.options.maxlength=a},setReadOnly:function(a){this.setReadonly(a)},setReadonly:function(a){var b=this.options,c=this.$inputWrap,d=this.$input;b.readonly=a,a?(d.attr("readonly",!0),c.addClass("input_garybg"),this._removeEmptyText(!0)):(b.editable&&d.attr("readonly",!1),c.removeClass("input_garybg"),this._removeEmptyText(!1)),this.$iconWarp.css({display:a?"none":"inline-block"}),a&&this.$inputBox.css("marginRight",0)},setEditAble:function(a){var b=this.options,c=this.$input;return b.readonly?!1:(b.editable=a,void(a?c.attr("readonly",!1):c.attr("readonly",!0)))},_changeHander:function(a){var b=this.options;return b.readonly?!1:(""!==this.getValue()&&this.$empty.html(""),this._triggerHandler("change"),void this._customHandler("on_change",a))},_focusHandler:function(a){var b=this.options;return b.readonly?!1:(this._removeEmptyText(!0),this.$inputBox.addClass("input_focus"),this.onValid(),void this._customHandler("on_focus",a))},_blurHandler:function(b){var c=this.options,d=this.$inputBox;if(c.readonly)return!1;this._removeEmptyText(!1),d.removeClass("input_focus"),this._textCounter();var e=this.getValue();switch(a.type(e)){case"string":""!==e&&null!=e&&this._triggerHandler("change");break;case"array":0!==e.length&&this._triggerHandler("change")}this._customHandler("on_blur",b)},_keyupHandler:function(a){var b=this.options;return b.readonly?!1:(this._textCounter(),void this._customHandler("on_keyup",a))},_keydownHandler:function(a){var b=this.options;return b.readonly?!1:b.enterable&&13==a.keyCode?(this._iconclickHandler(a),!1):void this._customHandler("on_keydown",a)},_iconclickHandler:function(a){var b=this.options;return b.readonly?!1:void this._customHandler("on_iconclick",a)},_customHandler:function(b,c){var d=this.options,e=d[b];"string"==a.type(e)?"function"==typeof window[e]&&window[e].call(this,c,this):"function"==typeof e&&e.call(this,c,this)},_removeEmptyText:function(a){var b=(this.$input,this.options.emptytext),c=this.getValue();""!=b&&0==c.length&&this.$empty.html(a?"":b)},_textCounter:function(){var a=this.options,c=this.getValue();if("object"==typeof c&&(c=this.$input.val()),a.maxlength>0){var d=b.String.getBytesLength(c);if(!(d>a.maxlength))return!1;this.setValue(b.String.intercept(c,a.maxlength))}return!1},onInValid:function(b,c){var d=this,e=d.options;d.$inputBox.addClass("click_input_invalid"),null==e.tipTxt&&(e.tipTxt=e.el.attr("tip")||""),e.el.attr("tip",c),a(d.tipPosition,e.el).attr("tipType","error")},onValid:function(){var b=this,c=b.options,d=a(b.tipPosition,c.el).attr("tipID");if(b.$inputBox.removeClass("click_input_invalid"),null==c.tipTxt&&(c.tipTxt=c.el.attr("tip")||""),void 0!==d){var e=cui.tipList[d];"undefined"!=typeof e&&e.hide()}c.el.attr("tip",c.tipTxt),a(b.tipPosition,c.el).attr("tipType","normal")}})}(window.comtop.cQuery,window.comtop),function(a,b){b.UI.Customform=b.UI.Base.extend({options:{uitype:"Customform",columnCount:2,datasource:[],classname:"customform"},_create:function(){var c,d,e,f,g,h,i=this.options.datasource;for(window.validater=window.validater||cui().validate(),g=0;g<i.length;g++)c=i[g],e=c.uitype||c.uiType,d=e.charAt(0).toLowerCase()+e.substring(1),cui(c.el)[d](c);for(g=0;g<i.length;g++)c=i[g],this._bindData(a(c.el),c.databind);if(!b.UI.scan.textmode&&!comtop.UI.scan.disable)for(g=0,h=i.length;h>g;g++)c=i[g],f=a(c.el).data("uitype"),!f||f.options.textmode||f.options.disable||(this._bindValidate(f.options.el,c.validate),this._bindTip(f.options.el,c,f.tipPosition||f.options.el))},_bindData:function(a,b){if(b){var c=b.split("."),d=c[0],e=c[1],f=window[d];if(f||(f=window[d]={}),f.nodeName)return alert("\u6570\u636e"+d+"\u4e0e\u9875\u9762\u7684\u6807\u7b7eID\u540d\u76f8\u540c\uff0c\u8bf7\u66f4\u540d;"),!1;var g=cui(f).databind();g.addBind(a,e)}},_bindValidate:function(b,c){if(c)switch(a.type(c)){case"array":for(var d=0;d<c.length;d++)c[d].rule?window.validater.add(cui(b),c[d].type,c[d].rule):window.validater.add(cui(b),c[d].type);break;case"string":window.validater.add(cui(b),c)}},_bindTip:function(b,c,d){d=a(d,b),void 0!=cui(b).options.textmode&&void 0==c.tip&&(b.attr("tip",""),c.tip=""),void 0!=c.tip&&(b.attr("tip",c.tip),cui.tip(d,{trigger:c.trigger,tipEl:b}))}})}(window.comtop.cQuery,window.comtop),function(a){"use strict";a.cui||(a.cui={});var b=a.comtop,c=b&&b.cQuery?b.cQuery:a.jQuery,d=a.cui,e=a.document,f=c.browser.msie,g=f&&"6.0"===c.browser.version,h=f&&!c.support.boxModel,i=function(){var a=c("body"),b=a.data("cui_dialog_eventproxylay");return b||(b=c(e.createElement("div")).addClass("cui_dialog_eventproxylay").appendTo(a),a.data("cui_dialog_eventproxylay",b)),b},j=function(a){a=a||{},this.opt=c.extend(!0,{},this.options,a),this._init()};j.prototype={options:{uitype:"Dialog",id:"",title:"",modal:!0,opacity:.5,canClose:!0,outClose:!1,width:350,height:100,left:"50%",top:"50%",draggable:!0,hideContent:!1,onClose:null,beforeClose:null,src:"",html:"",buttons:[],page_scroll:!0,refresh:!1,dragClass:".dialog-titlebar"},_init:function(){this._preProcessSettings(),this._buildHTML(),this._markUp(),this._setContent(),this._setUpSize(),this._bindEvent()},_preProcessSettings:function(){var b=this.opt,d=function(){return(900*Math.random()+100).toString().replace(".","")};if("string"==typeof b.width&&(b.width=a.parseInt(b.width)),"string"==typeof b.height&&(b.height=a.parseInt(b.height)),b.id=""===b.id?"dialog_"+d():b.id,b.left=b.left.toString(),b.top=b.top.toString(),b.left=-1!==b.left.indexOf("%")?b.left:parseInt(b.left,10)+"px",b.top=-1!==b.top.indexOf("%")?b.top:parseInt(b.top,10)+"px",a.frameElement){var e=b.buttons.length?105:50;b.height>c(a).height()-e&&(b.height=c(a).height()-e)}},_buildHTML:function(){var a=this.opt,b=[];a.modal&&(g&&b.push('<iframe id="cui_overlay_iframe_',a.id,'" class="cui_overlay_iframe"></iframe>'),b.push('<div class="cui_overlay" id="cui_overlay_',a.id,'"></div>')),b.push('<div class="cui-dialog-container" id="',a.id,'" style="'),b.push("left:",a.left,"; top:",a.top,';">'),a.canClose&&b.push('<a href="#/" title="\u5173\u95ed" hidefocus="true" class="dialog-close-btn"></a>'),b.push('<div class="dialog-titlebar"><span class="dialog-title" title="'+a.title.replace(/<.*?>/g,"").replace('"',"\uff02")+'">'),b.push(a.title,"</span></div>"),b.push('<div class="dialog-content" >'),"string"==typeof a.html&&""!==a.html?(b.push('<div class="dialog-content-inner">'),b.push(a.html),b.push("</div>")):b.push("string"==typeof a.src&&""!==a.src?'<iframe class="dialog-content-iframe" frameborder="no" border="0" src="about:blank" ></iframe><div class="dialog-iframe-loading"></div>':'<div class="dialog-content-inner"></div>'),c.isArray(a.buttons)&&a.buttons.length>0&&(b.push('<div class="dialog-ft">'),b.push(this._buildButtons()),b.push("</div>")),b.push("</div>"),b.push("</div>"),c("body").append(b.join(""))},_markUp:function(){var a=this.opt;this._$dialogContainer=c("#"+a.id),this._$dialogContent=this._$dialogContainer.find(".dialog-content-inner"),this._$iframe=this._$dialogContainer.find(".dialog-content-iframe"),this._$loadingLay=this._$dialogContainer.find(".dialog-iframe-loading"),this._$buttonContainer=this._$dialogContainer.find(".dialog-ft"),this._$overlay=c("#cui_overlay_"+a.id),this._$iframecover=c("#cui_overlay_iframe_"+a.id),this._$mousemoveProxyLay=i()},_setContent:function(){var a=this.opt;"object"==typeof a.el?this._$dialogContent.prepend(c(a.el).show()):"object"==typeof a.html&&this._$dialogContent.prepend(c(a.html).show())},_setUpSize:function(){var a=this.opt;a.height&&(this._$iframe.length?this._$iframe.height(a.height):this._$dialogContent.height(a.height)),a.width&&this._$dialogContainer.width(a.width)},_bindEvent:function(){var a=this.opt,b=this;this._$dialogContainer.delegate("a.cui-btn-generate-by-dg,a.dialog-close-btn","click",function(d){var e=c(d.target),f=e.attr("proxyIndex");return f&&""!==f?(a.buttons[f].disable||(f=parseInt(f,10),a.buttons[f].handler.call(b)),!1):(b.hide(),!1)}),this._$dialogContainer.on("mouseup.dialog",function(a){a.stopPropagation()}),a.outClose&&a.canClose&&(a.modal||c(document).bind("mouseup.dialog",function(){return b.hide(),!1}),this._$overlay.bind("click",function(){return b.hide(),!1})),a.draggable?this._doDrag():this._$dialogContainer.find(".dialog-titlebar").css("cursor","default")},_doDrag:function(){var b=this.opt,d=!1,e=!1,f=this,g={top:0,left:0},h=function(b){var d=c(a).height(),e=c(a).width(),g=f._dialogContainerOuterWidth,h=f._dialogContainerOuterHeight;b.left+g>=e&&(b.left=e-g),b.top+h>=d&&(b.top=d-h)},i=function(a){a.stopPropagation(),d=!1,e=!1,f._$mousemoveProxyLay.hide().off(),f._showContent(!0)},j=function(a){if(d){var c={left:a.clientX-g.left,top:a.clientY-g.top,"margin-left":"","margin-top":"",bottom:"",right:""};c.left=c.left<0?0:c.left,c.top=c.top<0?0:c.top,h(c),f._$dialogContainer.css(c),b.left=c.left,b.top=c.top,e||(f._showContent(!1),e=!0)}};c(b.dragClass,this._$dialogContainer).on("mousedown.dialogDrag",function(a){var b=this.getBoundingClientRect();return g.top=a.clientY-b.top,g.left=a.clientX-b.left,d=!0,f._$mousemoveProxyLay.show().off().on("mousemove.dialogDrag",function(a){j(a)}).on("mouseup.dialogDrag",i),!1}).on("mouseup.dialogDrag",i)},_showContent:function(a){a?this.opt.hideContent&&(this._$dialogContent.css("visibility","visible"),this._$iframe.css("visibility","visible")):this.opt.hideContent&&(this._$dialogContent.css("visibility","hidden"),this._$iframe.css("visibility","hidden"))},_buildButtons:function(){for(var a=this.opt,b={hide:!1,disable:!1,handler:function(){},name:"\u6309\u94ae"},d=[],e=0,f=a.buttons.length;f>e;e++){a.buttons[e]=c.extend({},b,a.buttons[e]);var g=a.buttons[e],h="cui-button cui-btn-generate-by-dg ";h+=g.disable?" disable-button ":"",h+=g.hide?" btn-normal-hide ":"",d.push('<a href="#/" hidefocus="true" onclick="return false;" class="',h,'" proxyIndex="',e,'">',g.name,"</a>")}return d.join("")},_calPosition:function(){var a=this.opt;return{"margin-left":-a.width/2,"margin-top":-a.height/2}},_setPosition:function(){var a,b=this.opt,c=this._$dialogContainer;"50%"===b.left&&"50%"===b.top?c.css(this._calPosition()):"100%"===b.left&&"100%"===b.top?c.css({left:"",top:"",right:0,bottom:0}):"50%"===b.left&&"50%"!==b.top&&(a=this._calPosition(),c.css({"margin-left":a["margin-left"]}))},_showOverLay:function(){0!==this._$overlay.length&&((g||h)&&(this._ieQScrollTop=c(e).scrollTop(),c(e).scrollTop(0),c("html,body").addClass("cui_overlay_dialog_ie6"),this._$iframecover.length&&this._$iframecover.show()),this._$overlay.css("opacity",this.opt.opacity).show())},_hideOverLay:function(){0!==this._$overlay.length&&((g||h)&&(c("html,body").removeClass("cui_overlay_dialog_ie6"),this._$iframecover.length&&this._$iframecover.hide(),c(e).scrollTop(this._ieQScrollTop)),this._$overlay.hide())},_initIframeSrc:function(){this._$iframe.length&&(!this._srcSetted||this.opt.refresh)&&(this._loadIframe(this.opt.src),this._srcSetted=!0)},_cacheDialogSize:function(){this._dialogContainerOuterWidth=this._$dialogContainer.outerWidth(),this._dialogContainerOuterHeight=this._$dialogContainer.outerHeight()},_loadIframe:function(a){var b=this;this._$loadingLay.height(this._$iframe.height()).show(),this._$iframe.one("load",function(){this.setAttribute("src",a)}),this._$iframe.css("visibility","hidden").attr("src","about:blank"),setTimeout(function(){b._$iframe.css("visibility","visible"),b._$loadingLay.hide()},500)},show:function(a){return this.opt.page_scroll||c("html").addClass("cui-dialog-noscroll"),this._setPosition(),this._showOverLay(),a?this.reload(a):this._initIframeSrc(),this._$dialogContainer.show(),this._cacheDialogSize(),this},reload:function(a){return this._$iframe.length&&a?(this._loadIframe(a),this.opt.src=a,this):this},hide:function(){return"function"==typeof this.opt.beforeClose&&this.opt.beforeClose.call(this)===!1?this:(this._hideOverLay(),this._$dialogContainer.hide(),this.opt.page_scroll||c("html").removeClass("cui-dialog-noscroll"),"function"==typeof this.opt.onClose&&this.opt.onClose.call(this),!this.opt.modal&&this.opt.outClose&&this.opt.canClose&&c(document).unbind("mouseup.dialog"),this)},setTitle:function(a){var b=typeof a;return("number"===b||"string"===b)&&(this.opt.title=a,c("span.dialog-title",this._$dialogContainer).html(a)),this},setButton:function(a,b){var d=arguments.length,e=this.opt,f=this,g=function(){f._$buttonContainer.length&&f._$buttonContainer.html(f._buildButtons())};if(1===d&&"array"===c.type(a))c.extend(e.buttons,a),g();else if(2===d&&"number"==typeof a){if(a>e.buttons.length)return;c.extend(e.buttons[a],b),g()}return this},setSize:function(a){return"object"!==c.type(a)?this:(a.width&&(this.opt.width=a.width),a.height&&(this.opt.height=a.height),this._setUpSize(),this._setPosition(),this._cacheDialogSize(),this)},getIframeMember:function(a){return this._$iframe.length?this._$iframe.get(0).contentWindow[a]:null},getIframe:function(){return this._$iframe.length?this._$iframe.get(0):null},move:function(a,b){var d={};return"number"==typeof a&&(d.top=a,d["margin-top"]="",this.opt.top=a),"number"==typeof b&&(d.left=b,d["margin-left"]="",this.opt.left=b),c.isEmptyObject(d)?this:(d=c.extend({bottom:"",right:""},d),this._$dialogContainer.css(d),this)},destroy:function(){this._$dialogContainer.remove(),this._hideOverLay(),this._$overlay.length&&this._$overlay.remove(),this._$iframecover.length&&this._$iframecover.remove(),this._$mousemoveProxyLay=this._$iframecover=null,this._$dialogContainer=this._$overlay=null,this._$dialogContent=this._$iframe=null,this._$loadingLay=this._$buttonContainer=null,this.opt=null
}},j.prototype.constructor=j,b&&b.UI&&b.cQuery&&(b.UI.Dialog=j,b.cQuery.fn.dialog=function(a){var c=this.data("uitype");return a=a||{},a.html=this.get(0),"object"!=typeof c&&(c=new b.UI.Dialog(a),c.isCUI=!0,this.data("uitype",c)),c}),d.dialog=function(a){var c=a.id,e=d("#"+c);if(e instanceof j)return"string"==typeof a.title&&e.opt.title!==a.title&&e.setTitle(a.title),"string"==typeof a.src&&e.opt.src!==a.src&&e.reload(a.src),e;var f=new j(a);return"object"==typeof b&&c&&(f.isCUI=!0,b.cQuery("#"+c).data("uitype",f)),f},d.dialog.setOpt=function(a){"object"===c.type(a)&&c.extend(j.prototype.options,a)}}(window),function(a,b){b.UI.Input=b.UI.Base.extend({options:{uitype:"Input",width:"200px",readonly:!1,maxlength:-1,"byte":!0,value:"",emptytext:"",name:"",type:"text",mask:"",fill:"",maskoptions:{},textmode:!1,align:"left",on_change:null,on_focus:null,on_blur:null,on_keyup:null,on_keydown:null,on_keypress:null},tipPosition:".cui_inputCMP_wrap",_init:function(){var a=this.options;a.id="cui_inputCMP_"+b.guid(),"password"!==a.type&&"hidden"!==a.type&&(a.type="text"),""===a.name&&(a.name=b.guid()+"_"+a.uitype),a.value=null===a.value||void 0===a.value?"":a.value,a.value=a.value.replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},_create:function(){var c,d=this,e=d.options;if(c=this.$input=a("#"+e.id).css("textAlign",e.align),this.$empty=e.el.find(".cui_input_empty").eq(0).css("text-align",e.align).on("mousedown",function(){c.focus()}),""!==e.mask){var f=a.extend({},e.maskoptions,{callback:function(){d._removeEmptyText(!1)}});b.UI.InputMask.doMask(this.$input,e.mask,f)}""===e.value&&this.$empty.html(e.emptytext),e.maxlength>-1&&(e["byte"]||this.$input.attr("maxlength",e.maxlength),this.$input.on("input propertychange",function(){e["byte"]&&d._textCounter()}),this._textCounter()),d.$input.on("blur",function(a){d._blurHandler(a)})},setWidth:function(a){"string"==typeof a&&/\d+(\%|px|pt|em)/.test(a)?this.options.el.children("div").css({width:a}):"number"==typeof a&&this.options.el.children("div").css({width:a+"px"})},setValue:function(c,d){var e=this.$input,f=this.options;if(c=null==c||void 0==c?"":c,e.val(c),f.maxlength>0&&this._textCounter(),""!==c){if(this.$empty.html(""),""!==f.mask){var g=a.extend({},f.maskoptions,{callback:function(){this._removeEmptyText(!1)}});b.UI.InputMask.doMask(this.$input,f.mask,g)}}else""!==f.emptytext&&this.$empty.html(f.emptytext);d?this.onValid():(this._triggerHandler("change"),e.change())},getValue:function(){var a=this.$input,c=this.options,d=a.val();return""!==c.mask?b.UI.InputMask.unMaskValue(a,c.mask,c.maskoptions):d},setEmptyText:function(b){{var c=this.options;this.$input}"string"==typeof b&&(c.emptytext=""===a.trim(b)?"":b,""===this.getValue()&&this.$empty.html(c.emptytext))},setMaxLength:function(a){this.options.maxlength=a},setReadOnly:function(a){var b=this.options,c=this.$input;b.readonly=a,c.attr("readonly",a),a?(b.el.children("div").addClass("cui_inputCMP_readonly"),this._removeEmptyText(!0)):(b.el.children("div").removeClass("cui_inputCMP_readonly"),this._removeEmptyText(!1))},setReadonly:function(a){this.setReadOnly(a)},focus:function(){var a=this.options;return a.readonly||a.el.find(":text, :password")[0].focus(),this},_changeHander:function(a){var b=this.options,c=this.$input;return b.readonly?!1:(""!==this.getValue()?this.$empty.html(""):""!==b.emptytext&&this.$empty.html(b.emptytext),this._triggerHandler("change"),this._customHandler("on_change",a),void(""===this.getValue()&&""!==b.fill&&c.val(b.fill)))},_focusHandler:function(a){var b=this.options,c=this;return b.readonly?!1:(c._removeEmptyText(!0),b.el.addClass("cui_inputCMP_focus"),c.onValid(),c.$input.val(c.getValue()),"0"===c.getValue()&&setTimeout(function(){c.$input[0].select()},20),void c._customHandler("on_focus",a))},_blurHandler:function(a){var b=this.options;if(b.readonly)return!1;this._removeEmptyText(!1),b.el.removeClass("cui_inputCMP_focus"),this._textCounter();var c=this.getValue();""!==c&&null!=c&&this._triggerHandler("change"),this._customHandler("on_blur",a)},_keyupHandler:function(a){var b=this.options;return b.readonly?!1:void this._customHandler("on_keyup",a)},_keydownHandler:function(a){var b=this.options;return b.readonly?!1:(13===a.which&&""===this.getValue()&&a.preventDefault(),void this._customHandler("on_keydown",a))},_keypressHandler:function(a){var b=this.options;return b.readonly?!1:void this._customHandler("on_keypress",a)},_customHandler:function(b,c){var d=this.options,e=d[b];"string"===a.type(e)?"function"==typeof window[e]&&window[e].call(this,c,this):"function"==typeof e&&e.call(this,c,this)},_removeEmptyText:function(a){var b=this.options.emptytext,c=this.getValue(),d=this.options;""!==b&&0===c.length&&this.$empty.html(a?"":d.emptytext)},_textCounter:function(){var a=this.options,b=this.getValue();if(a.maxlength>-1){var c=this._getStringLength(b);if(!(c>a.maxlength))return!1;this.$input.val(this._interceptString(b,a.maxlength))}return!1},_getStringLength:function(a){var c=this.options;return c["byte"]?b.String.getBytesLength(a):a.length},_interceptString:function(a,c){var d=this.options;return d["byte"]?b.String.intercept(a,c):b.String.interceptString(a,c)},onInValid:function(b,c){var d=this,e=d.options;e.el.addClass("cui_inputCMP_error"),null==e.tipTxt&&(e.tipTxt=e.el.attr("tip")||""),e.el.attr("tip",c),a(d.tipPosition,e.el).attr("tipType","error")},onValid:function(){var b=this,c=b.options,d=a(b.tipPosition,c.el).attr("tipID");if(c.el.removeClass("cui_inputCMP_error"),null==c.tipTxt&&(c.tipTxt=c.el.attr("tip")||""),void 0!==d){var e=cui.tipList[d];"undefined"!=typeof e&&e.hide()}c.el.attr("tip",c.tipTxt),a(b.tipPosition,c.el).attr("tipType","normal")}})}(window.comtop.cQuery,window.comtop),function(a,b){function c(){var c=(cui.handleMask,a("#"+g.id));if(f=new b.UI.Overlay,0===c.length){var e="z-index:"+(g.zIndex+1)+";";a("body").append('<div id="'+g.id+'" class="handlemask_wrap" style="'+e+'"></div>'),c=a("#"+g.id)}c.html(g.html),c.css({visibility:"hidden",display:"block"}),d(),c.css({visibility:"visible",display:"none"})}function d(){var b=a("#"+g.id);b.css({margin:"-"+b.height()/2+"px 0 0 -"+b.width()/2+"px"})}function e(){a("#"+g.id).remove(),g.mask&&f.hide(.5),f._dom.remove(),f=void 0}var f=null,g={};cui.handleMask=function(d){return d="object"===a.type(d)?d:{},0!==a("#"+g.id).length&&e(),g=a.extend(!0,{html:'<div class="handlemask_image_1"></div>',mask:!0,zIndex:9999999,id:"handleMask_"+b.guid()},d),c(),cui.handleMask},cui.handleMask.show=function(){0===a("div.handlemask_wrap").length&&cui.handleMask();var b=a("#"+g.id);return"true"!==b.attr("isOpen")&&(g.mask&&(f._dom.css("zIndex",g.zIndex).attr("id","ol_"+g.id),f.show(.5)),b.show().attr("isOpen","true")),cui.handleMask},cui.handleMask.hide=function(){if(0!==a("div.handlemask_wrap").length){var b=a("#"+g.id);return b.hide().attr("isOpen","false"),g.mask&&f.hide(.5),cui.handleMask}}}(window.comtop.cQuery,window.comtop),function(a,b){b.UI.ListBox=b.UI.Base.extend({options:{uitype:"ListBox",width:"200",height:"200",name:"listboxName",value:"",value_field:"id",label_field:"text",multi:!1,textmode:!1,datasource:null,on_dbclick:null,on_click:null,on_select_change:null,on_add:null,on_remove:null,icon_path:null},$el:null,listbox:null,hiddenEl:null,listTemplateName:"cListBox",valueField:null,labelField:null,priorElement:null,rowTemplateName:"cListBoxRow",_init:function(){this.$el=a(this.options.el),this._initParams(),this.$el.addClass("cui")},_create:function(){"function"==typeof this.options.datasource&&this.options.datasource(this,{}),this.listbox=a(".listbox",this.$el),this.hiddenEl=a("[type=hidden]",this.$el),this.valueField=this.options.value_field,this.labelField=this.options.label_field,this._setConfiguration(),this._setDefaultText()},_initParams:function(){this._analysisHtmlTemplate()},_analysisHtmlTemplate:function(){var b=a("a",this.$el);if(!(null==b||"undefine"==typeof b||b.length<1)){var c=this.options.value_field,d=this.options.label_field,e=[];a.each(b,function(){var b={};b[d]=a.trim(a(this).text()),b[c]=a.trim(a(this).attr("value")),e.push(b)}),this.$el.html(""),this.options.datasource=e}},_setConfiguration:function(){this.listbox.width(this.options.width),this.listbox.height(this.options.height)},_selectChangeCallback:function(){var b=this.options.on_select_change;"string"===a.type(b)?window[b](this.getSelectedRows()):a.isFunction(b)&&b(this.getSelectedRows())},setDatasource:function(a){this.options.datasource=a,this._renderElement()},setMulti:function(a){var b=this.options;b.multi!==a&&"boolean"==typeof a&&(b.multi=a,this.cancelSelected())},_renderElement:function(){var b=a(".tr",this.$el);this._buildTemplate(b,this.rowTemplateName,this.options)},_setDefaultText:function(){if(this.options.value){var b=a(".tr",this.$el),c=this.options.multi?this.options.value.split(";"):this.options.value,d=this.options.value_field,e=[],f=this.options.datasource,g=this;a.each(f,function(f,h){g.options.multi?a.each(c,function(c,f){f==h[d]&&(a("li[name="+f+"]",b).addClass("selected"),e.push(h[d]))}):c==h[d]&&(a("li[name="+c+"]",b).addClass("selected"),e.push(h[d]))}),this.hiddenEl.val(e.join(";"))}},setWidth:function(a){this.listbox.width(a)},getRecordData:function(b){var c=this,d=null,e=this.options.datasource;return a.each(e,function(a,e){return e[c.valueField]==b?(d=e,!1):void 0}),d},getLabelValue:function(){if(""==this.options.value||!this.options.textmode)return"";var b=this.options.value.split(";"),c=this.options.value_field,d=this.options.label_field,e=[];return a.each(this.options.datasource,function(f,g){a.each(b,function(a,b){b==g[c]&&e.push(g[d])})}),e.join(";")},deleteRecordData:function(b){var c=this,d=null,e=this.options.datasource,f=[];return""!=this.hiddenEl.val()&&(f=this.hiddenEl.val().split(";")),a.each(e,function(a,g){return g[c.valueField]==b?(d=g,e.splice(a,1),f.pop(b),!1):void 0}),this.hiddenEl.val(f.join(";")),d},getValue:function(){var b=this.options.value_field,c=[],d=this.getSelectedRows();return d=null===d?[]:this.options.multi?d:[d],a.each(d,function(a,d){c.push(d[b])}),c.join(";")},getText:function(){var b=this,c=[],d=this.getSelectedRows();return d=null===d?[]:this.options.multi?d:[d],a.each(d,function(a,d){c.push(d[b.labelField])}),c.join(";")},setValue:function(b){var c=b+"",d=c.split(";");if(this.options.multi||!(d.length>1)){var e=[];this.cancelSelected(),a(".td",this.$el).each(function(){a.inArray(a(this).attr("name"),d)>=0&&(e.push(a(this).attr("name")),a(this).addClass("selected"))}),this.hiddenEl.val(e.join(";"))}},addRows:function(b){var c=[],d=this,e=!0;if(!(null==b||b.length<1)){var f=b;if(a.isPlainObject(b)&&(f=[],f.push(b)),null!=this.options.datasource){if(a.each(f,function(b,f){e=!0,a.each(d.options.datasource,function(a,b){return b[d.valueField]===f[d.valueField]?(e=!1,!1):void 0}),e&&c.push(f)}),c.length<1)return}else c=f,d.options.datasource=[];var g=a.extend({},this.options);g.datasource=c,this.options.datasource=this.options.datasource.concat(c),this._buildTemplate(a(".tr",this.$el),this.rowTemplateName,g,!0);var h=this.options.on_add;"string"===a.type(h)?window[h](c):a.isFunction(h)&&h(c)}},removeRow:function(b){var c=null,d=a("li[name="+b+"]",this.$el);d&&(c=this.deleteRecordData(b),d.remove());var e=this.options.on_remove;return"string"===a.type(e)?window[e]([c]):a.isFunction(e)&&e([c]),c},removeSelectedRows:function(){var b=[],c=this;a(".selected",this.$el).each(function(){b.push(c.deleteRecordData(a(this).attr("name"))),a(this).remove()});var d=this.options.on_remove;return"string"===a.type(d)?window[d](b):a.isFunction(d)&&d(b),b},removeAllRows:function(){var b=[],c=this.options.datasource;a(".td",this.$el).remove(),null!=c&&c.length>0&&(b=c.splice(0,c.length)),this.hiddenEl.val("");var d=this.options.on_remove;return"string"===a.type(d)?window[d](b):a.isFunction(d)&&d(b),b},getRow:function(b){var c=this.getRowSize(),d=null;if(c>b){var e=a(".td",this.$el).eq(b).attr("name");d=this.getRecordData(e)}return d},getSelectedRows:function(){var b=this.options.multi?[]:null,c=this;return a(".selected",this.$el).each(function(){c.options.multi?b.push(c.getRecordData(a(this).attr("name"))):b=c.getRecordData(a(this).attr("name"))}),b},selectRow:function(b){var c=[];""!=this.hiddenEl.val()&&(c=this.hiddenEl.val().split(";")),b>=0&&b<this.getRowSize()&&(a(".td",this.$el).eq(b).addClass("selected"),c.push(a(".td",this.$el).eq(b).attr("name")),this.hiddenEl.val(c.join(";"))),this._selectChangeCallback()},selectAllRows:function(){if(this.options.multi){var b=[];a(".td",this.$el).each(function(){a(this).addClass("selected"),b.push(a(this).attr("name"))}),this.hiddenEl.val(b.join(";")),this._selectChangeCallback()}},cancelSelected:function(){a(".selected",this.$el).each(function(){a(this).removeClass("selected")}),this.hiddenEl.val(""),this._selectChangeCallback()},getAllRows:function(){return this.options.datasource},moveRow:function(b,c){var d=this.getRowSize();if(b>=0&&d>b&&c>=0&&d>c&&b!=c){var e=a(".td",this.$el);c>b?e.eq(c).after(e.eq(b)):e.eq(c).before(e.eq(b)),this.options.datasource.splice(c,0,this.options.datasource.splice(b,1)[0])}},moveUp:function(){for(var a,b=this.getSelectedRows(),c=(this.getRowSize(),0),d=b.length;d>c&&(a=this._getRowIndexByName(b[c][this.valueField]),0!=a);c++)this.moveRow(a,a-1)},moveDown:function(){for(var a,b=this.getSelectedRows(),c=this.getRowSize(),d=b.length-1;d>=0&&(a=this._getRowIndexByName(b[d][this.valueField]),a!=c-1);d--)this.moveRow(a,a+1)},getRowSize:function(){return a(".td",this.$el).length},_getRowDataByKey:function(b){var c=this,d=this.options.datasource,e=null;return a.each(d,function(a,d){return d&&d[c.valueField]==b?(e=d,!1):void 0}),e},_getRowIndexByName:function(b){var c=a("li",this.$el).index(a("li[name="+b+"]",this.$el));return c},_rowClick:function(b,c){var d="selected",e=a(c),f=[];if(""!=this.hiddenEl.val()&&(f=this.hiddenEl.val().split(";")),e.hasClass(d)){this.priorElement=null,e.removeClass(d);for(var g=e.attr("name"),h=0,i=f;i>h;h++)if(f[h]==e.attr("name")){f.splice(h,1);break}}else if(this.options.multi)if(this.options.multi&&b.shiftKey){if(null==this.priorElement)this.priorElement=e.attr("name"),f.push(this.priorElement);else{var j=this._getRowIndexByName(e.attr("name")),k=this._getRowIndexByName(this.priorElement),l=a(".td",this.$el);a(".selected",this.$el).each(function(){a(this).removeClass("selected")}),this.hiddenEl.val("");for(var h=Math.min(j,k),i=Math.max(j,k);i>=h;h++)l.eq(h).addClass(d),f.push(l.eq(h).attr("name"))}e.addClass(d)}else this.priorElement=e.attr("name"),f.push(this.priorElement),e.addClass(d);else a(".selected",this.$el).each(function(){a(this).removeClass("selected")}),this.hiddenEl.val(""),e.addClass(d),f=[],f.push(e.attr("name"));this.hiddenEl.val(f.join(";"));var m=this.options.on_click;if("string"===a.type(m)){var g=a(c).attr("name");window[m](this._getRowDataByKey(g))}else if(a.isFunction(m)){var g=a(c).attr("name");m(this._getRowDataByKey(g))}this._selectChangeCallback()},_rowDblClick:function(b,c){var d=this.options.on_dbclick;if("string"===a.type(d)){var e=a(c).attr("name");window[d](this._getRowDataByKey(e))}else if(a.isFunction(d)){var e=a(c).attr("name");d(this._getRowDataByKey(e))}},_trhoverin:function(b,c){var d="hover";a(c).addClass(d)},_trhoverout:function(b,c){var d="hover";a(c).removeClass(d)},_setCacheData:function(a,b){this.$el.data(a,b)},_getCacheData:function(a){return this.$el.data(a)},_removeCacheData:function(a){this.$el.removeData(a)}})}(window.comtop.cQuery,window.comtop),function(a,b){b.UI.InputMask={Datetimes:"9999-1m-td 2h:59:59",Times:"2h:59:59",Time:"2h:59",Datetime:"9999-1m-td 2h:59",Date:"9999-1m-td",Int:{precision:0,prefix:"",separator:","},Dec:{precision:null,prefix:"",separator:","},Num:{precision:0,prefix:"",separator:""},Money:{precision:2,prefix:"",separator:",",negative:!1},Integer:{precision:0,prefix:""},definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]",d:"d",m:"m",h:"h",t:"t",1:"[0-1]",2:"[0-2]",3:"[0-3]",4:"[0-4]",5:"[0-5]",6:"[0-6]",7:"[0-7]",8:"[0-8]"},dataName:"rawMaskFn",doMask:function(b,c,d){var e=c.toLocaleLowerCase(),f=a(b);switch(e){case"int":case"num":case"dec":case"money":var g;g=a.extend(!0,{},this[c],d),("int"===e||"num"===e)&&(g.precision=0),f.data("inputMaskModel",g),f.numberFormat(c,g);break;case"integer":f.scrapNumFormat(this[c].precision,this[c].prefix);break;case"custom":d&&d.model&&f.mask(d.model,d);break;default:this[c]&&f.mask(this[c],d)}},unMaskValue:function(b,c){var d=c.toLocaleLowerCase(),e=a(b);switch(d){case"int":case"num":case"dec":case"money":var f=e.data("inputMaskModel"),g=a.trim(f.prefix+f.separator),h=a.trim(e.val());if(""!==h){if(""===g)return h.replace(/(?:\.(?:0+)?|(\.[1-9]+)0+)$/,"$1");var i=new RegExp("["+g+"]","g");return e.val().replace(i,"").replace(/(?:\.(?:0+)?|(\.[1-9]+)0+)$/,"$1")}return"";case"integer":return a(b).val().replace(/,/g,"");case"custom":return a(b).mask();default:return a(b).val()}}};var c=(b.Browser.isIE?"paste":"input")+".mask",d=void 0!=window.orientation;a.fn.extend({caret:function(b,c){if(0!=this.length){if("number"==typeof b)return c="number"==typeof c?c:b,a("#test").val(b+":"+c),this.each(function(){if(this.setSelectionRange)this.setSelectionRange(b,c);else if(this.createTextRange){var a=this.createTextRange();a.collapse(!0),a.moveEnd("character",c),a.moveStart("character",b),a.select()}});if(this[0].setSelectionRange)b=this[0].selectionStart,c=this[0].selectionEnd;else if(document.selection&&document.selection.createRange){var d=document.selection.createRange();b=0-d.duplicate().moveStart("character",-1e5),c=b+d.text.length}return{begin:b,end:c}}},unmask:function(){return this.trigger("unmask")},mask:function(e,f){if(!e&&this.length>0){var g=a(this[0]);return g.data(b.UI.InputMask.dataName)()}f=a.extend({placeholder:"_",completed:null},f);var h=b.UI.InputMask.definitions,i=[],j=e.length,k=null,l=e.length;return a.each(e.split(""),function(a,b){"?"==b?(l--,j=a):h[b]?(i.push(h[b]),null==k&&(k=i.length-1)):i.push(null)}),this.trigger("unmask").each(function(){function g(a){for(;++a<=l&&!i[a];);return a}function m(a){for(;--a>=0&&!i[a];);return a}function n(a,b,c){switch(a){case"m":var d=v.val().substring(c-1,c),e=parseFloat(b);if("0"===d)return e>0&&9>=e;if("1"===d)return e>=0&&3>e;break;case"d":var f=v.val(),d=f.substring(c-1,c),g=f.substring(0,4),h=f.substring(5,7),i=new Date(g,h,0).getDate(),j=(i+"").split("")[0],k=(i+"").split("")[1],e=parseFloat(b);return j>d?0===d?e>0&&9>=e:e>=0&&9>=e:e>=0&&k>=e;case"h":var d=v.val().substring(c-1,c),e=parseFloat(b);if("0"===d||"1"===d)return e>=0&&9>=e;if("2"===d)return e>=0&&3>=e;break;case"t":var f=v.val(),g=f.substring(0,4),h=f.substring(5,7),i=new Date(g,h,0).getDate(),j=(i+"").split("")[0],e=parseFloat(b);return e>=0&&j>=e;default:return new RegExp(a).test(b)}}function o(a,b){if(!(0>a)){for(var c=a,d=g(b);l>c;c++)if(i[c]){if(!(l>d&&n(i[c],w[d],c)))break;w[c]=w[d],w[d]=f.placeholder,d=g(d)}t();var e=k>a?k:a;v.caret(e)}}function p(a){for(var b=a,c=f.placeholder;l>b;b++)if(i[b]){var d=g(b),e=w[b];if(w[b]=c,!(l>d&&n(i[d],e,d)))break;c=e}}function q(a){var b=a.which;if(8==b||46==b||d&&127==b){var c=v.caret(),e=c.begin,f=c.end;return f-e==0&&(e=46!=b?m(e):f=g(e-1),f=46==b?g(f):f),s(e,f),o(e,f-1),!1}return 27==b?(v.val(x),v.caret(0,u()),!1):void 0}function r(a){var b=a.which,c=v.caret();if(a.ctrlKey||a.altKey||a.metaKey||32>b)return!0;if(b){c.end-c.begin!=0&&(s(c.begin,c.end),o(c.begin,c.end-1));var d=g(c.begin-1);if(l>d){var e=String.fromCharCode(b);if(n(i[d],e,d)){p(d),w[d]=e,t();var h=g(d);v.caret(h),f.completed&&h>=l&&f.completed.call(v)}}return!1}}function s(a,b){for(var c=a;b>c&&l>c;c++)i[c]&&(w[c]=f.placeholder)}function t(){return v.val(w.join("")).val()}function u(a){for(var b=v.val(),c=-1,d=0,e=0;l>d;d++)if(i[d]){for(w[d]=f.placeholder;e++<b.length;){var g=b.charAt(e-1);if(n(i[d],g,d)!==!1){w[d]=g,c=d;break}}if(e>b.length)break}else w[d]==b.charAt(e)&&d!=j&&(e++,c=d);return!a&&j>c+1?(v.val(""),s(0,l)):(a||c+1>=j)&&(t(),a||v.val(v.val().substring(0,c+1))),j?d:k}var v=a(this),w=a.map(e.split(""),function(a){return"?"!=a?h[a]?f.placeholder:a:void 0}),x=v.val();v.data(b.UI.InputMask.dataName,function(){return a.map(w,function(a,b){return i[b]&&a!=f.placeholder?a:null}).join("")}),v.attr("readonly")||v.one("unmask",function(){v.unbind(".mask").removeData(b.UI.InputMask.dataName)}).bind("focus.mask",function(){x=v.val();var b=u();t();var c=function(){b==e.length?v.caret(0,b):v.caret(b)};(a.browser.msie?c:function(){setTimeout(c,0)})()}).bind("blur.mask",function(){u(),v.val()!=x&&v.change(),f.callback&&f.callback()}).bind("keydown.mask",q).bind("keypress.mask",r).bind(c,function(){setTimeout(function(){v.caret(u(!0))},0)}),u()})},scrapNumFormat:function(a,b){var d=this,e=d.val(),f=function(a,b,c){var d,e,f=a.toString(),g=f.indexOf(".");0>g?(d=f,e=""):(d=f.substring(0,g),e="undefined"==typeof b?f.substring(g):f.substring(g,g+b+1));for(var h=/(-?\d+)(\d{3})/;h.test(d);)d=d.replace(h,"$1,$2");return c?c+d+e:d+e},g=function(){var a=d.val();a.match(/^[\+\-]?\d*?\.?\d*?$/)?e=a:d.val(e)},h=function(){d.val(f(d.val(),a,b))},i=function(){var a=d.val();b&&(a=a.replace(b,"")),a=a.replace(/,/g,""),d.val(a),g()};d.attr("readonly")||d.one("unmask",function(){d.unbind(".mask")}).bind("keyup.mask",g).bind(c,g).bind("blur.mask",h).bind("focus.mask",i)},numberFormat:function(d,e){var f=this,g=f.val();if(!/^[-\d\.]*$/.test(g))return f.val(""),void(g="");var h=function(a,c,e,f){var g,h,i,j=a.toString(),k=/(-?\d+)(\d{3})/;if("Money"===d&&null!==c&&"null"!==c&&(j=b.Number.round(j,c-0)||j),"undefined"==typeof b.Number.round(j))return j;if(g=j.indexOf("."),0>g)h=j,i="";else switch(h=j.substring(0,g),c){case"null":case null:i=j.substring(g);break;case"0":i="";break;default:i=j.substring(g,g+c+1)}if(f||""!==f)for(;k.test(h);)h=h.replace(k,"$1"+f+"$2");if(c>0){/\./.test(i)&&(c-=i.length-1);for(var l=0;c>l;l++)i+="0";/\./.test(i)||(i="."+i)}return e?e+h+i:h+i},i={intReg:/^[\+\-]?([1-9]\d*|0)?$/,numReg:/^\d*$/,decReg:/^[\+\-]?([1-9]\d*\.?\d*?|0\.\d*?|0)?$/,moneyReg:/^[\+\-]?([1-9]\d*\.?\d*?|0\.\d*?|0)?$/};e.negative===!1&&"Money"===d&&(i.moneyReg=/^([1-9]\d*\.?\d*?|0\.\d*?|0)?$/);var j=function(){var a=f.val();i[d.toLocaleLowerCase()+"Reg"].test(a)?g=a:f.val(g)},k=function(){var b=f.val();if(""!==a.trim(b)){var c=h(b,e.precision,e.prefix,e.separator);/^[\-\+]$/.test(b)&&(c=""),f.val(c)}},l=function(){if(!f.prop("readonly")){var c=""===a.trim(f.val())?"":a.trim(f.val());if(e.prefix&&(c=c.replace(e.prefix,"")),c=c.replace(/,/g,""),f.val(""===a.trim(c)?"":c),b.Browser.isIE){var d=f.get(0).createTextRange();d.move("textedit"),d.select()}j()}};""!==g&&k(),f.one("unmask",function(){f.unbind(".mask")}).unbind(".mask").bind("keyup.mask",j).bind(c,j).bind("blur.mask",k).bind("focus.mask",l)}}),a.mask={},a.mask.definitions=b.UI.InputMask.definitions}(window.comtop.cQuery,window.comtop),function(a,b){b.UI.Menu=b.UI.Base.extend({options:{uitype:"Menu",trigger:"click",width:"",on_click:null,datasource:null},_init:function(){var a=this;a.objMenu=null,a.objItemMap={},a.hideTimeout=null},_create:function(){var a=this,b=this.options.el,c=a.options.trigger;b.bind(c,function(b){b.stopPropagation(),a.show()}),b.bind("mouseout",function(){a.hideTimeout=setTimeout(function(){a.hide()},100)}),b.bind("mouseover",function(){clearTimeout(a.hideTimeout)})},_loadTemplate:function(b,c){var d=this._buildTemplateStr("menuDom",c);d=this._bindTplEvent(d);var e=a(d);b.append(e);for(var f=e.find("li"),g=0;g<c.length;g++){var h=c[g];if(this.objItemMap[h.id]=h,h.disabled&&this._disable(a("#"+h.id)),h.items){var i=f.eq(g);i.find("a").addClass("menu_item_a_background"),this._loadTemplate(i,h.items)}}return e},_loadMenu:function(){if(null==this.objMenu){var b=this.options;a.isFunction(b.datasource)&&(b.datasource=b.datasource()),this.setDatasource(b.datasource)}},setDatasource:function(b){if(b){{this.options}this.objMenu=this._loadTemplate(a("body"),b);var c=this;this.objMenu.bind("mouseover",function(){c.hideTimeout&&clearTimeout(c.hideTimeout),"undefined"!=typeof window._cui_button_timer&&clearTimeout(window._cui_button_timer)}),this.objMenu.bind("mouseout",function(){c.hideTimeout=setTimeout(function(){c.objMenu.hide()},100)})}},_mouseoverHandler:function(b,c){if(!a("#"+c.id).attr("disabled")){c.mouseTimeout&&clearTimeout(c.mouseTimeout);var d=a(c).children(".menu_box");a(c).parent().children().css("zIndex",1),a(c).css("zIndex",2),d&&(d.show(),this._setItemPosition(d,c),this._setItemsWidth(d.children(".menu"),this.options.width),this._setIframe(d))}},_mouseoutHandler:function(b,c){if(!a("#"+c.id).attr("disabled")){var d=a(c).children(".menu_box");c.mouseTimeout=setTimeout(function(){d.hide()},100)}},_clickHandler:function(c,d){if(!a("#"+d.id).attr("disabled")){if(c.stopPropagation(),b.Browser.isIE6||b.Browser.isIE&&b.Browser.isQM)for(var e=a("#"+d.id);"BODY"!=e[0].tagName;)"DIV"==e[0].tagName&&e.hide(),e=e.parent();this.hide(),this.options.on_click&&this.options.on_click(this.objItemMap[d.id])}},_setItemPosition:function(b,c){var d=b;b=b.children(".menu");var e={},f=a(c),g=f.offset(),h=f.outerHeight(),i=f.outerWidth(),j=b.outerHeight(),k=b.outerWidth(),l=a(window).height(),m=a(window).width();m-(g.left+i+k)<10&&g.left-i>0?(e.left=0-k+4,e.right="auto"):(e.left="auto",e.right=4),l-(g.top+h+j)<10&&g.top-j>0?(e.bottom=0+j-4,e.top="auto"):(e.bottom="auto",e.top=-1),d.css(e)},_setPosition:function(b){var c,d,e=a(b).offset(),f=a(b).outerHeight(),g=a(b).outerWidth(),h=a(window).height(),i=a(window).width(),j=this.objMenu.children(".menu").outerHeight(),k=this.objMenu.children(".menu").outerWidth();c=h-(e.top+f+j)<0&&e.top-j>0?e.top-j:e.top+f,d=i-(e.left+k)<0&&e.left+g-k>0?e.left+g-k:e.left,this.objMenu.css({left:d,top:c})},_setItemsWidth:function(a,b){for(var c=a.children("li"),d=0,e=0;e<c.length;e++){var f=c.eq(e).children("a").children("span").outerWidth();f>d&&(d=f)}b>d?d=b:d+=10,a.width(d)},_setIframe:function(a){b.Browser.isIE6&&a.children("iframe").css({width:a.find(".menu_item").width(),height:a.find(".menu").height()})},_setWidth:function(b){var c;c=this.options.width?parseInt(this.options.width,10):a(b).outerWidth()-2,this.options.width=c,this._setItemsWidth(this.objMenu.children(".menu"),c)},_disable:function(a){var b=a.children("a");b.attr("cui_href",b.attr("href")).attr("href","javascript:;").css("cursor","default").children("span").addClass("menu_item_disable"),a.attr("disabled",!0)},_enable:function(a){var b=a.children("a");b.attr("href",b.attr("cui_href")).removeAttr("cui_href").css("cursor","pointer").children("span").removeClass("menu_item_disable"),a.attr("disabled",!1)},show:function(a){this._loadMenu(),this.objMenu.show(),a||(a=this.options.el),this._setWidth(a),this._setPosition(a),this._setIframe(this.objMenu)},hide:function(){this.objMenu&&this.objMenu.hide()},disable:function(b,c){this._loadMenu();var d=a("#"+b);1==c?this._disable(d):this._enable(d)},setLabel:function(b,c){this._loadMenu();var d=a("#"+b);d.children("a").children("span").html(c)}})}(window.comtop.cQuery,window.comtop),function(a){"use strict";var b=a.cQuery;a.UI.MultiNav=a.UI.Base.extend({options:{uitype:"MultiNav",unfold:!1,initchecked:[],datasource:[],target:"_self",foldercheckable:!1},_init:function(){this.pos=-1},_create:function(){this.root=this.options.root=this.options.el.children(".multinav").eq(0),this._setDatasource(this.options.datasource)},_initcheck:function(a){for(var b=this.root,c=0,d=a.length;d>c;c++){b=b.children("li").eq(a[c]);var e=b.find("a").eq(0);if(!e.hasClass("multinav-fold")){e.addClass("multinav-checked"),this.pos=e.attr("pos");break}c===d-1&&this.options.foldercheckable&&(e.addClass("multinav-checked"),this.pos=e.attr("pos")),e.addClass("multinav-unfold").data("unfold",!0),b=b.children("ul").eq(0),b.addClass("multinav-ul-unfold")}},_bindEvents:function(){var a=this,c=null;this.root.on("mouseover",function(d){d.stopPropagation();var e=b(d.target),f=e.attr("pos");if(f||(e=e.parent(),f=e.attr("pos"))){c=a._getCheckedData(f);var g=c.bind,h=d.type;if("object"==typeof g){var i=g["on_"+h];"function"==typeof i&&(d.target=e[0],i(d,e[0],c))}}}),this.root.on("mouseout dblclick click",function(a){a.stopPropagation();var d=b(a.target),e=d.attr("pos");if(e||(d=d.parent(),e=d.attr("pos"))){var f=a.type,g=c.bind;if("object"==typeof g){var h=g["on_"+f];return"function"==typeof h&&(a.target=d[0],h(a,d[0],c)),!1}}})},_setDatasource:function(a){this.setDatasource(a,void 0),this._bindEvents(),this._initcheck(this.options.initchecked);var b=this;this.root.on("mousedown",function(a){a.stopPropagation(),b._mousedown(a.target)})},setDatasource:function(a,c){function d(a){return new Function(a)}function e(a,c){for(var g=b(document.createDocumentFragment()),h=0,i=a.length;i>h;h++){var j=a[h],k=b(document.createElement("li")),l=b(document.createElement("a"));if(l.attr("hidefocus","true"),k.append(l),j.onclick&&l.click(d(j.onclick)),j.ondblclick&&l.dblclick(d(j.ondblclick)),j.onmouseover&&l.mouseover(d(j.onmouseover)),j.onmouseout&&l.mouseout(d(j.onmouseout)),j.title&&l.attr("title",j.title),l.attr("pos",c+h),j.bind&&l.attr("ev","1"),"string"==typeof j.href?(l.attr("href",j.href),l.attr("target",j.target||f.target)):l.attr("href","javascript:;"),"object"==typeof j.children){l.addClass("multinav-fold").append('<span class="multinav-fold-icon cui-icon">&#xf0da;</span><span class="multinav-unfold-icon cui-icon">&#xf0d7;</span>'+j.name);var m=b("<ul></ul>");m.append(e(j.children,c+h+"-")),k.append(m)}else l.html(j.name);g.append(k)}return g}this.pos=-1;var f=c?b.extend(this.options,c):this.options;this.options.datasource=a,f.root.html(e(a,"")),f.unfold&&this.allUnfold(),c&&c.initchecked&&this._initcheck(c.initchecked)},allUnfold:function(){this.root.find("ul").addClass("multinav-ul-unfold").show().end().find(".multinav-fold").addClass("multinav-unfold").data("unfold",!0)},allFold:function(){this.root.find("ul").removeClass("multinav-ul-unfold").hide().end().find(".multinav-fold").removeClass("multinav-unfold").data("unfold",!1)},_mousedown:function(a){var c=b(a);c="A"===c.prop("tagName")?c:c.parent();var d=c.attr("pos");if(c.hasClass("multinav-fold")){var e=c.data("unfold");e=void 0===e?this.options.unfold:e,e?c.data("unfold",!1).removeClass("multinav-unfold").next("ul").hide():c.data("unfold",!0).addClass("multinav-unfold").next("ul").show(),this.options.foldercheckable&&(this.root.find(".multinav-checked").removeClass("multinav-checked"),c.addClass("multinav-checked"),this.pos=d)}else this.root.find(".multinav-checked").removeClass("multinav-checked"),c.addClass("multinav-checked"),this.pos=d},_getCheckedData:function(a){if(-1===a)return null;var b=this.options.datasource;a=a.split("-");for(var c=a.length,d=0;c-1>d;d++)b=b[parseInt(a[d],10)].children;return b=b[parseInt(a[d],10)]},getCheckedData:function(){var a=this._getCheckedData(this.pos);return null===a||void 0!==a.children&&!this.options.foldercheckable?null:a}})}(window.comtop),function(a,b){"use strict";b.cui||(b.cui={});var c=function(){},d=b.cui,e=a.browser.msie,f=e&&"6.0"===a.browser.version,g=e&&!a.support.boxModel,h=b.document;c.prototype={_template:function(){var b=this.options,c="message"===b.boxType?b.boxType+"-"+b.messageType:b.boxType,d=['<div class="msg-box cui-msg-extend-',c,'"'];return d.push(' id="'+this.buildId+'" style="'),b.width&&d.push("width:"+b.width+"px;"),b.height&&d.push("height:"+b.height+"px;"),d.push('">'),b.canClose===!0&&d.push('<a href="#/" hidefocus="true" title="\u5173\u95ed" class="msgbox-close-btn cui-icon"><span class="msgbox-close-btn-span"></span></a>'),d.push('<div class="msgbox-titlebar">'),d.push('<span class="msgbox-title" title="'+b.title.replace(/<.*?>/g,"").replace('"',"\uff02")+'">'+b.title+"</span>"),d.push("</div>"),d.push('<div class="msgbox-content">'),d.push('<div class="box-icon cui-icon '+b.iconCls+'">',b.fontIcon,"</div>"),d.push('<div class="box-msg">'),d.push(b.msg,"</div>"),a.isArray(b.buttons)&&(d.push('<div class="msgbox-ft">'),this._buildButtons(d),d.push("</div>")),d.push("</div>"),d.push("</div>"),d.join("")
},_buildButtons:function(a){for(var b=this.options,c=0,d=b.buttons.length;d>c;c++){var e="",f="btn-normal ";"function"==typeof b.buttons[c].handler&&(e+=c),b.buttons[c].focus===!0&&(b._buttonFocusIndex=c),b.buttons[c]._ok_?f+=" btn-normal-ok":b.buttons[c]._cancel_&&(f+=" btn-normal-cancel"),a.push('<a proxyIndex="'+e+'" class="cui-button '+f+'" href="#/">'),a.push('<span class="button-icon">&nbsp;</span>'),a.push(b.buttons[c].name+"</a>")}},_addClass:function(){var c=this.options,d=this.$container;"rb"===c.position?(d.addClass("msg-box-rb"),!f&&g&&d.css({bottom:"",top:a(h).scrollTop()+a(b).height()-d.outerHeight()})):"center"===c.position?d.addClass("msg-box-center").css({"margin-left":-d.width()/2,"margin-top":-d.height()/2}):"custom"===c.position&&("undefined"==typeof c.customPos.left&&(c.customPos.left="50%",c.customPos["margin-left"]=-d.width()/2),"undefined"==typeof c.customPos.top&&(c.customPos.top="50%",c.customPos["margin-top"]=-d.height()/2),d.addClass("msg-box-custom").css(c.customPos))},_showOverlay:function(){(f||g)&&(this._ieQScrollTop=a(h).scrollTop(),a(h).scrollTop(0),a("html,body").addClass("cui_overlay_ie6"),this._$iframecover&&this._$iframecover.show()),this.$overlay.show()},_hideOverlay:function(){(f||g)&&(a("html,body").removeClass("cui_overlay_ie6"),this._$iframecover&&this._$iframecover.hide(),this.options.scrollBack===!0&&a(h).scrollTop(this._ieQScrollTop)),this.$overlay.hide()},_doAnimate:function(){var a=this.$container,b=a.height();a.height(0).animate({height:b,opacity:"show"},350)},_bindEvent:function(){var b=this.options,c=this;return this.$container.delegate("a.btn-normal,span.msgbox-close-btn-span","click",function(d){var e=a(d.target),f=e.attr("proxyIndex");return c.hide(),f&&""!==f&&(f=parseInt(f,10),b.buttons[f].handler.call(null)),!1}),b.dragAble&&this._doDrag(),"number"==typeof b._buttonFocusIndex&&this.$container.find(".btn-normal").eq(b._buttonFocusIndex).focus(),!1},_doDrag:function(){var c=this.options,d=!1,e=this,f={top:0,left:0},g=this.$container.outerWidth(),i=this.$container.outerHeight(),j=function(c){var d=a(b).height(),e=a(b).width();c.left+g>=e&&(c.left=e-g),c.top+i>=d&&(c.top=d-i)},k=function(){d=!1,a(h).off("mousemove.msgBoxdrag").off("mouseup.msgBoxdrag"),e._disableSelect(!1)},l=function(a){if(d){var b={left:a.clientX-f.left,top:a.clientY-f.top};b.left=b.left<0?0:b.left,b.top=b.top<0?0:b.top,j(b),e._setPosition(b)}};a(c.dragClass,this.$container).on("mousedown.msgBoxdrag",function(b){var c=this.getBoundingClientRect();f.top=b.clientY-c.top,f.left=b.clientX-c.left,d=!0,a(h).on("mousemove.msgBoxdrag",function(a){l(a)}).on("mouseup.msgBoxdrag",function(){k()}),e._disableSelect(!0)}).on("mouseup.msgBoxdrag",k)},_disableSelect:function(b){b?(a(h.body).addClass("cui-userselectnone"),a(h).on("selectstart",function(){return!1})):(a(h.body).removeClass("cui-userselectnone"),a(h).off("selectstart"))},_setPosition:function(b){this.options;b=a.extend({top:"",left:"",right:"","margin-left":"","margin-top":"",bottom:""},b),this.$container.css(b)},_commonOptions:{msg:"",modal:!0,canClose:!0,autoClose:!1,animate:!1,position:"center",customPos:{},opacity:.5,title:"",width:330,height:0,onClose:null,dragAble:!0,scrollBack:!1,dragClass:".msgbox-titlebar"},wrapOptions:function(a,b,c){var d=c||{};return d.msg=a,d.onClose=b,d},setOptions:function(b,c){var d=a.extend({},this._commonOptions,b,c||{});return this.options=d,d},show:function(){var a=this.options;if(this._addClass(),a.modal&&this._showOverlay(),a.animate&&!g?this._doAnimate():this.$container.show(),"number"==typeof a.autoClose){var c=this;b.setTimeout(function(){c.hide()},a.autoClose)}this._bindEvent()},hide:function(){var a=this.options;a.modal&&this._hideOverlay(),this.$container.hide(),"function"==typeof a.onClose&&a.onClose.call(null)},buildHtml:function(){var b=(900*Math.random()+100).toString().replace(".",""),c=this.options,d=h.createDocumentFragment();this.buildId=b,c.modal&&(this.$overlay=a(h.createElement("div")).addClass("cui_overlay").css("opacity",c.opacity),f&&(this._$iframecover=a(h.createElement("iframe")).addClass("cui_overlay_iframe"),a(d).append(this._$iframecover)),a(d).append(this.$overlay)),a(d).append(this._template()),"message"===this.options.boxType?a(h.body).prepend(d):a(h.body).append(d),this.$container=a("#"+this.buildId)},reBuildHtml:function(){var b=this.options;this.$container.unbind().replaceWith(this._template()),this.$container=a("#"+this.buildId),"message"!==b.boxType&&(this._$iframecover&&this._$iframecover.appendTo(h.body),this.$overlay&&this.$overlay.appendTo(h.body),this.$container.appendTo(h.body))}};var i=function(a,b){var c={alert:"box-icon-alert",success:"box-icon-success",confirm:"box-icon-confirm",error:"box-icon-error",warn:"box-icon-warn"};b.iconCls=c[a]||"box-icon-alert"},j=function(a,b,e,f,g){var h=null;d[g].builded?(h=d[g].builded,e=h.wrapOptions(a,b,e),e.boxType=g,h.setOptions(f,e),h.reBuildHtml()):(h=new c,e=h.wrapOptions(a,b,e),e.boxType=g,h.setOptions(f,e),h.buildHtml(),d[g].builded=h),h.show()},k={modal:!1,canClose:!1,autoClose:1500,animate:!0,width:180,position:"rb",title:"\u63d0\u793a",dragAble:!1,buttons:null};d.alert=function(a,b,c){var d={title:"\u63d0\u793a",buttons:[{name:"\u786e\u5b9a",focus:!0,_ok_:!0}],iconCls:"box-icon-alert",fontIcon:"&#xf05a;"};j(a,b,c,d,"alert")},d.warn=function(a,b,c){var d={title:"\u8b66\u544a",buttons:[{name:"\u786e\u5b9a",focus:!0,_ok_:!0}],iconCls:"box-icon-warn",fontIcon:"&#xf06a;"};j(a,b,c,d,"warn")},d.success=function(a,b,c){var d={title:"\u63d0\u793a",buttons:[{name:"\u786e\u5b9a",focus:!0,_ok_:!0}],iconCls:"box-icon-success",fontIcon:"&#xf058;"};j(a,b,c,d,"success")},d.error=function(a,b,c){var d={title:"\u9519\u8bef",buttons:[{name:"\u786e\u5b9a",focus:!0,_ok_:!0}],iconCls:"box-icon-error",fontIcon:"&#xf057;"};j(a,b,c,d,"error")},d.message=function(a,b,c){var d=k,e={error:"&#xf057;",success:"&#xf058;",warn:"&#xf06a;",alert:"&#xf05a;"};c=c||{},i(b,c),c.messageType=b?b:"alert",c.fontIcon=e[c.messageType],j(a,null,c,d,"message")},d.confirm=function(a,b){var c={title:"\u786e\u8ba4",iconCls:"box-icon-confirm",fontIcon:"&#xf059;"};b=b||{},b.buttons=b.buttons||[{name:"\u786e\u5b9a",handler:b.onYes,focus:!0,_ok_:!0},{name:"\u53d6\u6d88",handler:b.onNo,_cancel_:!0}],j(a,null,b,c,"confirm")},d.msgbox=d.msgbox||{},d.msgbox.setOpt=function(b,d){"object"===a.type(b)&&("message"===d?a.extend(k,b):a.extend(c.prototype._commonOptions,b))}}(window.comtop?window.comtop.cQuery:window.jQuery,window),function(a){"use strict";var b=a.cQuery,c=a.Browser,d=c.isQM;a.UI.PullDown=a.UI.Base.extend(function(){return{options:{uitype:"PullDown",empty_text:"\u8bf7\u9009\u62e9",value:"",readonly:!1,textmode:!1,width:"200",height:"200",editable:!0,on_select_data:null,mode:"Single",datasource:null,dictionary:"",name:"",select:-1,must_exist:!0,auto_complete:!1,value_field:"id",label_field:"text",filter_fields:[],on_filter_data:null,on_change:null,on_filter:null},_init:function(d,e){var f=this.options;"pulldown"===f.uitype.toLocaleLowerCase()&&this._extendMode(e),this._initWidthAndHeight((d.width||f.width).toString(),(d.height||f.height).toString()),this.$el=f.el.addClass("pulldown-main").css("width",f.width),this.ltIE8=c.isIE6||c.isIE7,c.isQM&&this.ltIE8&&this.$el.addClass("pulldown-main-qm"),this.templateBox=b(document.createElement("div")).html(this.$el.html()),this.guid=a.guid(),this.text="",this.value="",this.valueCache="",this.isHide=!0,this.top=window.location===window.parent.location,this.eqEmptyText=!1,this.rendered=!1,this.oldData=null,this.position={}},_extendMode:function(c){var d,e,f,g=this.options.mode;if(g=g.charAt(0).toUpperCase()+g.slice(1).toLocaleLowerCase()+"PullDown",d=a.UI[g],!d)throw new Error("mode\u5c5e\u6027\u9519\u8bef\u3002");e=d.prototype;for(f in e)e.hasOwnProperty(f)&&!this[f]&&(this[f]=e[f]);this.options=b.extend({},e.options,c)},_initWidthAndHeight:function(a,b){var c=this.options;"string"!=typeof a||/%/.test(a)||(c.width=a.replace(/\D+/g,"")+"px"),b&&(this.height=parseInt(b,10)-2,c.height=this.height+"px")},setTextMode:function(){this._initData()},_create:function(){this.tipPosition=".pulldown-inner",this.tipText=this.$el.attr("tip"),this._createDom(),this._bindFocusBlurEvent(),this._bindMouseEvent(),this._bindKeyEvent(),this._resetLayoutEvent(),this._initData(),this.setReadonly(this.options.readonly)},_createDom:function(){var a,d,e=this.options,f=this.$el,g="";a=['<div class="pulldown-inner pulldown-readonly">','<input class="pulldown-text" readonly="readonly" type="text" autocomplete="off" value="',e.empty_text,'" />','<a href="#/" hidefocus="true" class="pulldown-btn pulldown-loading cui-icon">&#xf107;</a>',"</div>",'<input type="hidden" class="pulldown-hidden" name="',e.name,'" />'],f.html(a.join("")),d=b(document.createElement("div")).addClass("pulldown-box"),c.isIE6&&(g='<iframe scrolling="no" frameborder="no"></iframe>'),d.html(g+'<div class="pulldown-box-inner"></div>'),b("body").append(d),this.$inner=f.find(".pulldown-inner").eq(0),this.$text=f.find(".pulldown-text").eq(0),c.isQM&&this.$text.addClass("pulldown-text-qm"),this.$btn=f.find(".pulldown-btn").eq(0),this.$hide=f.find(".pulldown-hidden").eq(0),this.$box=d,this.$boxInner=d.find(".pulldown-box-inner").eq(0)},_bindFocusBlurEvent:function(){var a=this;this.$text.on("focus",function(){a.options.readonly||(a.inValid&&a.onValid(),a._showBox())}).on("blur",function(){a._hideBox()})},_showBox:function(){var a=this.$el[0].getBoundingClientRect();this.position.top=a.top,this.position.left=a.left,this.isHide!==!1&&(this.isHide=!1,this._setBoxLayout(this._setBoxPosition(a)),this.listenPosition(),this._isEmpty(),this.$inner.addClass("pulldown-inner-focus"),this.rendered?(this.setOldData(),this.__showBoxCallBack&&this.__showBoxCallBack()):this._callDataSource())},destroy:function(){this.$box.remove(),this.$el.remove()},listenPosition:function(){var a=this,b=a.$el[0];clearInterval(this.listenBoxPostion),this.listenBoxPostion=setInterval(function(){var c=b.getBoundingClientRect(),d=a.position;(c.left!==d.left||c.top!==d.top)&&a.$text.blur()},10)},_callDataSource:function(){this.dataCalling||(this.$btn.addClass("pulldown-loading"),this.options.datasource.call(this,this),this.dataCalling=!0)},_isEmpty:function(){var a,b,c,d=this.$text;if(this.rendered&&(this.eqEmptyText||this._isEqEmptyText()))return void d.addClass("pulldown-text-value");switch(a=d.val(),b=this.isHide,c=this.options.empty_text,a){case"":b&&d.val(c).removeClass("pulldown-text-value");break;case c:b||d.val("").addClass("pulldown-text-value");break;default:d.addClass("pulldown-text-value")}},_isEqEmptyText:function(){for(var a=this.data,b=a.length,c=this.options,d=c.empty_text,e=c.label_field,f=0;b>f;f++)if(d===a[f][e])return this.eqEmptyText=!0,!0;return!1},_setBoxPosition:function(a){var c=28,e=d?0:2,f=10,g=a.left+b(window).scrollLeft(),h=this._getRealHeight(),i=h+c+e,j=a.top+b(window).scrollTop()+c;return j>Math.max(b.page.height(),b.client.height())-h-f&&j>h+c&&(j-=i),this.$box.css(this.ltIE8&&this.top?{left:g-2,top:j-2}:{left:g,top:j}),h},_getRealHeight:function(){return Math.min(this.height,this.$boxInner.css("height","auto").outerHeight()||28)},_setBoxLayout:function(a){this.$box.css({height:a,width:this.$el.width()-(d?0:2)})},_hideBox:function(){if(this.isHide!==!0){if(this.hideAble===!1)return void this.$text.focus();this.isHide=!0,this.$box.css("top","-999999px"),clearInterval(this.listenBoxPostion),this.$inner.removeClass("pulldown-inner-focus"),this.rendered?(this.__hideBoxCallBack&&this.__hideBoxCallBack(),this._triggerChange(!1,!1)):this._isEmpty()}},setOldData:function(){var a=this.selectData,c=b.type(a);this.valueCache=this.value,this.oldData="array"===c?b.extend(!0,[],a):"object"===c?b.extend(!0,{},a):null},_triggerChange:function(a,b){var c,d,e;this.valueCache===this.value||a||(e=this.options,c=e.on_select_data,b||(this._triggerHandler("change"),d=e.on_change,"function"==typeof d&&d.call(this,this.selectData,this.oldData)),"function"==typeof c&&c.call(this,this.selectData))},_bindMouseEvent:function(){var a,c=this,d=this.$text,e=function(){c.hideAble=!1};this.$btn.on("mouseup",function(a){c.hideAble=!0,a.stopPropagation(),c.readonly||(c.isHide?d.focus():d.blur())}).on("mousedown",e).on("click",function(a){a.preventDefault()}),this.$box.on("mouseout",function(e){a=e.relatedTarget,c.hideAble!==!1||b(this).find(a).length||this===a||(c.hideAble=!0,d.blur())}).on("mouseup",function(a){a.stopPropagation(),a.preventDefault(),c.hideAble=!0,c.__mouseUpHandler(a)}).on("mousedown",e).on("click",function(a){a.preventDefault()})},_bindKeyEvent:function(){var a,b=this,c=this.options;this.$text.on("keydown",function(d){switch(a=d.keyCode){case 8:c.editable||d.preventDefault();break;case 38:b.__keyDownUPHandler&&b.__keyDownUPHandler();break;case 40:b.__keyDownDownHandler&&b.__keyDownDownHandler();break;case 37:b.__keyDownLeftHandler&&b.__keyDownLeftHandler();break;case 39:b.__keyDownRightHandler&&b.__keyDownRightHandler();break;case 13:b.__keyDownEnterHandler&&b.__keyDownEnterHandler();break;default:b.__keyDownHandler&&b.__keyDownHandler()}}).on("keyup",function(a){c.editable&&b.__keyUpHandler&&b.__keyUpHandler(a)})},_resetLayoutEvent:function(){var a=this,c=this.$el[0];b(window).on("resize scroll",function(){var b,d;a.isHide||(b=c.getBoundingClientRect(),d=a.position,(b.left!==d.left||b.top!==d.top)&&a.$text.blur())})},_initData:function(){var a,c,d,e,f,g,h=this.options,i=this.templateBox.find("a[value]"),j=i.length;if(j)for(f=h.value_field,g=h.label_field,a=[],d=0;j>d;d++)e=a[d]={},e[f]=i.eq(d).attr("value"),e[g]=b.trim(i.eq(d).html());a=a||h.datasource,c=b.type(a),"function"===c?""!==h.value||-1!==h.select?this._callDataSource():this.$btn.removeClass("pulldown-loading"):this.setDatasource("array"===c?a:[])},setDatasource:function(a){var c,d,e,f=this.options;return this.data=b.extend(!0,[],a),f.textmode?(this.__renderTextMode(),this.$el.addClass("pulldown-textmode")):(this.$btn.removeClass("pulldown-loading"),c=this.rendered,this.__initMode(c),c?this._emptyStat():(this.rendered=!0,e=f.value,d=f.select,e?this.setValue(e,!1,!0):d>-1&&d<a.length&&this.setValue(a[d][f.value_field],!1,!0),f.editable&&this.$text.removeAttr("readonly")),this.isHide||this._setBoxLayout(this._setBoxPosition(this.$el[0].getBoundingClientRect()))),this},setDataSource:function(a){return this.setDatasource(a)},_emptyStat:function(){this.text="",this.value="",this.valueCache="",this.selectData=null,this.$text.val(""),this.$hide.val(""),this.eqEmptyText=!1,this._isEmpty()},resetDataSource:function(a){return this.setDatasource(a),this},_setProp:function(a){var b=a.text,c=a.value||b,d=a.data;this.text=b,this.value=c,this.selectData=d,this.$text.val(b),this.$hide.val(c),this._isEmpty()},open:function(){return this.$text.focus(),this},setWidth:function(a){var b=this.options;return"string"==typeof a&&/%/.test(a)?b.width=a:this._initWidthAndHeight(a+""),this.$text.blur(),this.$el.css("width",b.width),this},setValue:function(a,b,c){return this.rendered?(this.setOldData(),this.__setValue("undefined"==typeof a?this.options.value:a),this._triggerChange(b,c)):(this.options.value=a,this.$hide.val(a),this._callDataSource()),this},getValue:function(){return this.rendered?this.value:this.options.value},getData:function(){var a=this.selectData,c=b.type(a);switch(c){case"array":return b.extend(!0,[],this.selectData);case"object":return b.extend(!0,{},this.selectData);default:return null}},getText:function(){return this.__getText()},setReadonly:function(a){return a===!0?(this.readonly=!0,this.$inner.addClass("pulldown-readonly"),this.$text.attr("readonly","readonly"),this.$text.blur()):a===!1&&(this.readonly=!1,this.$inner.removeClass("pulldown-readonly"),this.options.editable?this.$text.removeAttr("readonly"):this.$text.attr("readonly","readonly")),this.options.readonly=a,this},setEditAble:function(a){a=!!a,this.options.editable=a,a?this.$text.removeAttr("readonly"):this.$text.attr("readonly","readonly")},onInValid:function(a,c){this.$inner.addClass("pulldown-error"),this.$el.attr("tip",c),b(this.tipPosition,this.options.el).attr("tipType","error"),this.inValid=!0},onValid:function(){var a,c=this.$el,d=c.find(this.tipPosition).eq(0).attr("tipID");this.$inner.removeClass("pulldown-error"),void 0!==d&&(a=window.cui.tipList[d],"undefined"!=typeof a&&a.hide()),c.attr("tip",this.tipText||""),b(this.tipPosition,this.options.el).attr("tipType","normal"),this.inValid=!1}}}())}(window.comtop),function(a){"use strict";var b=a.cQuery;a.UI.SinglePullDown=a.UI.PullDown.extend({options:{name:"pullDownName",uitype:"SinglePullDown"},__initMode:function(a){this.index=-1,a?this.$hideListBox.html(""):this.$hideListBox=b(document.createElement("div")),this.__createList()},__renderTextMode:function(){var a,b=this.options,c=this.data;this.size=c.length,a=this.__getIndex(b.value),this.$el.html(a>-1?c[a][b.label_field]:"")},__createList:function(){var a,b,c,d,e,f,g=this.$boxInner,h=this.data,i=this.size=h.length,j=[],k=this.options.label_field;for(a=0;i>a;a++)f=h[a][k],j.push('<a class="pulldown-list" href="#/" index="',a,'" title="',f,'">',f,"</a>");for(g.html(j.join("")),c=g.find(".pulldown-list"),d=this.list=[],e=this.indexList=[],b=0;i>b;b++)d[b]=c.eq(b),e[b]=b},__filterList:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;if(""===a)return void this.__recoverBox();if(!this.__filterCustom(a)&&!this.__filterCustomData(a)){b=this.options,c=this.data,e=this.$boxInner,f=this.size,g=b.label_field,h=b.filter_fields,j=h.length,k=this.$hideListBox,n=this.list,o=this.indexList=[];a:for(l=0;f>l;l++)if(d=c[l],-1!==d[g].indexOf(a))e.append(n[l]),o.push(l);else{if(j)for(m=0;j>m;m++)if(i=d[h[m]],"string"==typeof i&&-1!==i.indexOf(a)){e.append(n[l]),o.push(l);continue a}k.append(n[l])}}},__filterCustomData:function(a){var c,d,e,f,g,h,i,j,k,l,m,n,o=this.options,p=o.on_filter_data;if("function"==typeof p){if(l=p.call(this,this,a),"array"===b.type(l)){i=this.data,j=this.size,d=this.$boxInner,e=this.indexList=[],f=this.$hideListBox,g=this.list,c=o.value_field;a:for(h=0;j>h;h++){for(k=i[h],m=l.length;m--;)if(n=l[m],k[c]===n[c]){d.append(g[h]),e.push(h);continue a}f.append(g[h])}}return!0}},__filterCustom:function(a){var c,d,e,f,g,h,i=this.options,j=i.on_filter;if("function"==typeof j){if(h=j.call(this,this,a),"array"===b.type(h))for(c=this.$boxInner,d=this.indexList=[],e=this.$hideListBox,f=this.list,g=this.size;g--;)h[g]===!0?(c.append(f[g]),d.push(g)):e.append(f[g]);return!0}},__getIndex:function(a,b){var c,d=this.options,e=a||b,f=d.value_field,g=this.data,h=this.size;for(void 0===a&&(f=d.label_field),c=0;h>c;c++)if(g[c][f]+""==e+"")return c;return-1},__showBoxCallBack:function(){var a=this.index;-1!==a&&this.__scrollHoverPosition(a)},__hideBoxCallBack:function(){this.options.editable&&!this.selectEvent&&this.__checkSelect(this.__getIndex(void 0,this.$text.val())),this.selectEvent=!1,this.__recoverBox(),this.__clearHover()},__clearHover:function(){var a=this.hoverIndex;"undefined"!=typeof a&&(this.list[this.indexList[a]].removeClass("pulldown-hover"),delete this.hoverIndex)},__recoverBox:function(){var a,b=this.list,c=this.indexList=[],d=this.size,e=this.$boxInner;for(a=0;d>a;a++)e.find(b[a]).length||e.append(b[a]),c.push(a)},__setValue:function(a){this.__checkSelect(this.__getIndex(a))},__checkSelect:function(a){var b,c=this.options,d=c.label_field,e=c.value_field,f=this.list,g=this.index;-1!==g&&f[g].removeClass("pulldown-checked"),-1!==a?(f[a].addClass("pulldown-checked"),b=this.data[a],this._setProp({text:b[d],value:b[e],data:b})):this._setProp({value:"",text:c.must_exist?"":this.$text.val(),data:null}),this.index=a},__mouseUpHandler:function(a){var c,d=b(a.target);this.selectEvent=!0,d.hasClass("pulldown-list")?(c=d.attr("index"),c&&this.__checkSelect(c-0),this.$text.blur()):this.size||this.$text.blur()},__keyDownUPHandler:function(){var a,b,c=this.indexList,d=c.length;d&&(a=this.list,b=this.hoverIndex,"undefined"==typeof b?(b=d-1,a[c[b]].addClass("pulldown-hover")):(a[c[b]||0].removeClass("pulldown-hover"),-1===--b&&(b=d-1),a[c[b]].addClass("pulldown-hover")),this.hoverIndex=b,this.__scrollHoverPosition(b))},__keyDownDownHandler:function(){var a,b,c=this.indexList,d=c.length;d&&(a=this.list,b=this.hoverIndex,"undefined"==typeof b?(b=0,a[c[0]].addClass("pulldown-hover")):(a[c[b]||0].removeClass("pulldown-hover"),d===++b&&(b=0),a[c[b]].addClass("pulldown-hover")),this.hoverIndex=b,this.__scrollHoverPosition(b))},__scrollHoverPosition:function(a){var b=28,c=this.$box,d=a*b,e=d+b-c.height();c.scrollTop()<e?c.scrollTop(e):c.scrollTop()>d&&c.scrollTop(d)},__keyDownEnterHandler:function(){var a=this.hoverIndex;this.selectEvent=!0,"undefined"!=typeof a&&this.__checkSelect(this.indexList[a]),this.$text.blur()},__keyUpHandler:function(a){var b=a.keyCode;this.options.auto_complete&&13!==b&&37!==b&&38!==b&&39!==b&&40!==b&&(this.__clearHover(),this.__filterList(this.$text.val()))},__getText:function(){return this.text}})}(window.comtop),function(a){"use strict";var b=a.cQuery,c=a.UI.SinglePullDown.prototype;a.UI.MultiPullDown=a.UI.PullDown.extend({options:{uitype:"MultiPullDown",name:"MultiPullDownName"},__initMode:function(a){this.index=[],this.checkAll=!1,this.__createList(a)},__renderTextMode:function(){var a,b,c,d=this.options,e=d.value.split(/;|\uff1b/),f=e.length,g=d.label_field,h=d.value_field,i=this.data,j=[],k=i.length;if(f){for(b=0;k>b;b++)for(a=i[b],c=0;f>c;c++)a[h]===e[c]&&j.push(a[g]);this.$el.html(j.join(";"))}},__createList:function(a){var b,c,d,e,f,g,h=this.data,i=this.$box,j=this.size=h.length,k=[],l=this.options.label_field;for(b=0;j>b;b++)g=h[b][l],k.push('<a class="pulldown-list" href="#/" index="',b,'" title="',g,'">',g,"</a>");for(a?this.__setAllCheck(!1):(i.addClass("multi-pulldown-box").append('<div class="pulldown-list-all"><a href="#/" class="pulldown-list">\u5168\u9009</a></div>'),this.allCheckDom=i.find(".pulldown-list-all").eq(0).find(".pulldown-list").eq(0),this.__bindAllAcitveEvent()),j?i.find(".pulldown-list-all").eq(0).show():i.find(".pulldown-list-all").eq(0).hide(),d=this.$boxInner.html(k.join("")).find(".pulldown-list"),e=this.list=[],f=this.indexList=[],c=0;j>c;c++)e[c]=d.eq(c),f[c]=c},__bindAllAcitveEvent:function(){var a,b,c=this;this.allCheckDom.on("click",function(d){if(d.stopPropagation(),d.preventDefault(),c.checkAll)c.index=[];else{for(a=[],b=c.size;b--;)a[b]=!0;c.index=a}c.__setInputProp()})},__setAllCheck:function(a){var b="\u5168\u9009",c="\u53d6\u6d88";this.checkAll=a,a?this.allCheckDom.addClass("pulldown-checked").html(c):this.allCheckDom.removeClass("pulldown-checked").html(b)},__showBoxCallBack:function(){var a=this.index,b=a.length,c=0;if(b){for(;b>c;c++)if(a[c]===!0){this.__scrollHoverPosition(c);break}}else this.__scrollHoverPosition(0)},__hideBoxCallBack:function(){this.__clearHover(),this.options.editable&&this.__setIndex(void 0,this.$text.val())},__setIndex:function(a,b){var c,d,e,f,g,h,i=this.options,j=i.value_field,k=void 0===a?b:a;if("string"==typeof k){for(c=this.index=[],d=this.data,e=this.size,void 0===a&&(j=i.label_field),k=k.split(/;|\uff1b/),h=k.length,f=0;e>f;f++)for(g=0;h>g;g++)d[f][j]===k[g]&&(c[f]=!0);this.__setInputProp()}},__setInputProp:function(){var a,b,c=this.options,d=c.label_field,e=c.value_field,f=this.size,g=this.data,h=this.index,i=this.list,j=0,k=[],l=[],m=[];for(b=0;f>b;b++)a=g[b],h[b]?(j++,i[b].addClass("pulldown-checked"),k.push(a[d]),l.push(a[e]),m.push(a)):i[b].removeClass("pulldown-checked");this.__setAllCheck(j===f&&0!==f),this._setProp({text:k.join(";"),value:l.join(";"),data:m})},__clearHover:c.__clearHover,__setValue:function(a){this.__setIndex(a)},__checkSelect:function(a){var b=this.index;0>a||a>=this.size||(b[a]=!b[a],this.__setInputProp())},__mouseUpHandler:function(a){var c,d=b(a.target);d.hasClass("pulldown-list")&&(c=d.attr("index"),c&&this.__checkSelect(c-0)),this.$text.focus()},__keyDownUPHandler:c.__keyDownUPHandler,__keyDownDownHandler:c.__keyDownDownHandler,__scrollHoverPosition:function(a){var b=23,c=this.$box,d=a*b,e=d+2*b-c.height();c.scrollTop()<e?c.scrollTop(e):c.scrollTop()>d&&c.scrollTop(d)},__keyDownEnterHandler:function(){var a=this.hoverIndex;"undefined"!=typeof a&&this.__checkSelect(this.indexList[a])},__getText:function(){return""===this.text?[]:this.text.split(";")}})}(window.comtop),function(a,b){b.UI.BasePagination=b.UI.Base.extend({_init:function(b){this.options.pagesize_list="string"==typeof b.pagesize_list?this._convertTo(b.pagesize_list,"object",[25,50,100]):this.options.pagesize_list,this.$container=a(this.options.el),this.setInitData(this.options)},_create:function(){return this.totalItems<=0?void this.$container.empty():(this.setInitData(this.options),this._calTotalPage(),this._draw(),void this._bindEvent(this.$container))},_draw:function(){},_bindEvent:function(){},_calTotalPage:function(){this.totalPage=Math.ceil(this.totalItems/this.itemsPerPage),this.currentPage>=this.totalPage&&(this.currentPage=this.totalPage)},reDraw:function(){return this._create(),this},setCount:function(a){return this.options.count=this.totalItems=a,this},setPagesize:function(a){return this.setPageSize(a)},setPageSize:function(b){function c(a,b){return a-b}if("number"!=typeof b||0>=b)return this;for(var d=!1,e=0;e<this.options.pagesize_list.length;e++)if(this.options.pagesize_list[e]===b){d=!0;break}if(this.itemsPerPage=this.options.pagesize=b,!d){var f=a.extend([],this.options.pagesize_list);f.push(b),f.sort(c),f.splice(3,1),this.options.pagesize_list=f}return this.reDraw(),this},_setPageSize4Text:function(a){this.itemsPerPage=this.options.pagesize=a,this._click(this.currentPage,this.itemsPerPage)},setInitData:function(b){return this.options=a.extend(!0,this.options,b),b.pagesize_list&&(this.options.pagesize_list=b.pagesize_list),b=this.options,this.totalItems=null!=b.count?b.count:null,this.itemsPerPage=null!=b.pagesize?b.pagesize:null,this.currentPage=null!=b.pageno?b.pageno:null,this.currentPage=b.pageno=b.pageno<1?1:b.pageno,this.itemsPerPage=b.pagesize=b.pagesize<1?b.pagesize_list[1]:b.pagesize,this},go:function(a){return"number"!=typeof a?this:(a>this.totalPage&&(a=this.totalPage),this.options.pageno=this.currentPage=a,this._click(a,this.itemsPerPage),this)},next:function(){return this.currentPage===this.totalPage?this:(this.currentPage++,this.options.pageno=this.currentPage,this._click(this.currentPage,this.itemsPerPage),this)},prev:function(){return 1===this.currentPage?this:(this.currentPage--,this.options.pageno=this.currentPage,this._click(this.currentPage,this.itemsPerPage),this)},getCurrentPage:function(){return this.currentPage},setPageSizeList:function(b,c){if("array"!==a.type(b))return this;("number"!=typeof c||0>=c)&&(c=this.options.pagesize),this.options.pagesize_list=a.extend(!0,this.options.pagesize_list,b),this.options.pagesize_list.splice(3);for(var d=!1,e=0;e<this.options.pagesize_list.length;e++)if(this.options.pagesize_list[e]===c){d=!0;break}return this.itemsPerPage=this.options.pagesize=d?c:this.options.pagesize_list[1],this.reDraw(),this},_click:function(a,b){this.options.on_page_change&&this.options.on_page_change.call(this,a,b)},_setItemsPerPage:function(a){this.itemsPerPage=a}}),b.UI.Pagination=b.UI.BasePagination.extend({options:{uitype:"Pagination",cls:"pagination",count:0,display_page:4,pagesize:25,pageno:1,pagesize_list:[25,50,100],on_page_change:null,custom_pagesize:!1,customerText:""},_draw:function(){var c=this.options.display_page;c>this.totalPage&&(c=this.totalPage),3>=c&&(c=3);var d=Math.floor((c-1)/2),e=Math.ceil((c-1)/2);this.currentPage-2<d?e=e+d-(this.currentPage-2):this.totalPage-this.currentPage-1<e&&(d=d+e-(this.totalPage-this.currentPage-1)),d>this.currentPage-1&&(d=this.currentPage-1),e>this.totalPage-this.currentPage&&(e=this.totalPage-this.currentPage);var f=this.currentPage-d,g=this.currentPage+e,h={totalItems:this.totalItems,totalPage:this.totalPage,currentPage:this.currentPage,itemsPerPage:this.itemsPerPage,selectList:this.options.pagesize_list,customerText:this.options.customerText,customPageSize:this.options.custom_pagesize,displayPreCount:d,displayNextCount:e,toFirst:f,toLast:g};this.$container.html(this._buildTemplateStr("pagination",h)).addClass(this.options.cls).addClass("cui"),b.Browser.isQM&&b.Browser.isIE&&this.$container.addClass("pagination-qm"),b.UI.InputMask.doMask(this.$container.find("[act='cusPage']"),"Num"),this.options.custom_pagesize&&(b.UI.InputMask.doMask(this.$container.find("[act='customPageSize']"),"Num"),this.$container.find("[act='customPageSize']").on("input propertychange",function(){var c=a(this).val();c.length>4&&a(this).val(b.String.interceptString(c,4))}))},_bindEvent:function(){function b(){var a=parseInt(d.$container.find(".page-size-num").val(),10);(isNaN(a)||0>=a)&&(a=25),a>d.totalItems&&(a=d.totalItems),d._setPageSize4Text(a)}function c(){var a=parseInt(d.$container.find(".page-skip-num").val(),10);return(isNaN(a)||0>=a)&&(a=1),a>d.totalPage&&(a=d.totalPage),d.go(a),!1}var d=this,e=this.$container;e.find('[act="numPage"]').bind("click",function(){return d.go(parseInt(a(this).text(),10)),!1}),e.find('[act="prevPage"]').bind("click",function(){return d.prev(),!1}),e.find('[act="nextPage"]').bind("click",function(){return d.next(),!1}),e.find('[act="goPage"]').bind("click",c),e.find('[act="cusPage"]').bind("keydown",function(a){13===a.keyCode&&c()}),this.$container.find('[act="sizePage"]').bind("click",function(){return d._setItemsPerPage(parseInt(a(this).text(),10)),d._calTotalPage(),d.go(d.currentPage),!1}),this.$container.find("[act='customPageSize']").on("blur",function(){b()}).on("keydown",function(b){13===b.keyCode&&a(this).trigger("blur")})}})}(window.comtop.cQuery,window.comtop),function(a,b){var c=0,d=1,e="change",f=function(a){if(!a)return{top:0,bottom:0,left:0,right:0};var b=null;return b=a.currentStyle?a.currentStyle:getComputedStyle(a,!1),{top:parseInt(b.paddingTop),bottom:parseInt(b.paddingBottom),left:parseInt(b.paddingLeft),right:parseInt(b.paddingRight)}};comtop.UI.Panel=comtop.UI.Base.extend({options:{uitype:"Panel",header_title:"",width:0,height:0,url:"",html:"",on_change:null,collapsible:!0,status:d,animate:"",containerCls:"cui-panel",titleCls:"cui-panel-title",triggerCls:"cui-panel-trigger",contentCls:"cui-panel-content"},container:null,title:null,trigger:null,content:null,status:null,events:[e],_init:function(c){var d=this.options;c.height=b.Tools.fixedNumber(c.height),c.height&&(d.height=c.height),this.status=d.status,c.html&&window[c.html]&&(d.html=window[c.html]),c.header_title&&window[c.header_title]&&(d.header_title=window[c.header_title]),d.el.css({zoom:1}),"function"==typeof d.on_change&&this.bind("change",d.on_change),""!==a.trim(d.el.html())&&(this._needBuildTemp=!0)},_create:function(){var b,c,d=this.options;this._needBuildTemp&&this._initStructures(),c=d.el,b=a(".cui-panel-content",c).hide(),this._navHeight=a(".cui-panel",c).height()-2,b.show(),this._parseMarkup(),this._initView(!0)},_parseMarkup:function(){var b=this.options;this.container=a("."+b.containerCls,b.el),this.title=a("."+b.titleCls,b.el),this.trigger=a("."+b.triggerCls,b.el).eq(0),this.content=a("."+b.contentCls,b.el)},_initView:function(b){var c=this.options;this._setUpSize(),this._bindTriggers(),c.header_title&&this._setTitle(c.header_title),c.html&&b?"string"==typeof c.html?this.content.find("div").html(c.html):this.content.find("div").append(a(c.html)):c.url&&b&&this._loadFrame(),c.collapsible?this.trigger.show():this.trigger.hide(),c.status===d?this._showView():this._hideView()},_setUpSize:function(){var c,d=this.options,e=d.height,g=d.el.parent(),h=f(d.el.find(".cui-panel-content").get(0)),i=b.Browser.isQM&&b.Browser.isIE&&!b.Browser.isIE9?0:h.top+h.bottom+2;this._contentPadding=h,d.width&&this.container.width(d.width),e?("100%"===e&&("BODY"===g.prop("tagName")?(this.h=a.client.height(),d.el.find(".cui-panel-content").eq(0).css("height",0),this.margin=parseInt(g.css("marginTop"))+parseInt(g.css("marginBottom")),d.height=e=this.h-this.margin,this._resizeHandle()):(this.margin=0,d.height=e=d.el.parent().height())),c=e-this._navHeight-i,c=10>c?10:c,d.content_height=c,d.el.find(".cui-panel-content").height(c),d.el.find(".cui-panel-iframe").height("100%"),b.Browser.isQM&&b.Browser.isIE&&this.content.children("div").height("").css("zoom",1)):this.content.children("div").height("")
},_resizeHandle:function(){function c(){var b=a.client.height();d.content.css("height",d.content.height()+b-d.h+f),d.h=b}if(void 0!==this.margin){var d=this,e=(this.options,this._contentPadding),f=b.Browser.isQM&&b.Browser.isIE&&!b.Browser.isIE9?e.top+e.bottom+2:0;a(window).on("resize",c)}},get:function(a){var b=this.options[a];return"width"==a?b=b||this.container.width():"height"==a?(b=b||this.container.height(),this.status==c&&(b=this._navHeight)):b||"header_title"!=a?"status"==a&&(b=this.status):b=this._getTitle(),b},set:function(b,c){var d=!1;return"string"==typeof b?(this.options[b]=c,("url"==b||"html"==b)&&(d=!0)):((b.hasOwnProperty("url")||b.hasOwnProperty("html"))&&(d=!0),a.extend(this.options,b)),this._initView(d),this},expend:function(){return this.options.collapsible&&this.status!=d?(this._showView(),this.status=d,this.options.onchange&&this.options.onchange.call(null,this.status),a(this).triggerHandler(e,this.status),this):this},collapse:function(){return this.options.collapsible&&this.status!=c?(this._hideView(),this.status=c,this.options.onchange&&this.options.onchange.call(null,this.status),a(this).triggerHandler(e,this.status),this):this},addIcon:function(a){if(a&&a.className){var b=a.title||"",c='<a href="#" title="'+b+'" class="cui-panel-trigger-customer '+a.className+'" hidefocus="true"></a>',d=this.title.find(".cui-panel-trigger-content").append(c);return"function"==typeof a.callback&&d.find("a."+a.className).on("click",function(){return a.callback(),!1}),this}},removeIcon:function(a){return a?(this.title.find("a."+a).unbind().remove(),this):void 0},toggle:function(){return this.status==d?this.collapse():this.expend(),this},resize:function(a,c){if(0!=arguments.length){if("number"==typeof a){this.options.height=a;var d=this._contentPadding,e=b.Browser.isQM&&b.Browser.isIE&&!b.Browser.isIE9?0:d.top+d.bottom+2,f=a-this._navHeight-e;this.content.height(f)}"number"==typeof c&&(this.options.width=c,this.container.width(c))}},_initStructures:function(){var b=this.options,c=a(document.createElement("div"));this._buildTemplate(c,"panel",b),a(b.el).before(c).appendTo(a("."+b.contentCls,c).find("div")),b.el.css("height","100%"),this.el=b.el=c},_loadFrame:function(){var c=this.options,d=this.content.find("iframe");d.attr("src",this.options.url),this.loaded=!0,d.one("load",function(){var e=d.get(0).contentWindow.document,f=e.body.scrollHeight,g=e.documentElement.scrollHeight,h=Math.max(f,g);if(c.content_height&&(h=h<c.content_height?c.content_height:h),b.Browser.isIE6&&!b.Browser.isQM){var i=d.height();i&&h>i&&a(e).find("head").append('<style type="text/css">html{overflow-y:scroll}</style>')}a(e).width()>d.width()&&(h+=17),c.height||d.height(h)})},_bindTriggers:function(){var a=this,b=this.options.status;this.trigger.toggle(function(){b==d?a.collapse():a.expend()},function(){b==d?a.expend():a.collapse()})},_getTitle:function(){return this.title.find(".cui-panel-title-text").html()},_setTitle:function(a){this.title.find(".cui-panel-title-text").html(a)},_showView:function(){var a=this.options.animate;this.trigger.removeClass("collapse").html("&#xf068;"),a&&"slide"===a?this.content.slideDown(100):this.content.show()},_hideView:function(){var a=this.options.animate;this.trigger.addClass("collapse").html("&#xf067;"),a&&"slide"===a?this.content.slideUp(100):this.content.hide()}}),comtop.UI.Panel.EXPAND=d,comtop.UI.Panel.COLLAPSE=c}(window.comtop.cQuery,window.comtop),function(a){"use strict";var b=a.cQuery;a.UI.RadioGroup=a.UI.Base.extend({options:{uitype:"RadioGroup",name:"",radio_list:[],direction:"horizontal",value:"",readonly:!1,color:"#0078ff",br:[],border:!1,textmode:!1,on_change:null},_init:function(){var c=this.options,d=c.value,e=this._setType();this.textmode=c.textmode,this.guid=e+"group-"+a.guid()+"-",this.tipPosition=this.el,this.el=c.el.addClass(this.type+"-group"),this.tip_text=this.el.attr("tip"),this.inputs=null,this.labels=null,this.data=null,this.value="string"==typeof d&&""!==d?[String(d)]:"array"===b.type(d)?d:[],this.first=!0,this.values=[],this.orignalValues=[],this.texts=[],this.colors=[],this.size=0,this.readonly_list={},c.textmode&&this._create()},_setType:function(){return this.type="radio","radio"},_create:function(){if(!this.create){var a=this.type,c=this.options[a+"_list"],d=b.type(c),e=this.el,f=document.createElement("div");if(this.inner=b(f).html(e.html()),this.inputs=this.inner.find("input"),this.size=this.inputs.length,f.className=a+"group-inner",this.options.border&&this.inner.addClass(a+"group-border"),e.html(f),"function"===d)c(this);else if("array"!==d||this.size){if(!this.size)throw new Error(a+"_list's type not is a array or a function.");this._setDatasource(this._initData())}else this._setDatasource(c);this.create=!0}},_initData:function(){var a,b,c,d,e,f,g=this.inputs,h=this.size,i=0,j=[];for(a=0;h>a;a++)b=g.eq(a),c=b.attr("value"),f=b[0].nextSibling,c?(d={text:b.attr("text")||(3===f.nodeType?f.nodeValue.replace(/\s*|\n*/g,""):""),value:c},e=b.attr("readonly"),!e||"true"!==e&&"readonly"!==e.toLowerCase()||(d.readonly="readonly"),b.attr("color")&&(d.color=b.attr("color")),j.push(d)):i++;return this.size-=i,j},_setDatasource:function(a){if("array"!==b.type(a))throw new Error("data's type not is a array.");this.data=a,this.size=a.length,this._renderHtml(),this.first=!1},setDatasource:function(a){this.first||(this.value=[]),this.values=[],this.orignalValues=[],this.texts=[],this.readonly_list={},this.colors=[],this._setDatasource(a)},setDataSource:function(a){return this.setDatasource(a)},_renderHtml:function(){var a,b,c,d,e=this.options,f=this.data,g=e.name,h=e.readonly,i=this.texts,j=this.values,k=this.colors,l=this.size,m=e.direction,n=e.br,o=n.length,p={},q=this.type,r=this.guid,s=[],t=this.readonly_list;if(o)for(b=o;b--;)p[n[b]]=!0;for(a=0;l>a;a++)(0!==a&&"vertical"===m||p[a])&&s.push("<br />"),c=j[a]=f[a].value+"",this.orignalValues.push(f[a].value),d=i[a]=f[a].text,(h||f[a].readonly)&&(t[c]=a),k[a]=f[a].color,s.push('<label for="',r,a,'">','<input id="',r,a,'" type="',q,'" name="',g,'" value="',c,'" index="',a,'" hidefocus="true" />',d,"</label>");this.inner.html(s.join("")),this.inner=this.el.children().eq(0),this.labels=this.el.find("label"),this.inputs=this.el.find("input"),this._inputsAction()},_renderText:function(){var a=this.getText();this.inner.html(null!==a?a.toString():"")},setTextMode:function(){},_inputsAction:function(){this._initValue(),this._setValue(void 0),this.options.textmode&&this._renderText(),this._clickEventBind(),this._setReadonly(),this._renderComplete&&this._renderComplete()},_initValue:function(a){a=(a||this.value).sort();var c,d,e=a.length,f=this.values,g=this.size,h=[];for(c=0;e>c;c++)for(d=0;g>d;d++)if(f[d]===a[c]+""){h.push(f[d]);break}this.value=b.unique(h)},_changeHander:function(){var a=this.options.on_change;this._triggerHandler("change"),"function"==typeof a&&a(this.getValue())},getValue:function(){return this._getEle(this.orignalValues)},getText:function(){return this._getEle(this.texts)},_getEle:function(a){var b,c,d=this.value.sort(function(a,b){return a>b?1:-1}),e=d.length,f=this.size,g=this.type,h=[];for(b=0;e>b;b++)f=this._valueToIndex(d[b]),isNaN(f)||(h.push(a[f]),c=a[f]);return"radio"===g?"undefined"==typeof c?null:c:h.length?h:null},_clickEventBind:function(){var a=this;this.el.off("click").on("click",function(c){var d,e,f,g=b(c.target),h=a.readonly_list;if("INPUT"===g.prop("tagName"))if(d=g.attr("index")-0,e=g.val(),f=a._valueToIndex(a.value[0]),"undefined"!=typeof h[e]){if(isNaN(f))return a.inputs.eq(d).prop("checked",!1),!1;a.inputs.eq(f).prop("checked",!0)}else{if(f===d)return;a._checked(d),a.value=[e],a.labels.eq(f).removeClass(this.type+"-group-checked").css({color:"",fontWeight:""}),a._changeHander()}})},_valueToIndex:function(a){if("undefined"==typeof a)return 0/0;for(var b=this.values,c=this.size,d=0;c>d;d++)if(a===b[d])return d;return 0/0},_checked:function(a){var b=this.labels.eq(a),c=this.colors[a];b.addClass(this.type+"-group-checked"),c?b.css("color",c):b.css("color",this.options.color)},show:function(){this.inner.show()},hide:function(){this.inner.hide()},setValue:function(a,c){if(!this.textmode){var d,e,f,g=b.extend([],this.value);if(this._setValue(a),!c)if(d=this.value,e=d.length,e===g.length){for(f=0;e>f;f++)if(g[f]!==d[f]){this._changeHander();break}}else this._changeHander()}},_setValue:function(a){var c=b.type(a);"undefined"!==c&&("array"===c?(a=b.extend([],a),this._initValue(a)):""!==a?this._initValue([String(a)]):this.value=[""]);var d,e,f=(this.options,this.size),g=this.values,h=this.value,i=h.length,j=this.inputs,k=this.labels,l=this.type;a:for(d=0;f>d;d++){for(e=0;i>e;e++)if(h[e].toString()===g[d]){j.eq(d).prop("checked",!0),this._checked(d);continue a}j.eq(d).prop("checked",!1),k.eq(d).removeClass(l+"-group-checked").css("color","")}},setReadonly:function(a,c){if(!this.textmode){var d,e,f,g,h=b.type(c),i=this.readonly_list,j=this.values,k=this.size;if("boolean"==typeof a&&("array"===h||"undefined"===h))for("undefined"===h&&(c=j),d=c.length,e=d;e--;)for(f=k;f--;)if(g=j[f],c[e].toString()===g){a?i[g]=f:delete i[g],this._setReadonlyAction(f,a);break}}},_setReadonly:function(){var a,b=this.readonly_list;for(a in b)b.hasOwnProperty(a)&&this._setReadonlyAction(b[a],!0)},_setReadonlyAction:function(a,b){var c=this.labels,d=this.inputs,e=this.type;b?(comtop.Browser.isIE8?0===c.eq(a).find(".radio-readonly").length&&c.eq(a).prepend("<div class='radio-readonly'></div>"):c.eq(a).addClass(e+"-group-readonly"),d.attr("hidefocus","true")):(c.eq(a).find(".radio-readonly").remove(),c.eq(a).removeClass(e+"-group-readonly"),d.removeAttr("hidefocus"))},isReadonly:function(a){var b,c=this.readonly_list,d=0;if("undefined"==typeof a){for(b in c)c.hasOwnProperty(b)&&d++;return this.size===d}return c.hasOwnProperty(a)},onInValid:function(a,b){this.el.addClass(this.type+"-group-error").attr("tip",b),this.el.attr("tipType","error")},onValid:function(){var a,b=this.el,c=b.find(this.tipPosition).eq(0).attr("tipID");b.removeClass(this.type+"-group-error"),void 0!==c&&(a=window.cui.tipList[c],"undefined"!=typeof a&&a.hide()),this.tip_text?b.attr("tip",this.tip_text):b.attr("tip",""),b.attr("tipType","normal")}})}(window.comtop),function(a){"use strict";var b=a.cQuery;a.UI.CheckboxGroup=a.UI.RadioGroup.extend({options:{uitype:"CheckboxGroup",name:"",checkbox_list:[],direction:"horizontal",value:[],color:"#0078ff",textmode:!1,allselect:"",br:[],readonly:!1,border:!1},_setType:function(){return this.type="checkbox","checkbox"},_deleteVal:function(a){for(var b=this.value,c=b.length,d=0;c>d;d++)if(b[d]===a){b.splice(d,1);break}return b},_renderComplete:function(){if(this.options.allselect){var a=this.options,c=this.allId=this.guid+"all",d=this.type,e=this.allLabel=b("<label>");e.attr("for",c),e.html(['<input id="',c,'" type="',d,'" hidefocus="true" />',a.allselect].join("")),(a.br.length||"vertical"===a.direction)&&this.inner.prepend("<br />"),this.inner.prepend(e),this.allInput=b("#"+c),this._checkAllSelect()}},_changeHander:function(){var a=this.options,b=a.on_change;a.allselect&&this._checkAllSelect(),this._triggerHandler("change"),"function"==typeof b&&b(this.getValue())},_checkAllSelect:function(){this.value.length===this.size?(this.allInput.prop("checked",!0),this.allLabel.css("color","#f60")):(this.allInput.prop("checked",!1),this.allLabel.css("color",""))},_clickEventBind:function(){var a=this,c=!!a.options.allselect;this.el.off("click").on("click",function(d){var e,f,g=b(d.target),h=g.prop("checked"),i=a.readonly_list;"INPUT"===g.prop("tagName")&&(e=g.attr("index")-0,f=g.val(),"undefined"!=typeof i[f]?d.preventDefault():c&&a.allId===g.attr("id")?h?a.selectAll():a.unSelectAll():(h?(a._checked(e),a.value.push(f),b.unique(a.value)):(a._deleteVal(f),a.labels.eq(e).removeClass(this.type+"-group-checked").css({color:"",fontWeight:""})),a._changeHander()))})},getValueString:function(a){var b=this.getValue();return b?b.join(a||"\u3001"):""},getTextString:function(a){var b=this.getText();return b?this.getText().join(a||"\u3001"):""},selectAll:function(){this.setValue(this.values)},unSelectAll:function(){this.setValue([])}})}(window.comtop),function(a,b){b.UI.Tab=b.UI.Base.extend({options:{uitype:"Tab",width:0,height:0,tab_width:65,active_index:0,tabs:[],fill_height:!1,reload_on_active:!0,closeable:!1,trigger_type:"click"},_className:{parentCls:"cui-tab",navCls:"cui-tab-nav",contentCls:"cui-tab-content",titleCls:"cui-tab-title",activeTriggerCls:"cui-active",hoverTriggerCls:"cui-tab-hover",closeTriggerCls:"cui-tab-close"},active_index:0,navs:[],titles:[],contents:[],urls:[],events:["switch"],handles:[],_initUrl:function(){this.urls=a.map(this.options.tabs,function(a){return a.url||!1})},_initHandles:function(){this.handles=a.map(this.options.tabs,function(a){return a.on_switch||!1})},_init:function(){var c=this.options;c.tab_width=b.Tools.fixedNumber(c.tab_width),c.width=b.Tools.fixedNumber(c.width),c.height=b.Tools.fixedNumber(c.height),this.active_index=this.options.active_index||0,a.each(c.tabs,function(c,d){"object"==typeof d.html&&a(d.html).hide(),d.tab_width=b.Tools.fixedNumber(d.tab_width)}),""!=this.options.el.html().replace(/\s+/g,"")&&(this._isHTMLTemplate=!0)},_create:function(){var b=this.options,c=b.el,d=".";if(this._isHTMLTemplate&&this._initStructures(),this._initUrl(),this._initHandles(),this._navHeight=a(d+this._className.parentCls,c).height(),b.fill_height){var e=b.el.parent();if("BODY"===e.prop("tagName")){var f=a.client.height(),g=parseInt(e.css("marginTop"))+parseInt(e.css("marginBottom"));b.height=f-g,this._resizeHandle()}else b.height=e.height()}this._parseMarkup(),this._setUpHeight(),this._initView(!0),this._bindTriggers()},_initStructures:function(){var b=[],c=this.options;a.each(c.el.children(),function(){var c=a(this).attr("data-options");try{c=a.parseJSON(c)}catch(d){c={}}"string"==typeof c.closeable&&(c.closeable="true"===c.closeable),"string"==typeof c.tab_width&&(c.tab_width=parseInt(c.tab_width)),c.url||(c.html=a(this).children()),b.push(c)}),this.options=a.extend({},this.options,{tabs:b}),this.options.el.children().hide(),this._buildTemplate(this.options.el,"tab",this.options,!0)},_resizeHandle:function(){function b(){var b=a.client.height(),e=d.height;e||(e=d.el.height()),c.resize(e+b-c.h),c.h=b}var c=this,d=this.options;c.h=a.client.height(),a(window).on("resize",b)},_parseMarkup:function(){var b=this._className,c=this.options.el,d=".",e=a(d+b.navCls,c),f=a(d+b.contentCls,c);this.navs=e.children(),this.titles=a(d+b.titleCls,c),this.contents=f.children()},_setUpHeight:function(){var b,c=this.options;return c.height?(b=c.height-this._navHeight,b=10>b?10:b,void(c.content_height=b)):void this.contents.each(function(){var b=a(this).get(0);("DIV"===b.nodeName||"IFRAME"===b.nodeName)&&(b.style.height="")})},attr:function(){var b=arguments;if(0==b.length)return a.extend(!0,{},this.options);if(1==b.length){if("string"==typeof b[0]){var c=this.options[b[0]];return"width"==b[0]&&(c=a(this.options.el).width()),"height"==b[0]&&(c=a(this.options.el).height()),c}if("object"==typeof b[0]){{this.options}return a.extend(this.options,b[0]),this._setUpHeight(),this._initView(!1),this}}},switchTo:function(a){return this._switchTo(a),this},next:function(){return this.switchTo((this.active_index+1)%this.navs.length),this},prev:function(){var a=this.navs.length;return this.switchTo((this.active_index-1+a)%a),this},onClose:function(b){return a(this).bind("close",b),this},resize:function(c,d){var e={};"number"==typeof c&&(e.height=c),"number"==typeof d&&(e.width=d),a.extend(this.options,e),this._setUpHeight();var f=this.options,g=a("."+this._className.contentCls,f.el),h=b.Browser;if(f.width){f.el.width(f.width);var i="number"==typeof f.width?f.width-(h.isIE&&h.isQM?0:6):f.width;g.width(i)}f.content_height&&g.height(f.content_height+(h.isIE&&h.isQM?10:0))},addTab:function(){var b=this.options,c={title:"",closeable:b.closeable,tab_width:b.tab_width},d=arguments,e=this.navs.length;return 2==d.length?(c.title=d[0],c.url=d[1]):1==d.length&&"object"==typeof d[0]&&a.extend(c,d[0]),b.tabs[e]=c,this._add(c),this},removeTab:function(b){if(b<this.navs.length&&this.navs.length>1){this.active_index===b&&this.next(),this.navs.eq(b).remove(),this.contents.eq(b).remove(),this.urls.splice(b,1),this.active_index>0&&b<this.active_index&&this.active_index--;var c=this.options.tabs.splice(b,1);this._parseMarkup(),a(this).triggerHandler("close",c)}return this},getActiveTab:function(){return this.getTab(this.active_index)},getTab:function(a,b){if(!b)return this.navs.get(a);var c;switch(b){case"tab_width":c=this.navs.eq(a).width();break;case"title":c=this.titles.eq(a).html();break;case"html":c=this.options.tabs[a].html;break;case"url":c=this.options.tabs[a].url;break;case"closeable":c=this.navs.eq(a).hasClass(this._className.closeTriggerCls)}return c},getContent:function(a){var a=void 0===a?this.active_index:a;return this.contents[a]},setTab:function(b,c,d){return"string"==typeof c?this.options.tabs[b][c]=d:a.extend(this.options.tabs[b],c),this._initTabs(),this._initUrl(),this.active_index==b&&this._loadFrame(this.active_index,this.active_index),this},index:function(){return this.active_index},_bindTriggers:function(){var b=this;this.navs.hover(function(){b.navs.index(a(this))!==b.active_index&&a(this).addClass(b._className.hoverTriggerCls)},function(){a(this).removeClass(b._className.hoverTriggerCls)}),"click"==this.options.trigger_type?a("."+this._className.navCls,this.options.el).bind("click",a.proxy(this,"_onTrigger")):"mouseover"==this.options.trigger_type&&this.navs.bind("mouseover",a.proxy(this,"_onMouseover"));var c="."+this._className.closeTriggerCls;a("."+this._className.navCls+" > li",this.options.el).delegate(c,"click",function(a){var c=b._findNav(a.target),d=b.navs.index(c);return b.removeTab(d),!1})},_loadFrame:function(c,d){var e=this.options,f=this.urls.length>0&&this.urls[c];if(void 0!=d&&e.reload_on_active){var g=this.contents.eq(d).unbind().removeData("_binded");this.urls[d]&&g.attr("src","about:blank")}if(f){var h=this.contents.eq(c).show();("about:blank"==h.attr("src")||e.reload_on_active)&&(h.attr("src",this.urls[c]),h.data("_binded")||h.bind("load",function(){try{var c=h.get(0).contentWindow.document,d=a(c).height();if(b.Browser.isIE6){var f=parseInt(h.css("height").replace("px",""));f&&d>f&&a(c).find("head").append('<style type="text/css">html{overflow-y:scroll}</style>')}a(c).width()>h.width()&&(d+=17),e.height||h.height(d)}catch(g){}}).data("_binded",!0))}},_initView:function(c){this.contents.css({position:"absolute",left:-999999}),this.contents.eq(this.active_index).css({position:"static",left:0});var d=this.options,e=a("."+this._className.contentCls,d.el),f=b.Browser;if(d.width){d.el.width(d.width);var g="number"==typeof d.width?d.width-(f.isIE&&f.isQM?0:6):d.width;e.width(g)}d.content_height&&e.height(d.content_height+(f.isIE&&f.isQM?10:0)),c||(d.tab_width&&this.navs.width(d.tab_width),d.tabs.length>0?this._initTabs(c):this._initCloseBtns()),this._initContents()},_initTabs:function(){var b=this,c=b.options;c.tabs.length>0&&a.each(c.tabs,function(a,d){d.tab_width&&b.navs.eq(a).width(d.tab_width);var e=void 0!==d.closeable?d.closeable:c.closeable;e?b._addCloseBtn(a):b._removeCloseBtn(a),d.title&&b.titles.eq(a).html(d.title)})},_initContents:function(b,c){var d=b||this.active_index,e=this.options.tabs[d],f=this.contents.eq(d);e&&(e.html?e.__isLoad_||("string"==typeof e.html?f.html(e.html):f.append(a(e.html).show()),e.__isLoad_=!0):e.url&&this._loadFrame(d,c))},_initCloseBtns:function(){for(var a=this.options,b=this.navs.length,c=0;b>c;c++)a.closeable===!0?this._addCloseBtn(c):this._removeCloseBtn(c)},_onTrigger:function(a){var b=this._findNav(a.target);b&&(idx=this.navs.index(b),this._switchTo(idx,a))},_findNav:function(b){for(;b!=this.options.el&&b!=document.body;){if(a(b).parent().hasClass(this._className.navCls))return b;b=b.parentNode}return null},_onMouseover:function(a){var b=this.navs.index(a.currentTarget);this._switchTo(b,a)},_triggerIsValid:function(a){return this.active_index!=a&&a<this.navs.length},_switchTo:function(b,c,d){if(this._triggerIsValid(b)){var e=this.active_index,f=b,g=this.navs.eq(e),h=this.navs.eq(f),i=this.contents.eq(e),j=this.handles[b],k=this.contents.eq(f);return this.active_index=this.options.active_index=f,this._switchTrigger(g,h)._switchView(i,k),this._initContents(this.active_index,e),d&&d.call(this),a(this).triggerHandler("switch",[{fromTab:e,toTab:f}]),"function"===a.type(j)?j.call(this,{fromTab:e,toTab:f}):"string"===a.type(j)&&window[j]&&window[j]({fromTab:e,toTab:f}),this}},_switchTrigger:function(a,b){return a.removeClass(this._className.activeTriggerCls),b.addClass(this._className.activeTriggerCls),this},_switchView:function(a,b){return a.css({position:"absolute",left:-999999,top:-99999}),b.css({position:"static",left:0,top:0}),this},_add:function(b){var c,d=this.options,e=this.navs.length,f=!!b.closeable,g=this._findClone(f);-1!==g?c=this.navs.eq(g).clone(!0):(c=this.navs.eq(0).clone(!0),f?this._addCloseBtn(e,c):this._removeCloseBtn(c)),c.hasClass(this._className.activeTriggerCls)&&c.removeClass(this._className.activeTriggerCls),c.width(b.tab_width||d.tab_width),a("."+this._className.titleCls,c).html(b.title),this.navs.eq(e-1).after(c);{var h;d.content_height||this._minHeight}b.url?(h=a('<iframe src="about:blank" frameborder="0" style="display:none;width:100%;height:100%"></iframe>'),this.urls[e]=b.url):("object"==typeof b.html&&a(b.html).hide(),h=a('<div style="display: none;width:100%;overflow:auto;height:100%"></div>')),this.contents.eq(e-1).after(h),this._parseMarkup()},_addCloseBtn:function(a,b){b||(b=this.navs.eq(a)),b.addClass("closeable").append(this._generateCloseBtn(a))},_generateCloseBtn:function(){var a="<a href='javascript:;' class='"+this._className.closeTriggerCls+"'></a>";return a},_removeCloseBtn:function(b){var c="number"==typeof b?this.navs.eq(b):b;a("."+this._className.closeTriggerCls,c).remove()},_findClone:function(b){return a.inArray(b,this._getCloseBtns())},_getCloseBtns:function(){for(var a,b=!!this.options.closeable,c=this.navs.length,d=this.options.tabs,e=[],f=0;c>f;f++)a=d[f],e.push(a&&void 0!==a.closeable?a.closeable:b);return e}})}(window.comtop.cQuery,window.comtop),function(a,b){b.UI.Textarea=b.UI.Base.extend({options:{uitype:"Textarea",name:"",relation:"",value:"",width:"300",height:"57",readonly:!1,maxlength:-1,"byte":!0,emptytext:"",autoheight:!1,maxheight:"",textmode:!1,on_change:null,on_focus:null,on_blur:null,on_keyup:null,on_keydown:null},tipPosition:".textarea_textarea",_init:function(){var a=this.options;a.width=b.Tools.fixedNumber(a.width),a.height=b.Tools.fixedNumber(a.height),a.id=b.guid(),""===a.name&&(a.name=b.guid()+"_"+a.uitype),a.maxheight=/^(\d)+(px|PX)*$/.test(a.maxheight)?a.maxheight.replace("px",""):""},_create:function(){var c,d=this,e=d.options;if(e.el.children("textarea").length>0&&(e.value=e.el.children("textarea").val()),e.el[0].innerHTML=this._createDom(),c=this.$textarea=a("#"+e.id),this._bindEvent(),this.$box=e.el.find(".cui_textarea_box"),this.$empty=e.el.find(".cui_textarea_empty").eq(0).on("mousedown",function(){c.focus()}),""!==e.relation&&-1!==e.maxlength){this.$relation=a("#"+e.relation);var f=e.maxlength-d._getStringLength(e.value)<0?0:e.maxlength-d._getStringLength(e.value);this.$relation.text(f)}-1!==e.maxlength&&this._textCounter(),""!==e.emptytext&&""===e.value&&this.$empty.html(e.emptytext),""===e.height&&(e.height="51"),this.setHeight(e.height),""===e.width&&(e.width="300"),this.setWidth(e.width),e.readonly&&this.setReadOnly(!0),e.maxlength>-1&&this.$textarea.on("input propertychange",function(){d._textCounter(),d.$relation&&d.$relation.text(d._getRemainLength())}),this.$textarea.on("keypress",function(a){d._keyPressHandler(a)}),e.autoheight&&(this.$textarea.css({overflow:"hidden"}),b.Browser.isIE9?(this.$textarea.on("input change",function(){d._autoHeight()}),this.$textarea.on("keydown",function(a){(46===a.keyCode||8===a.keyCode)&&d._autoHeight()})):(d.$textarea.bind("input",function(){d._autoHeight()}),d.$textarea.bind("propertychange",function(){"value"===window.event.propertyName&&(b.Browser.isIE8?setTimeout(function(){d._autoHeight()},1):d._autoHeight())})),e.value&&d._autoHeight())},_createDom:function(){var a=this,b=a.options;return['<div id="',b.id,'_wrap" class="textarea_textarea_wrap" style="width: ',b.width,'px;">','<div class="cui_textarea_box">','<div class="cui_textarea_empty"></div>','<textarea name="',b.name,'" id="',b.id,'" class="textarea_textarea">',b.value,"</textarea>","</div>","</div>"].join("")},_bindEvent:function(){{var a=this;a.options}a.$textarea.on("blur",function(b){a._blurHandler(b)}),a.$textarea.on("change",function(b){a._changeHander(b)}),a.$textarea.on("focus",function(b){a._focusHandler(b)}),a.$textarea.on("keyup",function(b){a._keyupHandler(b)}),a.$textarea.on("keydown",function(b){a._keydownHandler(b)})},setWidth:function(c){c+="";var d=a(".textarea_textarea_wrap",this.options.el);b.Browser.isIE8&&d.find("textarea").css({width:"100px","min-width":"100%","max-width":"100%"}),d.css(b.Browser.isQM||-1!==c.indexOf("%")?{width:c}:{width:parseFloat(c)+"px"})},setHeight:function(a){a+="",this.$textarea.css(b.Browser.isQM||-1!=a.indexOf("%")?{height:a}:{height:parseFloat(a)-10+"px"})},setValue:function(a,b){var c=this.$textarea,d=this.options;a=null==a||void 0==a?"":a,c.val(a),""!==a?this.$empty.html(""):""!==d.emptytext&&this.$empty.html(d.emptytext),this.$relation&&this.$relation.text(this._getRemainLength()),-1!==d.maxlength&&this._textCounter(),b?this.onValid():(this._triggerHandler("change"),this.$textarea.change());var e=this;d.autoheight&&e._autoHeight()},getValue:function(){var b=this.$textarea.val(),c=this.options.emptytext;return a.trim(b)===c?"":b},setMaxLength:function(a){var b=this.options;b.maxlength=a,b["byte"]||this.$textarea.attr("maxlength",a),this._textCounter(),this.$relation&&this.$relation.text(this._getRemainLength())},_getRemainLength:function(){var a=this.options.maxlength-this._getStringLength(this.getValue());return 0>a?0:a},setReadOnly:function(a){this.setReadonly(a)},setReadonly:function(a){var b=this.options;b.readonly=a,this.$textarea.attr("readonly",a),a?b.el.addClass("textarea_garybg"):b.el.removeClass("textarea_garybg")},focus:function(){var a=this.options;return a.readonly||a.el.find("textarea").focus(),this},_changeHander:function(a){var b=this.options;return b.readonly?!1:(""!==this.getValue()?this.$textarea.removeClass("textarea_tipcolor"):""!==b.emptytext&&this.$empty.html(b.emptytext),this.$relation&&this.$relation.text(this._getRemainLength()),this._triggerHandler("change"),void this._customHandler("on_change",a))},_focusHandler:function(a){var b=this.options;return b.readonly?!1:(this._removeEmptyText(!0),this.$box.addClass("textarea_textareafocus"),this.onValid(),void this._customHandler("on_focus",a))},_blurHandler:function(a){var b=this.options;if(b.readonly)return!1;this._removeEmptyText(!1),this.$box.removeClass("textarea_textareafocus"),this._textCounter();var c=this.getValue();""!==c&&null!=c&&this._triggerHandler("change"),this._customHandler("on_blur",a)},_keyPressHandler:function(a){var b=this.options;return b.readonly?!1:void this._customHandler("on_keypress",a)},_keyupHandler:function(a){var b=this.options;return b.readonly?!1:void this._customHandler("on_keyup",a)},_keydownHandler:function(a){var b=this.options;return b.readonly?!1:void this._customHandler("on_keydown",a)},_customHandler:function(b,c){var d=this.options,e=d[b];"string"===a.type(e)?"function"==typeof window[e]&&window[e].call(this,c,this):"function"==typeof e&&e.call(this,c,this)},_removeEmptyText:function(a){var b=this.options.emptytext,c=this.getValue();""!==b&&0===c.length&&this.$empty.html(a?"":this.options.emptytext)},_textCounter:function(){var a=this.options;if(a.maxlength>-1){var b=this._getStringLength(this.getValue());b>a.maxlength&&(this.$textarea.val(this._interceptString(this.getValue(),a.maxlength)),this.autoheight&&this._autoHeight())}return!1},_getStringLength:function(a){var c=this.options;return c["byte"]?b.String.getBytesLength(a):a.length},_interceptString:function(a,c){var d=this.options;return d["byte"]?b.String.intercept(a,c):b.String.interceptString(a,c)},_autoHeight:function(){var a=this,c=a.$textarea;b.Browser.notIE&&(c.data("origin-height")||c.data("origin-height",c.outerHeight()),c.height(c.data("origin-height")));var d=a.options,e="hidden",f=c.get(0).scrollHeight;b.Browser.isIE&&c.get(0).scrollHeight!==f&&(f=c.get(0).scrollHeight),f=f<d.height-10?d.height-10:f,d.maxheight&&f>d.maxheight-10&&(f=d.maxheight-10,e="auto"),c.css({height:f,overflow:e})},onInValid:function(b,c){var d=this,e=d.options;d.$box.addClass("textarea_invalid"),null==e.tipTxt&&(e.tipTxt=e.el.attr("tip")||""),e.el.attr("tip",c),a(d.tipPosition,e.el).attr("tipType","error")},onValid:function(){var b=this,c=b.options,d=a(b.tipPosition,c.el).attr("tipID");if(b.$box.removeClass("textarea_invalid"),null==c.tipTxt&&(c.tipTxt=c.el.attr("tip")||""),void 0!==d){var e=cui.tipList[d];"undefined"!=typeof e&&e.hide()}c.el.attr("tip",c.tipTxt),a(b.tipPosition,c.el).attr("tipType","normal")}})}(window.comtop.cQuery,window.comtop),function(a){function b(c,d){c.length>0&&a.each(c,function(a,c){void 0===c.icon&&(c.icon=d),c.children&&b(c.children,d)})}comtop.UI.Tree=comtop.UI.Base.extend({options:{uitype:"Tree",children:null,checkbox:!1,select_mode:1,persist:!1,icon:"",checkbox_style:"",on_dbl_click:null,on_expand:null,on_select:null,on_click:null,on_activate:null,on_focus:null,on_blur:null,on_lazy_read:null,auto_focus:!1,keyboard:!1,click_folder_mode:3,min_expand_level:1,default_expand_level:1,theme:"cui",on_post_init:null,reactive:!0},dtree:null,_init:function(){var c=this,d=this.options;"false"!==d.icon&&""!==d.icon&&"cui"===d.theme?b(d.children,d.icon):"classic"===d.theme&&b(d.children,null),"string"==typeof d.checkbox_style&&""!==d.checkbox_style&&(d.classNames={checkbox:"dynatree-radio"}),"function"==typeof d.children&&(d.initDataFn=d.children,d.children=[]),a.each(this.options,function(b,e){var f=b.indexOf("_");if(f&&-1!==f){var g="";a.each(b.split("_"),function(a){g+=0===a?this:this.charAt(0).toUpperCase()+this.substring(1)});var h=e;"function"==typeof h?c._proxyEvent(h,d,g):d[g]=e}})},_proxyEvent:function(a,b,c){var d=this;b[c]=function(){var b=this;if(1===arguments.length)a.call(null,d._wrapNode(arguments[0]));else if(2===arguments.length)if("boolean"==typeof arguments[0])"boolean"==typeof arguments[1]?a.apply(b,arguments):a.call(null,arguments[0],d._wrapNode(arguments[1]));else{if("onClick"===c){var e=arguments[1].target||arguments[1].srcElement;if("span"===e.nodeName.toLowerCase()&&"dynatree-expander"===e.className)return}a.call(null,d._wrapNode(arguments[0]),arguments[1])}}},_create:function(){var b=this.options;a.isArray(b.children)?b.children.length&&(b.children[0]._firstNode=!0):b.children&&"object"==typeof b.children?(b.children._firstNode=!0,b.children=[b.children]):b.children=[],this.dtree=a(this.options.el).dynatree(this.options).dynatree("getTree"),b.el.addClass("tree_"+b.theme),b.initDataFn&&b.initDataFn(this,b)},getActiveNode:function(){return this._wrapNode(this.dtree.getActiveNode())},getNode:function(a){return this._wrapNode(this.dtree.getNodeByKey(a))},selectNode:function(a,b){return this.getNode(a).select(b)},enable:function(){return this.dtree.enable(),this},disable:function(){return this.dtree.disable(),this},setDatasource:function(b){return"object"==typeof b&&null!==b?(a.isArray(b)?b.length&&(b[0]._firstNode=!0):(b._firstNode=!0,b=[b]),this.options.children=b,this.getRoot().removeChildren().addChild(b),this):void 0},getDatasource:function(){var a=this.dtree.toDict();return a.children},getDataSource:function(){return this.getDatasource()},getSelectedNodes:function(b){var c=this,d=this.dtree.getSelectedNodes(b);return a.map(d,function(a){return c._wrapNode(a)})},getRoot:function(){return this._wrapNode(this.dtree.getRoot())
},bind:function(a,b){if("string"==typeof a&&"function"==typeof b){var a="on"+a.charAt(0).toUpperCase()+a.substring(1),c=this.dtree.options[a];"undefined"!=typeof c&&this._proxyEvent(b,this.dtree.options,a)}},unbind:function(b){if("string"==typeof b){var b="on"+b.charAt(0).toUpperCase()+b.substring(1),c=this.dtree.options[b];if("undefined"==typeof c)return;this.dtree.options[b]=null}else a.extend(this.dtree.options,{onClick:null,onDblClick:null,onKeydown:null,onKeypress:null,onFocus:null,onBlur:null,onQueryActivate:null,onQuerySelect:null,onQueryExpand:null,onPostInit:null,onActivate:null,onDeactivate:null,onSelect:null,onExpand:null,onCustomRender:null,onCreate:null,onRender:null})},_wrapNode:function(a){return a?new c(a):null}});var c=function(a){this.dNode=a};c.prototype={error:-1,loading:1,ok:0,activate:function(a){"undefined"==typeof a&&(a=!0),this.dNode.activate(a)},deactivate:function(){this.dNode.deactivate()},getData:function(a){return"string"==typeof a?this.dNode.data[a]:this.dNode.data},expand:function(a){return this.dNode.expand(a),this},remove:function(){this.dNode.remove()},removeChildren:function(){return this.dNode.removeChildren(),this},select:function(a){return this.dNode.select(a),this},toggleSelect:function(){return this.dNode.toggleSelect(),this},addChild:function(a,b){var c=this.dNode.addChild(a,b&&b.dNode);return this._wrapNode(c)},setTitle:function(a){return this.dNode.setTitle(a)},setStyle:function(b){return a(this.dNode.span).find("a").attr("style",b),this.dNode.data._customStyle=b,this},removeStyle:function(){return a(this.dNode.span).find("a").removeAttr("style"),this.dNode.data._customStyle=null,this},prev:function(){var a=this.dNode.getPrevSibling();return a&&this._wrapNode(a)},next:function(){var a=this.dNode.getNextSibling();return a&&this._wrapNode(a)},firstChild:function(){var a=this.children();return null==a||void 0==a?a:a.length>0?a[0]:null},lastChild:function(){var a=this.children();return null==a||void 0==a?a:a.length>0?a[a.length-1]:null},children:function(){var b=this,c=this.dNode.getChildren();return null==c||void 0==c?c:a.map(c,function(a){return b._wrapNode(a)})},parent:function(){var a=this.dNode.getParent();return a&&this._wrapNode(a)},setData:function(a){if(1===arguments.length)for(var b in a)this.dNode.data[b]=a[b];else{var c=arguments[0],d=arguments[1];this.dNode.data[c]=d}return this.dNode.render(),this},focus:function(){return this.dNode.focus(),this},hasChild:function(){return this.dNode.hasChildren()},isChildOf:function(a){return this.dNode.isChildOf(a.dNode)},isDescendantOf:function(a){return this.dNode.isDescendantOf(a.dNode)},setLazyNodeStatus:function(){this.dNode.setLazyNodeStatus.apply(this.dNode,arguments)},getEventTargetType:function(a){return this.dNode.getEventTargetType(a)},move:function(a,b){a.dNode&&this.dNode.move(a.dNode,b)},disable:function(){return this.dNode.disable(),this},enable:function(){return this.dNode.enable(),this},_wrapNode:function(a){return a?new c(a):null}},comtop.UI.Tree.Node=c}(window.comtop.cQuery,window.comtop),function(a){"use strict";var b=a.cQuery,c=a.Tools.fixedNumber||function(a){return a},d=function(a){if("string"==typeof a){var b=a.replace("<script","&#60;script").replace("</script","&#60;&#47;script");return b.replace("<!--","&#60;&#33;--").replace("-->","--&#62;")}return a};a.UI.Grid=a.UI.Base.extend({options:{uitype:"Grid",gridwidth:"600px",gridheight:"500px",tablewidth:"",primarykey:"ID",ellipsis:!0,titleellipsis:!0,adaptive:!0,titlelock:!0,oddevenrow:!1,selectrows:"multi",fixcolumnnumber:0,config:null,datasource:null,titlerender:null,colhidden:!0,colmaxheight:0,colmove:!1,loadtip:!0,resizeheight:null,resizewidth:null,rowstylerender:null,colstylerender:null,colrender:null,lazy:!0,sortstyle:1,sortname:[],sorttype:[],pageno:1,pagesize:50,pagesize_list:[25,50,100],custom_pagesize:!1,pagination:!0,pagination_model:"pagination_min_1",adddata_callback:null,removedata_callback:null,rowclick_callback:null,loadcomplate_callback:null,selectall_callback:null,rowdblclick_callback:null,onstatuschange:null},formatFn:{date:a.Date.simpleformat,money:a.Number.money},renderMethod:{a:function(a,b,c){var d=["<a"],e=b.params,f="";if(e){e=e.split(";");for(var g=[],h=e.length;h--;){var i=e[h];a.hasOwnProperty(i)&&g.push([i,"=",a[i]].join(""))}f="?"+g.join("&")}return d.push(" href='",(b.url||"")+f,"' class='",b.className||"","' target='",b.targets||"_self","' clickid='",b.click,"'>",c,"</a>"),d.join("")},image:function(a,b,c){var d=["<img"];d.push(" class='",b.className||"");var e=b.url,f=b.compare,g=b.relation,h=b.title,i=c;if("string"==typeof g)if(/\./.test(g)){var j=g.split(".");i=a[j[0]][j[1]]}else i=a[g];return h=h&&h[i]?h[i]:c,f&&(e=f[i]||e),d.push("' src='",e,"' title='",h,"' clickid='",b.click,"' />"),d.join("")},button:function(a,b,c){var d=["<button class='"];return d.push(b.className||"","' clickid='",b.click,"'>",b.value||c,"</button>"),d.join("")}},_init:function(){var c=this.options,d=c.config,e=c.onstatuschange,f=c.datasource,g=c.sortstyle;c.sortname.length=Math.min(c.sortname.length,g),c.sorttype.length=Math.min(c.sorttype.length,g),"string"==typeof d&&"function"==typeof window[d]&&(c.config=window[d]),"string"==typeof e&&"function"==typeof window[e]&&(c.onstatuschange=window[e]),"string"==typeof f&&"function"==typeof window[f]&&(c.datasource=window[f]),this.el=c.el,this.elCache=null,this.gridContainer=null,this.gridBox=null,this.gridStyle=null,this.gridHead=null,this.gridHeadTable=null,this.gridTableHide=null,this.gridBody=null,this.gridTableBox=null,this.gridTbody=null,this.gridScroll=null,this.gridLine=null,this.gridEmpty=null,this.gridTfoot=null,this.loading=null,this.gridOverlay=null,this.gridAllCheck=null,this.createDomBox=document.createElement("div"),this.domTh=[],this.domTr=[],this.domTd=[],this.domFixed=[],this.domHeadCol=[],this.domBodyCol=[],this.theadMap=[],this.extendTh=[],this.trFrag=document.createElement("tbody"),this.data=[],this.backupQuery=null,this.query=null,this.customQuery=null,this.rowSize=0,this.colSize=0,this.sortType={},this.theadText=[],this.renderStyle=[],this.colRender=[],this.bindName=[],this.bindDotName=[],this.numCol=0/0,this.colWidth=[],this.initColWidth=[],this.colWidthBackup=[],this.multiChecked=[],this.multiCheckedNum=0,this.singleChecked=0/0,this.disabledIndex=[],this.fixedFnClick=[],this.colHidden=[],this.disabled=[],this.totalSize=0,this.guid="grid-"+a.guid(),this.heightLight=[],this.colIndex=[],this.gridWidth=0,this.gridHeight=0,this.tableWidth=0,this.theadHeight=30,this.boxHeight=0,this.paginationHeight=c.pagination?41:0,this.selectrowsClass="",this.tdsPackage=[],this.endRow=0,this.trStart=0,this.trEnd=0,this.renderComplete=!1,this.odd=!1,this.unRender=!0,this.autoHeight=!1,this.isIttab=!1,this.arrIndex=Array.prototype.indexOf,this.isQm=a.Browser.isQM,this.persistence="function"==typeof e&&"function"==typeof d,this.oddEvenClass="cardinal_row",this.selectedRowClass="selected_row";try{var h=b("head");h.append('<style type="text/css"></style>'),h.find("style").last()[0].innerHTML="",this.writeStyle=!0}catch(i){this.writeStyle=!1}this._backupQuery(),this._setPageSize(),this._setSortTypeObj(),this.__getDomTh(),this.__initWidthAndHeight()},_backupQuery:function(){var a=this.options,c={pageSize:a.pagesize,pageNo:a.pageno,custom_pagesize:a.custom_pagesize,sortName:b.extend([],a.sortname),sortType:b.extend([],a.sorttype)};this.backupQuery=b.extend(!0,{},c),this.query=c},_setPageSize:function(){for(var a=this.options,b=this.query,c=a.pagesize_list,d=b.pageSize,e=c.length;e--;)if(d===c[e])return;b.pageSize=c[1]},_setSortTypeObj:function(){for(var a=this.query,b=a.sortName,c=a.sortType,d=b.length,e=this.sortType={},f=0;d>f;f+=1){var g=c[f].toUpperCase();c[f]=g,e[b[f]]=g}},__getDomTh:function(){var a,c,d,e=this.el,f=this.colIndex,g=this.extendTh;if(a=b(document.createElement("div")).html(["<table><thead>",e.find("thead").html()||e.find("tbody").html()||e.html(),"</thead></table>"].join("")).find("table").eq(0),this.elCache=a,c=a.find("tr"),d=c.length,1===d){for(var h=a[0].getElementsByTagName("th"),i=[],j=0,k=h.length;k>j;j+=1)i.push(h[j]),f[j]=j;this.domTh=i}else{var l,m,n,o,p=this.theadMap=[];for(l=0;d>l;l+=1){var q=c.eq(l)[0],r=q.cells,s=r.length,t=0;for(g[l]=[],p[l]||(p[l]=[]),m=0;s>m;m+=1){var u=r[m],v=u.colSpan;for(n=0;v>n;n+=1)p[l][t+n]=u;t+=v}var w=document.createElement("th");w.className="grid-empty-th",q.insertBefore(w,r[0])}for(l=d;l--;){var x=p[l],y=x.length;for(m=0;y>m;m+=1){var z=x[m],A=z.rowSpan;if(A>1&&!g[l][m])for(A+=l,n=l+1;A>n;n+=1)o=p[n],o&&(g[n][m]=!0,o.splice(m,0,z))}}this.domTh=b.extend([],p[d-1])}this.colSize=this.domTh.length},__initWidthAndHeight:function(){var a=this.options,b="function"==typeof a.resizewidth?a.resizewidth():void 0,d="function"==typeof a.resizeheight?a.resizeheight():void 0,e=a.gridwidth=c(a.gridwidth),f=a.gridheight=c(a.gridheight);this.gridWidth=(b||e)-2,"auto"===f&&(f=500,this.autoHeight=!0),this.gridHeight=(d||f)-2,this.theadHeight=30*this.elCache.find("tr").length,this.boxHeight=this.gridHeight-this.paginationHeight-this.theadHeight,this.tableWidth=a.adaptive?this.gridWidth-17:c(a.tablewidth)||this.gridWidth},_create:function(){this.__createLayoutDom(),this.__theadClickEventBind(),this.__theadMouseEventBind(),this.__tbodyClickEventBind(),this.__tbodyMouseEventBind(),this.__imitateScroll(),this._resizeEventBind(),this.__boxScrollEventBind(),this._setStyleWidth(),this._setStyleHeight(),this._loading("show");var a=this.options,b=a.datasource,c=a.config;"function"==typeof b&&(this.persistence?c(this):(this._createPropertys(),this._createContent(),b(this,this.getQuery())))},__createLayoutDom:function(){var a=this.options,c=this.el,d=document.createElement("div");d.className="grid-container";var e=['<div class="grid-style"></div>','<div class="grid-box">','<div class="grid-head">','<table class="grid-head-table"></table>',"</div>",'<div class="grid-body">','<div class="grid-empty">\u672c\u5217\u8868\u6682\u65e0\u8bb0\u5f55</div>','<div class="grid-table-box"><div class="grid-table-hide"></div></div>',"</div>",'<div class="grid-scroll">',"<div></div>","</div>",'<div class="grid-line"></div>','<div class="grid-overlay"></div>',"</div>",'<div class="grid-tfoot"></div>','<div class="grid-loading-bg grid-loading-bg-over"></div>','<div class="grid-loading-box"><span>\u6b63\u5728\u52a0\u8f7d...</span></div>'];d.innerHTML=e.join(""),c[0].parentNode.insertBefore(d,c[0]);var f=this.gridContainer=b(d).addClass(this.guid);this.isQm&&f.addClass("grid-container-qm"),this.gridTableBox=b(".grid-table-box",f);var g=this.gridBox=f.children(".grid-box");this.gridStyle=f.find(".grid-style").eq(0),this.gridHead=g.find(".grid-head").eq(0),this.gridBody=g.children(".grid-body").eq(0),this.gridOverlay=g.children(".grid-overlay").eq(0),this.gridHeadTable=this.gridHead.children(".grid-head-table").eq(0),this.gridLine=g.children(".grid-line").eq(0),this.gridScroll=g.children(".grid-scroll").eq(0),this.gridTfoot=f.children(".grid-tfoot").eq(0),this.gridEmpty=this.gridBody.children(".grid-empty").eq(0),this.loading=f.children(".grid-loading-bg").next().andSelf(),this.gridTableHide=b(".grid-table-hide",f).eq(0).append(c.addClass("grid-body-table")),a.ellipsis&&c.addClass("grid-ellipsis"),a.titleellipsis&&this.gridHeadTable.addClass("grid-ellipsis")},__theadClickEventBind:function(){var a=this.options,c=this.bindName,d=a.primarykey,e=this;this.gridHeadTable.on("click",function(f){f.stopPropagation();var g=b(f.target),h=g.attr("class");if("grid-select"!==h&&"grid-ittab"!==h)if(g.hasClass("grid-all-checkbox")){var i,j=e.domTr,k=e.multiChecked,l=e.selectedRowClass,m="grid-all-checkbox-checked",n=e.endRow,o=e.rowSize,p=g.hasClass(m),q=e.disabledIndex,r=e.data,s=0;if(p){for(var t=n;t--;)k[t]=!1,b(j[t]).removeClass(l);g.removeClass(m);for(var u=n;o>u;u+=1)k[u]=!1;e.multiCheckedNum=0}else{for(var v=n;v--;)i=r[v],i.hasOwnProperty(d)&&q[v]||(s++,k[v]=!0,b(j[v]).addClass(l));for(g.addClass(m),v=n;o>v;v+=1)i=r[v],i.hasOwnProperty(d)&&q[v]||(s++,k[v]=!0);e.multiCheckedNum=s}var w=a.selectall_callback;if("function"==typeof w){var x=!p;w.call(e,x?e.data:[],x)}}else{var y=g.parents(".grid-sort");if(y.length&&"grid-thead-text"===h){var z=e.sortType,A=c[e._thIndex(y[0])],B=z[A],C="DESC"!==B?"DESC":"ASC";e._setOptsSortNameAndSoryType(A,C),e.persistence&&e._triggerStatusChange(),e.loadData()}}})},_thIndex:function(a){var b=this.domTh,c=this.arrIndex;if(c)return c.call(b,a);for(var d=this.colSize;d--;)if(b[d]===a)return d;return-1},_setOptsSortNameAndSoryType:function(a,b){for(var c=this.query,d=this.options.sortstyle,e=c.sortName,f=c.sortType,g=d;g--;)if(a===e[g]){f.splice(g,1),e.splice(g,1);break}e.length===d&&(f.shift(),e.shift()),e.push(a),f.push(b),this._setSortTypeObj()},__theadMouseEventBind:function(){this.gridHeadTable.on("mouseover",function(a){var c=b(a.target),d=c.closest(".grid-fixed-s").eq(0);d.length&&d.parents("th").addClass("grid-thead-mouseover")}).on("mouseout",function(a){var c=b(a.target),d=c.closest(".grid-fixed-s").eq(0);d.length&&d.parents("th").removeClass("grid-thead-mouseover")})},__tbodyClickEventBind:function(){function a(a){return"TD"===a.prop("tagName")||a.hasClass("grid-fixed-s")}function c(a){var b=!1;"multi"===g?b=h.multiChecked[a]:"single"===g&&(b=a===h.singleChecked),"function"==typeof e.rowclick_callback&&e.rowclick_callback.call(h,h.data[a],b,a)}var d,e=this.options,f="function"==typeof e.rowdblclick_callback?e.rowdblclick_callback:null,g=e.selectrows,h=this,i=null,j=null;h.el.on("click",function(e){if(e.stopPropagation(),j=e.target,d=j.tagName,"TBODY"===d||"TABLE"===d)return!1;var g=b(j),k=g.closest("tr").eq(0),l=k.attr("index")||k[0].rowIndex-1+h.trStart,m=j.getAttribute("clickid")||"";return""!==m?h.fixedFnClick[m](h.data[l],l)===!1?!1:!0:void((a(g)||("SPAN"===d||"DIV"===d)&&a(g.parent()))&&(h._selectRows(l,void 0),f?(clearTimeout(i),i=setTimeout(function(){c(l)},300)):c(l)))}),h.el.on("dblclick",function(a){if(a.stopPropagation(),f){if(clearTimeout(i),j=a.target,d=j.tagName,"TBODY"===d||"TABLE"===d)return;var c=b(j).closest("tr").eq(0),e=c.attr("index")-0;f.call(h,h.data[e],e)}})},_selectRows:function(a,c){var d=this.domTr,e=d[a],f=this.options,g=f.selectrows,h=this.selectedRowClass,i=b(e);if(!this.disabledIndex[a])if("multi"===g){var j=this.multiChecked,k=j[a];if(void 0===c)c=k!==!0;else if(c===k)return;if(j[a]=c,!e)return;c===!1?(i.removeClass(h),this.multiCheckedNum--,this.gridAllCheck.removeClass("grid-all-checkbox-checked")):(i.addClass(h),this.multiCheckedNum+=1,this.multiCheckedNum===this.rowSize&&this.gridAllCheck.addClass("grid-all-checkbox-checked"))}else if("single"===g){var l=this.singleChecked;if(this.singleChecked=l===a&&c===!1?0/0:a,!e)return;c===!1?i.removeClass(h):(isNaN(l)||b(d[l]).removeClass(h),i.addClass(h))}},__tbodyMouseEventBind:function(){var a,c,d=this,e=this.bindName,f=this.options.titlerender;d.el.on("mouseover",function(g){var h=g.target,i=h.tagName;if("TR"!==i&&"TBODY"!==i&&"TABLE"!==i){var j=b(h).closest("td");if(j.length){var k,l=j[0].cellIndex,m=j.find(".grid-fixed-s"),n=m.length?m:j,o=e[l];a=j.closest("tr"),k=a.attr("index"),k||(k=a[0].rowIndex-1+d.trStart,a.attr("index",k)),a.addClass("grid-tr-over"),"number"==typeof o||j.attr("title")||("function"==typeof f?(c=f(d.data[k],o),c?j.attr("title",c):(c=b.trim(n.text()),c&&j.attr("title",c))):(c=b.trim(n.text()),c&&j.attr("title",c)))}}}).on("mouseout",function(){a&&a.removeClass("grid-tr-over")})},__imitateScroll:function(){var a,b,c=this,d=c.guid,e=this.gridHeadTable[0],f=this.gridStyle[0],g=this.el[0],h=this.options.fixcolumnnumber;this.writeStyle?this.gridScroll.on("scroll",function(){a=this.scrollLeft,b!==a&&(b=a,f.innerHTML=['<style type="text/css">.',d," .grid-fixed .grid-fixed-s{left:",a,"px}.",d," .grid-body-table, .",d," .grid-head-table{margin-left:-",a,"px}</style>"].join(""))}):this.gridScroll.on("scroll",function(){if(a=this.scrollLeft+"px",b!==a){b=a;var d="-"+a;e.style.marginLeft=d,g.style.marginLeft=d;for(var f=c.domFixed,i=f.length;i--;)for(var j=f[i],k=h;k--;)j[k].style.left=a;for(var l=c.tdsPackage,m=0;h>m;m+=1)l[m].html=l[m].html.replace(/(style="left:)\d*?px/,"$1"+a)}})},_resizeEventBind:function(){var a=this.options,c=this;(a.resizeheight||a.resizewidth)&&b(window).on("resize",function(){c.resize()})},resize:function(){var a=this.options;try{var b=a.resizeheight();"number"==typeof b&&b>0&&!this.autoHeight&&this.setHeight(b)}catch(c){}try{var d=a.resizewidth();"number"==typeof d&&d>0&&this.setWidth(d)}catch(c){}this.autoHeight&&this._setAutoHeight()},__boxScrollEventBind:function(){var a=this;this.options.lazy&&!this.autoHeight&&this.gridBody.on("scroll",function(){a._lazyload(!0)})},_lazyload:function(a){var b=this,c=this.options,d=this.gridBody[0].scrollTop,e=b.endRow,f=parseInt(d/28,10),g=parseInt(this.boxHeight/28,10)+f+20+1;c.ellipsis?(clearTimeout(this.renderTimeout),a?this.renderTimeout=setTimeout(function(){b._clearAndLoad(f-20,e,g)},10):b._clearAndLoad(f-20,e,g)):!this.renderComplete&&this.appendRowsComplete&&g>e&&(clearTimeout(this.renderTimeout),a?this.renderTimeout=setTimeout(function(){b.appendRowsComplete=!1,b._appendRows(e,g)},10):(b.appendRowsComplete=!1,b._appendRows(e,g)))},_clearAndLoad:function(a,b,c){var d,e=this.rowSize,f=this.gridTbody[0],g=this.gridTableBox[0].style,h=this.trFrag,i=this.trStart,j=this.trEnd;c=this.trEnd=Math.min(e,c),a=this.trStart=Math.max(a,0);var k,l,m,n;if(c>b){var o=this._dataToDom(this.data,b,c),p=o.domTr;for(this.domTr=this.domTr.concat(p),this.domTd=this.domTd.concat(o.domTd),this.domFixed=this.domFixed.concat(o.domFixed),this.endRow=c,n=p.length;n--;)h.appendChild(p[n])}if(d=this.domTr,a>i||c>j){for(k=i,l=Math.min(j,a);l>k;k++)h.appendChild(d[k]);for(m=Math.max(a,j);c>m;m++)f.appendChild(d[m])}else if(i>a){var q=d[i];for(k=a,l=Math.min(i,c);l>k;k++)f.insertBefore(d[k],q);for(m=Math.max(i,c);j>m;m++)h.appendChild(d[m])}g.paddingTop=28*a+"px",g.paddingBottom=28*(e-c)+"px"},_setStyleWidth:function(){this.gridContainer.css("width",this.gridWidth),this.el.css("width",this.tableWidth),this.gridHeadTable.css("width",this.tableWidth)},_setStyleHeight:function(){this.gridContainer.css("height",this.gridHeight),this.gridHead.css("height",this.theadHeight),this.gridOverlay.css("height",this.theadHeight),this.gridBody.css("height",this.boxHeight)},_loading:function(a){this.options.loadtip&&(this.loading[a](),this.unRender&&"hide"===a&&this.gridContainer.find(".grid-loading-bg").removeClass("grid-loading-bg-over"))},_createPropertys:function(){this.__getTagsPropertys(),this.__initColWidth()},_createContent:function(){this.__renderHead(),this.__renderBody(),this._setColWidthStyle(),this.__packageTds(),this._colHidden(!0),this.ittab._init(this);var a=this.options;a.colhidden&&this.hideCol._init(this),a.colmove&&0===this.theadMap.length&&this.moveCol._init(this)},__getTagsPropertys:function(){for(var a=this.domTh,c=this.options,d=this.colSize,e=this.renderStyle,f=this.bindName,g=this.bindDotName,h=this.sort=[],i=this.theadText,j=this.colWidth,k=this.colRender,l=this.fixedFnClick,m=this.colHidden,n=this.disabled,o=0;d>o;o+=1){var p=a[o];j.push(p.style.width||p.getAttribute("width")||""),m[o]="true"===p.getAttribute("hide")||"none"===b(p).css("display"),n[o]=p.getAttribute("disabled"),p.removeAttribute("disabled");var q=p.getAttribute("renderStyle")||"",r=q.replace(/padding.+?(;|$)/,"").replace(/display\s*?:\s*?none\s*?(;|$)/,"")+";";e.push(r);var s=p.getAttribute("bindName")||"";f[o]=s,g[o]=/\./.test(s)?s.split("."):void 0,isNaN(this.numCol)&&s.length&&!isNaN(s-0)&&(this.numCol=o,f[o]=s-0,s=""),h[o]=""===s?!1:"true"===p.getAttribute("sort")||!1,i.push(p.innerHTML);var t=p.getAttribute("format"),u=c.colrender,v=p.getAttribute("render");if(k[o]=[],null!==t&&(/money/.test(t)?k[o][1]={format:Number(t.split("-")[1]||2),callback:this.formatFn.money}:/(dd|MM|yy)/i.test(t)&&(k[o][1]={format:t,callback:this.formatFn.date})),"function"==typeof u&&(k[o][0]={render:"colrenderFn",callback:u}),"string"==typeof v)if(new RegExp(v).test("a;button;image")){var w=p.getAttribute("options");if(null!==w)if(/{/.test(w))try{w=JSON.parse(w)}catch(x){w=new Function("return "+w+";")()}finally{"object"!=typeof w&&(w=void 0)}else w=window[w];if(w){var y=w.click;y="string"==typeof y?window[y]:y,w.click="function"==typeof y?l.push(y)-1:"",k[o][0]={render:"fiexdFn",method:v,options:w}}}else{var z=window[v];if(z){var A={format:t||void 0,render:z,renderStyle:q,text:i[o]};k[o][0]={render:"renderFn",colJson:A,callback:z}}}}var B=c.selectrows;("multi"===B||"single"===B)&&(f[0]=-1)},__initColWidth:function(){for(var a=this.gridWidth,c=this.tableWidth||a,d=this.colWidth,e=this.colWidthBackup,f=0,g=0,h=this.colSize,i=[],j=this.colSize;j--;){var k=d[j];e[j]=-1,""===k?(k=0,d[j]=200,i.push(j)):/%/.test(k)?(k=Math.round(c*parseInt(k,10)/100),d[j]=k):(k=parseInt(k,10),d[j]=k),f+=d[j],g+=k}var l=i.length,m=c-g;if(l>0&&m>l){for(var n=Math.round(m/l),o=0;l>o;o++)d[i[o]]=n;d[i[o-1]]+=m-n*l,this.tableWidth=c}else if(isNaN(this.tableWidth)&&f>=a)this.tableWidth=f;else{this.tableWidth||(this.tableWidth=a);for(var p=[],q=0,r=0,s=h;s--;){var t=Math.round(d[s]*c/f);q+=t,p[s]=t,r=s}p[r]+=c-q,this.colWidth=p}this.initColWidth=b.extend([],this.colWidth)},__renderHead:function(){var a=this.options,c=this.domTh,d=this.theadMap,e=this.theadMap.length,f=this.domHeadCol,g=this.domFixed[0]=[],h=this.theadText,i=this.colSize,j=a.fixcolumnnumber,k=this.options.colhidden,l=this.sort,m=document.createElement("tr"),n=a.titleellipsis;if(m.className="grid-width-norm",e){var o=document.createElement("th");o.className="grid-empty-th",m.appendChild(o);for(var p=e-1;p--;)for(var q=d[p],r=q.length;r--;){var s=q[r];s.removeAttribute("width"),s.style.width=""}}for(var t=0;i>t;t+=1){var u=f[t]=document.createElement("th");m.appendChild(u);var v=c[t];j>t&&b(v).addClass("grid-fixed"),l[t]&&b(v).addClass("grid-sort"),v.removeAttribute("width"),v.style.width="";var w=h[t],x=['<div class="grid-fixed-d">','<span class="grid-fixed-s">'];l[t]&&x.push('<b class="grid-sort-icon-desc cui-icon">&#xf0d7;</b><b class="grid-sort-icon-asc cui-icon">&#xf0d8;</b>'),x.push('<a class="grid-thead-text'),n&&x.push('" title="',b.trim(w.replace(/<.*?>/g,""))),x.push('">',w,"</a>"),k&&x.push('<a class="grid-select cui-icon">&#xf0b0;</a>'),x.push('<em class="grid-ittab"></em>'),x.push("</span>"),j>t&&!n&&x.push(w),x.push("</div>"),v.innerHTML=x.join("")}this.gridHeadTable.html(this.elCache.find("thead").eq(0).prepend(m)),this.elCache.parent().remove(),delete this.elCache;for(var y=0;j>y;y+=1)c[y].getElementsByTagName("div")[0].style.zIndex=j+1-y,g.push(c[y].getElementsByTagName("span")[0]);var z=b(c[0]);if("multi"===a.selectrows){z.find(".grid-select").eq(0).remove(),z.find(".grid-fixed-s").addClass("grid-no-move");var A=b(c[0]).find(".grid-thead-text").addClass("grid-all-checkbox");A.html(A.text()+"<b></b>"),this.gridAllCheck=A}"single"===a.selectrows&&(z.find(".grid-select").eq(0).remove(),z.find(".grid-fixed-s").addClass("grid-no-move"))},__renderBody:function(){var a=this.el,b=this.colSize,c=this.domBodyCol,d=document.createElement("tr");d.className="grid-width-norm";for(var e=0;b>e;e+=1){var f=c[e]=document.createElement("th");d.appendChild(f)}a.html("<thead></thead><tbody></tbody>"),a.find("thead").append(d),this.gridTbody=a.find("tbody").eq(0)},__packageTds:function(){var a=this.options,b=a.fixcolumnnumber,c=this.renderStyle,d=a.selectrows,e=this.selectrowsClass={no:"",multi:"grid-checkbox",single:"grid-radio"}[d],f=this.colSize,g="";this.writeStyle||(g="left:0px;");var h=[],i=0;if(""!==e){i+=1;var j=h[0]={};b>0?(j.html=['<div class="grid-fixed-d" style="z-index:',b+1,';"><span class="grid-fixed-s ',e,'" style="',g,c[0],'/**/">',"</span></div>"].join(""),j.style=""):(j.style=c[0],j.className=e)}for(var k=i;f>k;k+=1){var l=h[k]={};b>k?(l.html=['<div class="grid-fixed-d" style="z-index:',b+1-k,';"><span class="grid-fixed-s" style="',g,c[k],'/**/"><!---->',"</div>"].join(""),l.style=""):l.style=c[k]}this.tdsPackage=h},_setColWidth:function(a){for(var b=this.initColWidth,c=this.colHidden,d=this.tableWidth,e=this.colSize,f=0,g=e;g--;)c[g]===!1&&(f+=b[g]);for(var h=[],i=0,j=0,k=e;k--;)if(c[k]===!1){var l=Math.round(b[k]*d/f);i+=l,h[k]=l,j=k}else h[k]=0;h[j]+=d-i,this.colWidth=h,this._setColWidthStyle(),a&&this._isScrolling(!0)},_setColWidthStyle:function(a){var b,c=this.colWidth,d=this.domHeadCol,e=this.domBodyCol,f=this.colSize,g="";if("number"==typeof a)b=c[a]-1+"px",d[a].style.width=b,e[a].style.width=b;else for(;f--;)g=0===c[f]?0:c[f]-1+"px",d[f].style.width=g,e[f].style.width=g},_colHidden:function(a){for(var b=this.endRow,c=this.domTh,d=this.domTd,e=this.tdsPackage,f=this.domHeadCol,g=this.domBodyCol,h=this.colHidden,i=this.colWidth,j=this.colWidthBackup,k=this.tableWidth,l=this.theadMap,m=this.extendTh,n=null,o=null,p=this.colSize;p--;)if(h[p]===!0){if(-1===j[p]||a){if(f[p].style.display="none",o=c[p],l.length)for(var q=l.length;q--;)m[q][p]||(n=l[q][p],n.colSpan>1?n.colSpan--:n.style.display="none");else o.style.display="none";for(var r=b;r--;)d[r][p].style.display="none";g[p].style.display="none",e[p].style+="display:none;",j[p]=i[p],k-=i[p],i[p]=0}}else if(-1!==j[p]){if(f[p].style.display="",o=c[p],l.length)for(var s=l.length;s--;)m[s][p]||(n=l[s][p],"none"===n.style.display?n.style.display="":n.colSpan+=1);else o.style.display="";for(var t=b;t--;)d[t][p].style.display="";g[p].style.display="",e[p].style=e[p].style.replace(/display.*?($|;)/g,""),i[p]=j[p],k+=j[p],j[p]=-1}this.options.adaptive?this.isIttab=!1:this.tableWidth=k,this._setLayout(),this.persistence&&!a&&this._triggerStatusChange()},_triggerStatusChange:function(){var a,b,c,d=this.options,e=this.query,f=this.colWidth,g=this.colWidthBackup,h=this.colHidden,i=this.colIndex,j=!d.adaptive,k=0===this.theadMap.length&&d.colmove,l=0,m=[];for(b=this.colSize;b--;)h[b]?(f[b]=g[b],m[b]=1):m[b]=0,l+=f[b];c={hide:h,sortName:e.sortName,sortType:e.sortType,overall:l},window.JSON&&JSON.stringify?(k&&(c.index=i),j&&(c.width=f),a=JSON.stringify(c)):a=["{",k?['"index":[',i.join(","),"],"].join(""):"",j?['"width":[',f.join(","),"],"].join(""):"",'"hide":[',m.join(","),"],",'"sortName":["',e.sortName.join('","'),'"],','"sortType":["',e.sortType.join('","'),'"],','"overall":',l,"}"].join(""),this.options.onstatuschange(a)},_isScrolling:function(a){var b=this.el,c=this.gridWidth+2,d=this.tableWidth,e=this.boxHeight,f=b.height(),g=this.gridScroll;this.options.adaptive&&!this.isIttab?(f>e?d=this.tableWidth=c-17:(this.tableWidth=c,d=c+1),b.css("width",d),this.gridHeadTable.css("width",d),g.css("left","-999999px"),a||(this._setColWidth(!0),this._setLayout(!0))):(f>e&&c>=d+17&&(this.gridTableHide.css("marginBottom",0),g.css({left:"-999999px",width:c-17})),d>c&&e>=f+17&&(g.css({width:c,left:0,bottom:""}),g.css("bottom",0),this.gridTableHide.css("marginBottom",17)),(d+17>c&&f>e||d>c&&f+17>e)&&(g.css({width:c-17,left:0,bottom:""}),g.css("bottom",0),this.gridTableHide.css("marginBottom",17),this.autoHeight&&(this.gridBody.css("height",this.boxHeight+17),this.gridContainer.css("height",this.gridHeight+17),g.css({width:c}))),e>=f&&c>=d&&(this.gridTableHide.css("marginBottom",0),g.css({left:"-999999px",width:c}))),g.find("div").eq(0).css("width",d),clearTimeout(this.sc),this.sc=setTimeout(function(){g.scroll()},10)},_setAutoHeight:function(){var a,b;if(this.autoHeight){a=this.gridTableBox,b=28;var c,d=parseInt(a.css("marginBottom"),10)||1;c=0===this.rowSize?50:a.height()||this.rowSize*b,this._setHeight(c+d+this.theadHeight+(this.options.pagination&&this.rowSize?41:0)+2)}},_setLayout:function(a){this._setStyleWidth(),(this.options.fixcolumnnumber||!this.options.titleellipsis)&&this._setTheadHeight(),this.autoHeight&&this._setAutoHeight(),this._setStyleHeight(),a||this._isScrolling()},_setTheadHeight:function(){this.gridHead.css("height","auto");var a=this.theadHeight=this.gridHead.height(),c=this.domFixed[0],d=this.isQm;this.boxHeight=this.gridHeight-this.paginationHeight-a-1,this.gridOverlay.css("height",a);for(var e=c.length;e--;){var f=c[e],g=b(f).parent(),h=parseInt(g.parent().height(),10),i=parseInt((h-(g.height()||21))/2,10);i=0>i?0:i,f.style.paddingTop=i+"px",f.style.height=h-(d?0:i+1)+"px"}},setConfig:function(a){this.persistence&&this.unRender&&this._setPersistence(a),this.options.datasource(this,this.getQuery())},setDatasource:function(a,c,d){this.persistence&&this.unRender&&"string"==typeof d&&this._setPersistence(d),a=a||[],c=c||0,this.rowSize=a.length,this.data=b.extend(!0,[],a),this.options.pagination&&(this.totalSize=c,this.unRender?this.__createPagination():this._changepages()),this._isEmpty(),this._initProperty(),this._renderTbody(0/0,0/0),this._loading("hide"),this._loadComplateCallBack(),this.__setSortStyle(),this.autoHeight&&"function"==typeof this.options.resizewidth?(this.resize(),this._setLayout()):this._setLayout(),delete this.unRender},_setPersistence:function(a){var c,d,e,f,g,h,i,j=this.options,k=this.colSize;if("string"==typeof a){try{c=b.parseJSON(a)}catch(l){}if(c){if(c.overall&&(this.tableWidth=c.overall,this.gridHeadTable.css("width",this.tableWidth)),d=c.index,0===this.theadMap.length&&j.colmove&&"object"==typeof d&&k===d.length&&(this.colIndex=d,this._sortPropertys(d)),this._createPropertys(),e=c.sortName,f=c.sortType,"array"===b.type(e)&&"array"===b.type(f)&&this.setQuery({sortName:e,sortType:f}),g=c.hide,"object"==typeof g&&k===g.length){for(i=0;k>i;i++)g[i]=!!g[i];this.colHidden=g}h=c.width,j.adaptive||"object"!=typeof h||k!==h.length||(this.colWidth=h)}else this._createPropertys()}else this._createPropertys();this._createContent()},_sortPropertys:function(a){var b,c,d,e,f=this.colSize;for(c=this.domTh,d=[],b=c[0].parentNode,e=0;f>e;e++)d[e]=c[a[e]],b.appendChild(d[e]);this.domTh=d},_isEmpty:function(){var a=this.options,b=this.rowSize;if(0===b){this.gridEmpty.show(),this.gridTfoot.hide(),this.paginationHeight=0;var c=this;this.gridTableBoxTimer=setTimeout(function(){c.gridTableBox.hide()},10)}else this.gridEmpty.hide(),this.gridTableBox.show(),clearTimeout(this.gridTableBoxTimer),a.pagination&&(this.gridTfoot.show(),this.paginationHeight=41);this.boxHeight=this.gridHeight-this.paginationHeight-this.theadHeight},_initProperty:function(){var a,c=this,d=this.domTr.length>0;setTimeout(function(){c.gridBody[0].scrollTop=0},1),this.gridTableBox.removeAttr("style"),this.domTr=[],this.domTd=[],this.domFixed.length=1,this.multiChecked=[],this.multiCheckedNum=0,this.singleChecked=0/0,this.disabledIndex=[],this.odd=!1,this.endRow=0,this.renderComplete=!1,this.gridAllCheck&&this.gridAllCheck.removeClass("grid-all-checkbox-checked"),d&&(this.el[0].removeChild(this.gridTbody[0]),a=document.createElement("tbody"),this.el[0].appendChild(a),this.gridTbody=b(a)),this.trStart=0,this.trEnd=0},loadData:function(){this._loading("show"),this.options.datasource(this,this.getQuery())},addData:function(a,c){"object"===b.type(a)&&(a=[a]);var d=a.length,e=this.options,f=this.disabledIndex;if(0!==d){if(a=b.extend(!0,[],a),this.unRender)return void this.setDatasource(a);var g=e.selectrows;"number"==typeof c&&c<this.rowSize?(this._spliceArray(this.data,c,a),e.primarykey&&f.length&&this._spliceArray(f,c,new Array(d)),"multi"===g?this._spliceArray(this.multiChecked,c,new Array(d)):"single"===g&&c<this.singleChecked&&(this.singleChecked+=d)):this.data=this.data.concat(a),this.rowSize+=d,this._isEmpty(),this._renderTbody(d,c),this.paginationObj&&this._changepages();var h=e.adddata_callback;"function"==typeof h&&h.call(this,a),this.autoHeight&&"function"==typeof e.resizewidth?this.resize():this._setLayout()}},setPagerText:function(a){"string"==typeof a&&(this.customerText=a)},__createPagination:function(){var a=this.options,b=this.query;if(a.pagination){var c=this;window.cui(this.gridTfoot).pagination({count:this.totalSize,pagesize:b.pageSize,pageno:b.pageNo,pagesize_list:a.pagesize_list,tpls:{pagination:a.pagination_model},cls:a.pagination_model,customerText:this.customerText,custom_pagesize:b.custom_pagesize,on_page_change:function(a,d){b.pageNo=a,b.pageSize=d,c.loadData()
}}),this.paginationObj=window.cui(this.gridTfoot)}},_changepages:function(){var a=this.query;this.paginationObj.setInitData({custom_pagesize:a.custom_pagesize,count:this.totalSize,pagesize:a.pageSize,pageno:a.pageNo}),this.paginationObj.reDraw()},_spliceArray:function(a,b,c){return Array.prototype.splice.apply(a,[b,0].concat(c)),a},_renderTbody:function(a,b){var c=this.data,d=this.endRow,e=this.rowSize,f=parseInt(this.boxHeight/28,10)+20,g=this.options.ellipsis;if(0===e)return this.renderComplete=!0,void(this.appendRowsComplete=!0);if(this.renderComplete=!1,isNaN(a)){var h=Math.min(e,d+f+1);g&&(this.trEnd=h),this._appendRows(d,h)}else if(this.gridAllCheck&&this.gridAllCheck.removeClass("grid-all-checkbox-checked"),"number"==typeof b&&d>b){for(var i=this.domTr,j=b;d>j;j+=1)i[j].removeAttribute("index");var k=i[b],l=this._dataToDom(c,b,b+a),m=l.domTr;if(this._spliceArray(this.domTr,b,m),this._spliceArray(this.domTd,b,l.domTd),this._spliceArray(this.domFixed,b+1,l.domFixed),b>=this.trStart&&b<this.trEnd||!g){for(var n=this.gridTbody[0],o=0;a>o;o+=1)n.insertBefore(m[o],k);g&&(this.trEnd+=a)}else{b<this.trStart&&g&&(this.trStart+=a,this.trEnd+=a);for(var p=this.trFrag,q=0;a>q;q+=1)p.appendChild(m[q])}this.endRow+=a,this._setAutoHeight(),this._setOddEven(b),this._setNum(b)}else this._lazyload()},_loadComplateCallBack:function(){var a=this.options.loadcomplate_callback;"function"==typeof a&&a.call(this,this)},__setSortStyle:function(){var a,c,d,e,f=this.query,g=f.sortType,h=f.sortName,i=h.length,j=this.bindName,k=this.domTh,l={DESC:"desc",ASC:"asc"};a:for(c=this.colSize;c--;)if(e=j[c],-1!==e)for(d=b(k[c]),a=0;i>a;a++)if(d.find("b").hide(),h[a]===e){d.find(".grid-sort-icon-"+l[g[a]].toLocaleLowerCase()).show();continue a}},_dataToDom:function(a,b,c){for(var e=this.options,f=this.oddEvenClass,g=e.oddevenrow,h=e.ellipsis,i=this.colSize,j=this.domTh,k=this.tdsPackage,l=this.bindName,m=this.bindDotName,n=e.fixcolumnnumber,o=this.numCol,p=this.colRender,q=e.rowstylerender,r=e.colstylerender,s="function"==typeof q,t="function"==typeof r,u=this.renderMethod,v=this.heightLight,w=""!==this.selectrowsClass?1:0,x=this.odd,y=e.primarykey,z="object"==typeof a[0]&&a[0].hasOwnProperty(y),A=this.createDomBox,B=["<table>"],C=b;c>C;C+=1){B.push('<tr class="'),g&&(x&&B.push(f),x=!x),v[C]&&B.push(" grid-highlight"),B.push('"');var D=a[C];if(z&&D.hasOwnProperty(y)&&(B.push(' pkey="'),B.push(String(D[y])),B.push('"')),s){var E=q(D);"string"==typeof E&&B.push(' style="',E,'"')}if(B.push(">"),1===w){var F=k[0];B.push('<td class="grid-select-input '),n>0?(B.push("grid-fixed"),B.push('" style="',F.style,'">',F.html,"</td>")):(B.push(F.className),B.push('" style="',F.style,'"></td>'))}for(var G="",H="",I="",J="",K="",L="",M="",N=null,O=null,P=null,Q=null,R=w;n>R;R+=1){I=l[R],J=m[R],o===R?K=C+I:I?"undefined"==typeof J?K=D[I]:(K=D[J[0]],K=K&&"object"==typeof K?K[J[1]]||"":""):K="";var S="",T="";if(N=p[R],O=N[0],P=N[1],P&&(K=P.callback(K,P.format)||K),O)switch(M=O.render,T=O.method,M){case"colrenderFn":K=O.callback(D,I)||K;break;case"renderFn":Q=O.colJson,Q.el=j[R],Q.bindName=I,K=O.callback(D,C,Q)||K;break;case"fiexdFn":K=u[T](D,O.options,K)||K}K=d(K),S="button"===T||h?[K,"</span>"].join(""):[K,"</span>",K].join(""),G=k[R];var U=G.html.replace("<!---->",S);B.push('<td class="grid-fixed" style="',G.style,'">'),t&&(H=r(D,I),"string"==typeof H&&(U=U.replace("/**/",H))),B.push(U,"</td>")}for(;i>R;R+=1){if(I=l[R],J=m[R],G=k[R],o===R?K=C+I:I?"undefined"==typeof J?K=D[I]:(K=D[J[0]],K=K&&"object"==typeof K?K[J[1]]||"":""):K="",N=p[R],O=N[0],P=N[1],P&&(L=P.callback(K,P.format),K=null===L||void 0===L?K:L),O)switch(M=O.render){case"colrenderFn":L=O.callback(D,I),K=null===L||void 0===L?K:L;break;case"renderFn":Q=O.colJson,Q.el=j[R],Q.bindName=I,L=O.callback(D,C,Q),K=null===L||void 0===L?K:L;break;case"fiexdFn":L=u[O.method](D,O.options,K),K=null===L||void 0===L?K:L}var V=G.style;t&&(H=r(D,I),"string"==typeof H&&(V+=";"+H)),K=d(K),B.push('<td style="',V,'">',K,"</td>")}B.push("</tr>")}this.odd=x,B.push("</table>"),A.innerHTML=B.join("");for(var W=[],X=[],Y=[],Z=" "+this.selectedRowClass,$=this.disabledIndex,_=this.multiChecked,ab=this.singleChecked,bb=A.getElementsByTagName("table")[0],cb=0,db=c-b;db>cb;cb+=1){var eb=bb.rows[cb];W.push(eb);for(var fb=[],gb=[],hb=0;i>hb;hb+=1){var ib=eb.cells[hb];fb.push(ib),n>hb&&gb.push(ib.getElementsByTagName("span")[0])}$[cb+b]?eb.addClass("grid-disable-row"):_[cb+b]&&(eb.className+=Z),X.push(fb),Y.push(gb)}if(!isNaN(ab)&&ab>=b&&c>ab&&!$[ab]){var jb=bb.rows[ab-b];jb.className+=Z}return{domTd:X,domTr:W,domFixed:Y}},_appendRows:function(a,b){var c=this.rowSize;(this.autoHeight||!this.options.lazy)&&(b=c),b=this.endRow=Math.min(c,b);var d=this._dataToDom(this.data,a,b);this.domTr=this.domTr.concat(d.domTr),this.domTd=this.domTd.concat(d.domTd),this.domFixed=this.domFixed.concat(d.domFixed);for(var e=this.domTr,f=this.gridTbody[0],g=a;b>g;g+=1)f.appendChild(e[g]);this.gridTableBox.css("paddingBottom",28*(c-b)),this.renderComplete=b===c,this.appendRowsComplete=!0,this._setAutoHeight()},_setOddEven:function(a){var c=this.options;if(c.oddevenrow)for(var d=this.domTr,e=this.endRow,f=this.oddEvenClass,g=this.odd=a%2===0,h=a;e>h;h+=1)g?b(d[h]).removeClass(f):b(d[h]).addClass(f),g=!g},_setNum:function(a){if(!isNaN(this.numCol)){var b=this.domTd,c=this.domFixed,d=this.numCol,e=this.bindName[d],f=a,g=this.endRow;if(this.options.fixcolumnnumber>d)for(;g>f;f+=1){var h=c[f+1][d],i=f+e;h.innerHTML=i,h.nextSibling.nodeValue=i}else for(;g>f;f+=1)b[f][d].innerHTML=f+e}},hideCols:function(a){if("object"===b.type(a)){for(var c=this.colHidden,d=this.colSize,e=this.bindName,f=0;d>f;f+=1){var g=a[e[f]];"boolean"==typeof g&&(c[f]=g)}this._colHidden(!1)}},disableColFilter:function(a){if("object"===b.type(a)){var c,d=this.bindName,e=this.colSize,f=this.disabled,g=[],h=-1===d[0]?1:0,i=this.hideCol.domA;for(c=0;e>c;c++){var j=a[d[c]];"boolean"==typeof j&&(g.push({index:c-h,dis:j}),f[c]=j?"true":null)}for(c=0;c<g.length;c++)g[c].dis?b(i[g[c].index]).addClass("grid-hide-disabled"):b(i[g[c].index]).removeClass("grid-hide-disabled")}},getQuery:function(){var a=b.extend(!0,{},this.query),c=this.customQuery;return c?(c.pageSize=a.pageSize,c.pageNo=a.pageNo,c.sortName=b.extend([],a.sortName),c.sortType=b.extend([],a.sortType),c):a},setQuery:function(a){"object"==typeof a&&(this.customQuery=a),a=a||this.backupQuery;var c=this.options.sortstyle,d=this.query;"number"==typeof a.pageSize&&(d.pageSize=a.pageSize),"number"==typeof a.pageNo&&(d.pageNo=a.pageNo),"array"===b.type(a.sortName)&&(d.sortName=b.extend([],a.sortName),d.sortName.length>c&&(d.sortName.length=c)),"array"===b.type(a.sortType)&&(d.sortType=b.extend([],a.sortType),d.sortType.length>c&&(d.sortType.length=c)),this._setSortTypeObj()},_setHeight:function(a){return"number"!=typeof a?!1:(a-=1,this.boxHeight-=this.gridHeight-a,this.gridHeight=a,this._lazyload(),this.options.colhidden&&this.hideCol.hideCol&&this.hideCol.hideCol.blur(),!0)},setHeight:function(a){this.autoHeight=!this._setHeight(a),this._setLayout()},setWidth:function(a){if("number"==typeof a&&a-2!==this.gridWidth){var b=this.ittab;b&&b.ittabActive||(a-=2,this.options.adaptive&&(this.tableWidth=a-17,this.isIttab=!1),this.gridWidth=a,this._setLayout(),this.options.colhidden&&this.hideCol.hideCol&&this.hideCol.hideCol.blur())}},setHighLight:function(a,c){var d=this.options.primarykey,e=this.data,f=this.endRow;if(e[0]&&e[0].hasOwnProperty(d))for(var g=this.rowSize;g--;)if(e[g][d]===a){f>g&&(c!==!1?b(this.domTr[g]).addClass("grid-highlight"):b(this.domTr[g]).removeClass("grid-highlight")),this.heightLight[g]=c!==!1;break}},selectRowsByIndex:function(a,b){b=b!==!1;var c,d,e=this.options,f=e.selectrows,g=this.data,h=[],i=this.disabledIndex;if("no"===f||a>=this.rowSize)return[];if(b!==!1&&(b=!0),"number"==typeof a&&(a=[a]),"single"===f)c=a[0],c>-1&&!i[c]&&(this._selectRows(c,b),h.push(g[c]));else for(var j=0,k=a.length;k>j;j+=1)d=a[j],i[j]||(this._selectRows(d,b),h.push(g[d]));return h},_pkToIndex:function(a,c){var d=this.data,e=this.rowSize,f=this.options.primarykey;if(d[0].hasOwnProperty(f)===!1||void 0===a)return[];"array"!==b.type(a)&&(a=[a]);for(var g=a.length,h=[],i=0;g>i;i+=1){for(var j=a[i],k=!1,l=e;l--;)if(d[l][f]===j){h.push(l),k=!0;break}!k&&c&&h.push(-1)}return h},getIndexByPk:function(a){return void 0!==a?this._pkToIndex(a,!0)[0]:void 0},selectRowsByPK:function(a,c){var d=this.options;return-1!=="array string number".indexOf(b.type(a))&&"no"!==d.selectrows&&this.rowSize&&this.data[0].hasOwnProperty(d.primarykey)!==!1?this.selectRowsByIndex(this._pkToIndex(a,!0),c):[]},disableRows:function(a,c){var d,e,f,g,h,i,j=this.options,k=b.type(a),l=this.disabledIndex;if(-1!=="array string number".indexOf(k)&&"no"!==j.selectrows&&this.rowSize&&this.data[0].hasOwnProperty(j.primarykey)!==!1)for(c=void 0===c?!0:c,c&&this.selectRowsByPK(a,!1),d=this._pkToIndex(a,!1),h=this.domTr,f=0,g=d.length;g>f;f++)e=d[f],i=b(h[e]),c?i.addClass("grid-disable-row"):i.removeClass("grid-disable-row"),l[e]=c},_removeRow:function(a){var c=this.data,d=c[a];return this.data.splice(a,1),b(this.domTr[a]).remove(),this.domTr.splice(a,1),this.domTd.splice(a,1),this.multiChecked.splice(a,1),this.disabledIndex.splice(a,1),this.singleChecked>a&&this.singleChecked--,this.domFixed.splice(a+1,1),d},removeData:function(a){if("number"==typeof a||"array"===b.type(a)){"number"==typeof a&&(a=[a]),a.sort(function(a,b){return a-b});for(var c=a.length,d=[],e=this.singleChecked,f=this.multiChecked,g=this.options,h=g.selectrows,i=g.ellipsis,j=this.endRow,k=0;c>k;k+=1){var l=a[k]-k,m=this.rowSize;if(isNaN(l)||l>=m){a[k]=0;break}this.rowSize=m-1,j>l&&(i&&(l<this.trEnd&&this.trEnd--,l<this.trStart&&this.trStart--),this.endRow--),"multi"===h?f[l]===!0&&this.multiCheckedNum--:"single"===h&&e===l&&(this.singleChecked=0/0);var n=this._removeRow(l);n&&d.push(n)}var o=this.rowSize;if(0>=o)this.query.pageNo>1&&(this.query.pageNo-=1),this.rowSize=0,this._isEmpty();else{"multi"===g.selectrows&&(this.multiCheckedNum===o?this.gridAllCheck.addClass("grid-all-checkbox-checked"):this.gridAllCheck.removeClass("grid-all-checkbox-checked"));for(var p=this.domTr,q=this.endRow;q--;)p[q].removeAttribute("index");var r=a[0]-0;this._setOddEven(r),this._setNum(r),this._lazyload()}this.autoHeight&&"function"==typeof this.options.resizewidth?this.resize():this._setLayout();var s=g.removedata_callback;"function"==typeof s&&s.call(this,d)}},removeDataByPk:function(a){this.removeData(this._pkToIndex(a,!1))},changeData:function(a,c){if("object"===b.type(a)){var d=this.options,e=d.primarykey,f=a[e];if("undefined"!=typeof f){var g=this._pkToIndex(f,!1)[0];c=void 0===g?c:g}if(!("number"!=typeof c||0>c||c>=this.rowSize||(this.data[c]=b.extend(!0,this.data[c],a),c>=this.endRow))){var h=this._dataToDom([a],0,1),i=h.domTd[0],j=this.domTd[c],k=this.bindName,l=d.fixcolumnnumber;this.odd=!this.odd;for(var m=this.colSize;m--;){var n=k[m],o=b(j[m]);if(o.removeAttr("title"),l>m){if("number"!=typeof n){var p=o.find(".grid-fixed-s")[0],q=b(i[m]).find(".grid-fixed-s")[0].innerHTML;p.innerHTML=q,p.nextSibling&&(p.nextSibling.nodeValue=q)}}else"number"!=typeof n&&o.html(i[m].innerHTML)}}}},getData:function(){return b.extend(!0,[],this.data)},getSelectedRowData:function(){var a=this.options.selectrows;if("no"===a)return[];var b=this.data;if("single"===a)return isNaN(this.singleChecked)?[]:[b[this.singleChecked]];if(this.multiCheckedNum===this.rowSize)return this.data;for(var c=this.multiChecked,d=this.rowSize,e=[],f=0;d>f;f+=1)c[f]&&e.push(b[f]);return e},getSelectedPrimaryKey:function(){var a=this.options,b=a.selectrows,c=a.primarykey,d=this.getSelectedRowData(),e=d.length;if("no"===b||!e||d[0].hasOwnProperty(c)===!1)return[];for(var f=[],g=0;e>g;g+=1)f.push(d[g][c]);return f},getSelectedIndex:function(){var a=this.options.selectrows;if("no"===a)return[];if("single"===a)return[this.singleChecked];for(var b=this.multiChecked,c=this.rowSize,d=[],e=0;c>e;e+=1)b[e]&&d.push(e);return d},getRowsDataByIndex:function(a){var c=this.data;if("number"==typeof a)return[c[a]];if("array"===b.type(a)){for(var d=a.length,e=[],f=0;d>f;f+=1){var g=c[a[f]];g&&e.push(g)}return e}},getRowsDataByPK:function(a){var c=this.options.primarykey,d=this.data;if(d[0]&&d[0].hasOwnProperty(c)){"array"!==b.type(a)&&(a=[a]);for(var e=a.length,f=[],g=0;e>g;g+=1)for(var h=a[g],i=this.rowSize;i--;)if(d[i][c]===h){f.push(d[i]);break}return f}return null},_switchCol:function(a,c){var d=this.domHeadCol,e=this.domBodyCol,f=this.domTd,g=this.domTh,h=this.domFixed,i=this.domTr,j=this.options.fixcolumnnumber,k=this.numCol;this._switchArrayValue(this.bindName,a,c),this._switchArrayValue(this.bindDotName,a,c),this._switchArrayValue(this.colIndex,a,c),this._switchArrayValue(this.theadText,a,c),this._switchArrayValue(this.renderStyle,a,c),this._switchArrayValue(this.colRender,a,c),this._switchArrayValue(this.colWidth,a,c),this._switchArrayValue(this.initColWidth,a,c),this._switchArrayValue(this.colWidthBackup,a,c),this._switchArrayValue(this.colHidden,a,c),this._switchArrayValue(this.tdsPackage,a,c),isNaN(k)||(a===k?this.numCol=c-(a>c?0:1):a>k&&k>=c?this.numCol=k+1:k>a&&c>k&&(this.numCol=k-1));var l=null,m=this.endRow,n=this.hideCol,o=n.domA,p=n.gridHidecolList;if(c===this.colSize){var q=b(g[a]);q.appendTo(q.parent());var r=b(e[a]);r.appendTo(r.parent());var s=b(d[a]);for(s.appendTo(s.parent());m--;)l=f[m],i[m].appendChild(l[a]),this._switchArrayValue(l,a,c);p&&p.appendChild(""!==this.selectrowsClass?o[a-1]:o[a])}else{for(b(g[a]).insertBefore(g[c]),b(e[a]).insertBefore(e[c]),b(d[a]).insertBefore(d[c]);m--;)l=f[m],i[m].insertBefore(l[a],l[c]),this._switchArrayValue(l,a,c);p&&(""!==this.selectrowsClass?p.insertBefore(o[a-1],o[c-1]):p.insertBefore(o[a],o[c]))}if(this._switchArrayValue(g,a,c),j>a||j>c){var t=Math.min(a,c),u=Math.max(a,c);j++;for(var v=0,w=this.rowSize+1;w>v;v++){this._switchArrayValue(h[v],a,c);for(var x=t;u>=x;x++)b(h[v][x]).parent().css("zIndex",j-x)}}this._switchArrayValue(e,a,c),this._switchArrayValue(d,a,c),this.persistence&&this._triggerStatusChange()},_switchArrayValue:function(a,b,c){a.length<c&&(a[c]=void 0),b>c?a.splice(c,0,a.splice(b,1)[0]):a.splice(c-1,0,a.splice(b,1)[0])},ittab:{ittabActive:!1,_init:function(a){var c=this,d=a.gridOverlay,e=a.gridLine,f=[],g=0,h=0,i=!0,j=0/0,k=a.options.adaptive;a.gridHeadTable.find(".grid-ittab").show(),a.gridHeadTable.on("mousedown",function(c){var k=c.target;if(h=0,"grid-ittab"===k.className){f=a.colWidth,j=a._thIndex(b(k).parents("th")[0]),d.show().css("cursor","col-resize");var l=d.offset().left;g=c.pageX-l,e.show().css("left",g),i=!1,d.off("mousemove").on("mousemove",function(a){return a.stopPropagation(),h=a.pageX-l,f[j]+h-g<24&&(h=24+g-f[j]),e.css("left",h),!1})}return!1}),d.on("mouseup mouseout",function(){if(!i&&!isNaN(j)&&(i=!0,b(this).hide(),e.hide(),0!==h)){var d=h-g;a.isIttab=!0,a.colWidth[j]=f[j]+d,a.tableWidth=a.tableWidth+d,c.ittabActive=!0,a._setColWidthStyle(k?void 0:j),a.persistence&&a._triggerStatusChange(),a._setLayout(),c.ittabActive=!1,g=h=0,j=0/0}})}},hideCol:{_init:function(a){var c=this.hideCol=document.createElement("div"),d=0;c.className="grid-hidecol";var e=a.theadHeight;c.style.top=e+"px",c.tabIndex="1",b("body").append(c),c=b(c);var f=a.colSize,g=a.theadText,h="",i=a.disabled,j=0,k="";""!==a.selectrowsClass&&(j+=1);for(var l=['<div class="grid-hidecol-list" hidefocus="true" >'];f>j;j+=1)h=b.trim(g[j].replace(/<.*?>/g,"")),i[j]?(d++,k=' class="grid-hide-disabled"'):k="",l.push('<a href="javascript:;" hidefocus="true"',k," title=",h,">",h,"</a>");l.push("</div>",'<div class="grid-hidecol-button">','<a href="javascript:;" hidefocus="true" class="cui-button blue-button grid-hidecol-confirm">\u786e\u5b9a</a>','<a href="javascript:;" hidefocus="true" class="cui-button red-button grid-hidecol-cancel">\u53d6\u6d88</a>',"</div>"),c.html(l.join("")),this.gridHidecolList=c.find(".grid-hidecol-list")[0],this.domA=this.gridHidecolList.getElementsByTagName("a"),this.bindEvent(a,c),this.ban=d},bindEvent:function(c,d){function e(){for(var a=m;i>a;a+=1)p[a]?b(o[a-m]).addClass("grid-hidecol-nochecked"):b(o[a-m]).removeClass("grid-hidecol-nochecked")}{var f,g,h=this,i=c.colSize,j=c.gridBox,k=null,l=!1,m=0,n=-1,o=this.domA;document.createElement("span")}""!==c.selectrowsClass&&(m+=1),c.gridHeadTable.on("click",function(p){var q=b(p.target);if(f=j.offset().left,g=f+c.gridWidth/2,q.hasClass("grid-select")){k&&d.blur(),k=q.parents("th").addClass("grid-thead-select");var r=q.offset().left,s=r+4;s-=126;var t,u=a.Tools.fixedNumber(c.options.colmaxheight);switch(u){case"auto":t=Math.max(c.boxHeight+c.paginationHeight-50,60);break;default:u&&u>=60&&(t=u-50)}d.children(".grid-hidecol-list").css("height",28*(i-h.ban)>t?t:""),d.css({left:s,top:q.offset().top+c.theadHeight}).show().focus().attr("hidefocus","true"),e();var v=c._thIndex(k[0])-m;b(o[n]).removeClass("grid-hidecol-disabled"),b(o[v]).addClass("grid-hidecol-disabled"),n=v,l=!1}else b(d).blur()}),d.on("blur",function(){return l?void d.focus():(k&&k.removeClass("grid-thead-select"),void b(d).hide())}),d.on("mouseover",function(){l=!0}),d.on("mouseout",function(){l=!1});var p=c.colHidden;d.on("click",function(a){var d=b(a.target);if(d.hasClass("grid-hidecol-confirm")){for(var f=m;i>f;f+=1)p[f]=b(o[f-m]).hasClass("grid-hidecol-nochecked");return l=!1,c._colHidden(!1),b(this).blur(),!1}return d.hasClass("grid-hidecol-cancel")?(e(),l=!1,b(this).blur(),!1):"A"===d.prop("tagName")?(d.hasClass("grid-hidecol-disabled")||d.toggleClass("grid-hidecol-nochecked"),!1):void this.focus()}),setTimeout(e,100)}},moveCol:{_init:function(a){var c=b("<div></div>"),d=b("<div></div>"),e=a.gridHeadTable.addClass("grid-col-move");c.addClass("grid-col-move-insert"),d.addClass("grid-col-move-tag"),a.gridHead.append(d).append(c);var f=a.options,g=a.gridOverlay,h=f.fixcolumnnumber,i=a.selectrowsClass,j=null,k=0,l=[],m=[],n=0/0,o=0/0,p=!1,q=!0;e.on("mousedown",function(r){var s=b(r.target);if(s.hasClass("grid-fixed-s")&&!s.hasClass("grid-no-move")){f.colhidden&&a.hideCol.hideCol.blur(),q=!1,j=a.colHidden;var t=a.colWidth,u=a.colSize,v=a.domTh,w=a.domFixed[0],x=Math.round(e.offset().left),y=a.gridScroll[0].scrollLeft,z=0,A=a.theadHeight,B=s.parent().parent();n=a._thIndex(B[0]),k=0,l=[],m=[];var C=0,D=null,E=0,F=0;if(h>n){for(p=!0;h>C;C+=1)D=t[C],k+=D,E=Math.round(b(w[C]).offset().left)-x-y,j[C]===!0&&(E=-100),l.push(E),m.push(E),j[C]||(m[C]=E+D/2);l.push(k-y),m.push(k-y-1),i&&(l[0]=m[0]=-100),F=l[n]-1}else{for(p=!1,C=h;u>C;C+=1)D=t[C],E=Math.round(b(v[C]).offset().left)-x-y,j[C]===!0&&(E=-100),l.push(E),m.push(E),j[C]||(m[C-h]=E+D/2);l.push(a.tableWidth-y),m.push(a.tableWidth-y-1),0===h&&i&&(l[0]=m[0]=-100),F=l[n-h]-1}d.show().css({left:F,width:B.width(),height:A-1,lineHeight:A-1+"px"}).html(s.find(".grid-thead-text").eq(0).html()),c.show().css("height",A-5),g.show().css("cursor","move");var G=r.pageX;c.css("left",-1e3),g.off("mousemove").on("mousemove",function(a){a.stopPropagation(),z=a.pageX,d.css("left",F-G+z);for(var b=m.length,e=0;b>e;e+=1){var f=m[e];if(!(0>f)&&f>z){c.css("left",l[e]),o=p?e:e+h;break}}return!1})}}),g.on("mouseup",function(){if(!q&&(q=!0,g.hide(),c.hide(),d.hide(),!isNaN(o)&&!isNaN(n)&&o!==n&&o!==n+1)){if(n>o)return a._switchCol(n,o),void(o=n=0/0);for(var b=n+1;o>b;b+=1)if(!j[b]){a._switchCol(n,o),o=n=0/0;break}}}),g.on("mouseout",function(){g.hide(),c.hide(),d.hide(),o=n=0/0})}},destroy:function(){{var a=this;a.options}a._super(),b("."+this.guid).remove()}})}(window.comtop),function(a){"use strict";function b(a,b,c){var d,e,f=a[c.bindName]||"",h=c.editType,i=h.datasource,j=g.SinglePullDown.prototype.options,k=h.value_field||j.value_field,l=h.label_field||j.label_field;for(d=0,e=i.length;e>d;d++)if(i[d][k]===f)return i[d][l]}function c(a,b,c){var d,e,f,h,i,j,k,l,m,n,o=a[c.bindName]||"";if(""===o)return"";for(o=o.split(";"),i=c.editType,j=i.datasource,k=g.SinglePullDown.prototype.options,l=i.value_field||k.value_field,m=i.label_field||k.label_field,n=[],f=0,h=o.length;h>f;f++)for(d=0,e=j.length;e>d;d++)j[d][l]===o[f]&&n.push(j[d][m]);return n.join(";")}function d(a,b,c){var d,e,f="",g=c.editType,h=g.radio_list;for("undefined"!=typeof a[c.bindName]&&(f=a[c.bindName]),d=0,e=h.length;e>d;d++)if(h[d].value+""==f+"")return h[d].text}function e(a,b,c){var d,e,f,g,h,i,j,k=a[c.bindName]||"";if(""===k)return"";for(k=k.split(";"),h=c.editType,i=h.checkbox_list,j=[],f=0,g=k.length;g>f;f++)for(d=0,e=i.length;e>d;d++)i[d].value===k[f]&&j.push(i[d].text);return j.join(";")}var f=a.cQuery,g=a.UI,h=a.Tools.fixedNumber||function(a){return a},i=/^((i|I)nput|(c|C)lickInput|(p|((s|S)ingle|(m|M)ulti)?P)ullDown|(c|C)alender|(t|T)extarea)|((c|C)heckbox|(r|R)adio)Group$/,j=/(ullDown|Group)$/,k=/(nput|textarea)$/,l={required:function(a,b){var c,d,e,g=f.extend({m:"\u4e0d\u80fd\u4e3a\u7a7a!"},b||{}),h=g.emptyVal,i=g.m;if(""===a||null===a||void 0===a)return i;if(h)for(c=0,d=h.length;d>c;c++)if(a===h[c])return i;if("array"===f.type(a)){if(d=a.length,0===d)return i;for(c=0;d>c;c++)if(e=a[c],""===e||null===e||void 0===e)return i}return!0},numeric:function(a,b){if(""===a)return!0;var c,d,e=a;if(a=Number(a),b=b||{},c={notANumberMessage:b.notnm||"\u5fc5\u987b\u4e3a\u6570\u5b57!",notAnIntegerMessage:b.notim||"\u5fc5\u987b\u4e3a\u6574\u6570!",wrongNumberMessage:b.wrongm||"\u5fc5\u987b\u4e3a "+b.is+"!",tooLowMessage:b.minm||"\u5fc5\u987b\u5927\u4e8e "+b.min+"!",tooHighMessage:b.maxm||"\u5fc5\u987b\u5c0f\u4e8e "+b.max+"!",is:b.is||0===b.is?b.is:null,minimum:b.min||0===b.min?b.min:null,maximum:b.max||0===b.max?b.max:null,onlyInteger:b.oi||!1},!isFinite(a))return c.notANumberMessage;if(c.onlyInteger&&!/^\d+$/.test(String(e)))return c.notAnIntegerMessage;switch(!0){case null!==c.is:if(a!==Number(c.is))return c.wrongNumberMessage;break;case null!==c.minimum&&null!==c.maximum:if(d=this.numeric(a,{minm:c.tooLowMessage,min:c.minimum}),d!==!0)return d;if(d=this.numeric(a,{maxm:c.tooHighMessage,max:c.maximum}),d!==!0)return d;break;case null!==c.minimum:if(a<Number(c.minimum))return c.tooLowMessage;break;case null!==c.maximum:if(a>Number(c.maximum))return c.tooHighMessage}return!0},format:function(a,b){if(""===a)return!0;a=String(a);var c=f.extend({m:"\u4e0d\u7b26\u5408\u89c4\u5b9a\u683c\u5f0f!",pattern:/./,negate:!1},b||{});return c.pattern="string"===f.type(c.pattern)?new RegExp(c.pattern):c.pattern,c.negate||c.pattern.test(a)?!0:c.m},email:function(a,b){if(""===a)return!0;var c=f.extend({m:"\u90ae\u7bb1\u683c\u5f0f\u8f93\u5165\u4e0d\u5408\u6cd5!"},b||{}),d=this.format(a,{m:c.m,pattern:/^([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})$/i});return d!==!0?d:!0},dateFormat:function(a,b){var c=f.extend({m:"\u65e5\u671f\u683c\u5f0f\u5fc5\u987b\u4e3ayyyy-MM-dd\u5f62\u5f0f\uff01"},b||{}),d=this.format(a,{m:c.m,pattern:/^((((((0[48])|([13579][26])|([2468][048]))00)|([0-9][0-9]((0[48])|([13579][26])|([2468][048]))))-02-29)|(((000[1-9])|(00[1-9][0-9])|(0[1-9][0-9][0-9])|([1-9][0-9][0-9][0-9]))-((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30))|(((0[1-9])|(1[0-2]))-((0[1-9])|(1[0-9])|(2[0-8]))))))$/i});return d!==!0?d:!0},length:function(a,b){a=String(a),b=b||{};var c,d={wrongLengthMessage:b.wrongm||"\u957f\u5ea6\u5fc5\u987b\u4e3a "+b.is+" \u5b57\u8282!",tooShortMessage:b.minm||"\u957f\u5ea6\u5fc5\u987b\u5927\u4e8e "+b.min+" \u5b57\u8282!",tooLongMessage:b.maxm||"\u957f\u5ea6\u5fc5\u987b\u5c0f\u4e8e "+b.max+" \u5b57\u8282!",is:b.is||0===b.is?b.is:null,minimum:b.min||0===b.min?b.min:null,maximum:b.max||0===b.max?b.max:null};switch(!0){case null!==d.is:if(a.replace(/[^\x00-\xff]/g,"xx").length!==Number(d.is))return d.wrongLengthMessage;break;case null!==d.minimum&&null!==d.maximum:if(c=this.length(a,{minm:d.tooShortMessage,min:d.minimum}),c!==!0)return c;if(c=this.length(a,{maxm:d.tooLongMessage,max:d.maximum}),c!==!0)return c;break;case null!==d.minimum:if(a.replace(/[^\x00-\xff]/g,"xx").length<Number(d.minimum))return d.tooShortMessage;break;case null!==d.maximum:if(a.replace(/[^\x00-\xff]/g,"xx").length>Number(d.maximum))return d.tooLongMessage;break;default:return"\u957f\u5ea6\u9a8c\u8bc1\u5fc5\u987b\u63d0\u4f9b\u957f\u5ea6\u503c!"}return!0},inclusion:function(a,b){var c,d,e,g,h=f.extend({m:"",within:[],allowNull:!1,partialMatch:!1,caseSensitive:!0,negate:!1},b||{}),i=h.within,j=!1,k=h.m||a+"\u6ca1\u6709\u5305\u542b\u5728\u6570\u7ec4"+h.within.join(",")+"\u4e2d";if(h.allowNull&&!a)return!0;if(!h.allowNull&&!a)return h.m;if(!h.caseSensitive){for(c=[],d=0,e=i;e>d;d++)g=i[d],"string"==typeof g&&(g=g.toLowerCase()),c.push(g);h.within=c,"string"==typeof a&&(a=a.toLowerCase())}for(d=0,e=i;e>d;d++)if(g=i[d],g===a||h.partialMatch&&-1!==a.indexOf(g)){j=!0;break}return h.negate===j?k:!0},exclusion:function(a,b){var c,d=f.extend({m:"",within:[],allowNull:!1,partialMatch:!1,caseSensitive:!0},b||{});return d.m=d.m||a+"\u4e0d\u5e94\u8be5\u5728\u6570\u7ec4"+d.within.join(",")+"\u4e2d\uff01",d.negate=!0,c=this.inclusion(a,d),c!==!0?c:!0},acceptance:function(a,b){var c=f.extend({m:"\u5fc5\u987b\u9009\u62e9!"},b||{});return a?!0:c.m},custom:function(a,b){var c=f.extend({against:function(){return!0},args:{},m:"\u4e0d\u5408\u6cd5!"},b||{}),d=c.against;return"string"===f.type(d)&&(d=window[d]),d(a,c.args)?!0:c.m}};a.UI.EditableGrid=a.UI.Base.extend({options:{uitype:"EditableGrid",gridwidth:"600px",gridheight:"500px",tablewidth:"",primarykey:"",ellipsis:!0,titleellipsis:!0,adaptive:!0,oddevenrow:!1,selectrows:"multi",fixcolumnnumber:0,config:null,onstatuschange:null,datasource:null,titlerender:null,colhidden:!0,colmove:!1,loadtip:!0,resizeheight:null,resizewidth:null,rowstylerender:null,colstylerender:null,colrender:null,sortstyle:1,sortname:[],sorttype:[],pageno:1,pagesize:50,pagesize_list:[25,50,100],pagination:!0,pagination_model:"pagination_min_1",rowclick_callback:null,loadcomplete_callback:null,selectall_callback:null,rowdblclick_callback:null,edittype:{},submitdata:null,editbefore:null,editafter:null,deletebefore:null,deleteafter:null},formatFn:{date:a.Date.simpleformat,money:a.Number.money},renderMethod:{a:function(a,b,c){var d=["<a"],e=b.params,f="";if(e){e=e.split(";");for(var g=[],h=e.length;h--;){var i=e[h];a.hasOwnProperty(i)&&g.push([i,"=",a[i]].join(""))}f="?"+g.join("&")}return d.push(" href='",(b.url||"")+f,"' class='",b.className||"","' target='",b.targets||"-self","' clickid='",b.click,"'>",c,"</a>"),d.join("")},image:function(a,b,c){var d=["<img"];d.push(" class='",b.className||"");var e=b.url,f=b.compare,g=b.relation,h=b.title,i=c;if("string"==typeof g)if(/\./.test(g)){var j=g.split(".");i=a[j[0]][j[1]]}else i=a[g];return h=h&&h[i]?h[i]:c,f&&(e=f[i]||e),d.push("' src='",e,"' title='",h,"' clickid='",b.click,"' />"),d.join("")},button:function(a,b,c){var d=["<button class='"];return d.push(b.className||"","' clickid='",b.click,"'>",b.value||c,"</button>"),d.join("")}},_init:function(){var b=this.options,c=b.config,d=b.onstatuschange,e=b.datasource,g=b.sortstyle;b.primarykey||window.alert("\u8bf7\u8bbe\u7f6eprimarykey!"),b.sortname.length=Math.min(b.sortname.length,g),b.sorttype.length=Math.min(b.sorttype.length,g),"string"==typeof c&&"function"==typeof window[c]&&(b.config=window[c]),"string"==typeof d&&"function"==typeof window[d]&&(b.onstatuschange=window[d]),"string"==typeof e&&"function"==typeof window[e]&&(b.datasource=window[e]),this.el=b.el,this.elCache=null,this.gridContainer=null,this.gridBox=null,this.gridStyle=null,this.gridHead=null,this.gridHeadTable=null,this.gridTableHide=null,this.gridBody=null,this.gridTableBox=null,this.gridTbody=null,this.gridScroll=null,this.gridLine=null,this.gridEmpty=null,this.gridTfoot=null,this.loading=null,this.gridOverlay=null,this.gridAllCheck=null,this.createDomBox=document.createElement("div"),this.domTh=[],this.domTr=[],this.domTd=[],this.domFixed=[],this.domHeadCol=[],this.domBodyCol=[],this.theadMap=[],this.extendTh=[],this.trFrag=document.createElement("tbody"),this.data=[],this.backupQuery=null,this.query=null,this.customQuery=null,this.rowSize=0,this.colSize=0,this.sortType={},this.theadText=[],this.renderStyle=[],this.colRender=[],this.bindName=[],this.left=0,this.numCol=0/0,this.colWidth=[],this.initColWidth=[],this.colWidthBackup=[],this.multiChecked=[],this.multiCheckedNum=0,this.singleChecked=0/0,this.disabledIndex=[],this.fixedFnClick=[],this.colHidden=[],this.disabled=[],this.totalSize=0,this.guid="eg-"+a.guid(),this.heightLight=[],this.colIndex=[],this.gridWidth=0,this.gridHeight=0,this.tableWidth=0,this.theadHeight=30,this.boxHeight=0,this.paginationHeight=b.pagination?41:0,this.selectrowsClass="",this.tdsPackage=[],this.renderComplete=!1,this.odd=!1,this.unRender=!0,this.autoHeight=!1,this.isIttab=!1,this.arrIndex=Array.prototype.indexOf,this.isQm=a.Browser.isQM,this.persistence="function"==typeof d&&"function"==typeof c,this.oddEvenClass="eg-even-row",this.selectedRowClass="eg-select-row";try{var h=f("head");h.append('<style type="text/css"></style>'),h.find("style").last()[0].innerHTML="",this.writeStyle=!0}catch(i){this.writeStyle=!1}this.editType={},this.editDict={},this.editObj=null,this.changeEditData={insertData:{},updateData:{},deleteData:[]},this.validateState={insert:{},update:{}},this.insertId=0,this.dataBackup={},this.isChanged=!1,this._backupQuery(),this._setPageSize(),this._setSortTypeObj(),this.__getDomTh(),this.__initWidthAndHeight()},_backupQuery:function(){var a=this.options,b={pageSize:a.pagesize,pageNo:a.pageno,sortName:f.extend([],a.sortname),sortType:f.extend([],a.sorttype)};this.backupQuery=f.extend(!0,{},b),this.query=b},_setPageSize:function(){for(var a=this.options,b=this.query,c=a.pagesize_list,d=b.pageSize,e=c.length;e--;)if(d===c[e])return;b.pageSize=c[1]},_setSortTypeObj:function(){for(var a=this.query,b=a.sortName,c=a.sortType,d=b.length,e=this.sortType={},f=0;d>f;f+=1){var g=c[f].toUpperCase();c[f]=g,e[b[f]]=g}},__getDomTh:function(){var a,b,c,d=this.el,e=this.colIndex,g=this.extendTh;if(a=f(document.createElement("div")).html(["<table><thead>",d.find("thead").html()||d.find("tbody").html()||d.html(),"</thead></table>"].join("")).find("table").eq(0),this.elCache=a,b=a.find("tr"),c=b.length,1===c){for(var h=a[0].getElementsByTagName("th"),i=[],j=0,k=h.length;k>j;j+=1)i.push(h[j]),e[j]=j;this.domTh=i}else{var l,m,n,o,p=this.theadMap=[];for(l=0;c>l;l+=1){var q=b.eq(l)[0],r=q.cells,s=r.length,t=0;for(g[l]=[],p[l]||(p[l]=[]),m=0;s>m;m+=1){var u=r[m],v=u.colSpan;for(n=0;v>n;n+=1)p[l][t+n]=u;t+=v}var w=document.createElement("th");w.className="eg-empty-th",q.insertBefore(w,r[0])}for(l=c;l--;){var x=p[l],y=x.length;for(m=0;y>m;m+=1){var z=x[m],A=z.rowSpan;if(A>1&&!g[l][m])for(A+=l,n=l+1;A>n;n+=1)o=p[n],o&&(g[n][m]=!0,o.splice(m,0,z))}}this.domTh=f.extend([],p[c-1])}this.colSize=this.domTh.length},__initWidthAndHeight:function(){var a=this.options,b="function"==typeof a.resizewidth?a.resizewidth():void 0,c="function"==typeof a.resizeheight?a.resizeheight():void 0,d=a.gridwidth=h(a.gridwidth),e=a.gridheight=h(a.gridheight);this.gridWidth=(b||d)-2,"auto"===e&&(e=500,this.autoHeight=!0),this.gridHeight=(c||e)-2,this.theadHeight=30*this.elCache.find("tr").length,this.boxHeight=this.gridHeight-this.paginationHeight-this.theadHeight,this.tableWidth=a.adaptive?this.gridWidth-17:h(a.tablewidth)||this.gridWidth},_create:function(){this.__createLayoutDom(),this.__theadClickEventBind(),this.__theadMouseEventBind(),this.__tbodyMouseEventBind(),this.__tbodyKeyEventBind(),this.__imitateScroll(),this._resizeEventBind(),this._setStyleWidth(),this._setStyleHeight(),this._loading("show");var a=this.options,b=a.datasource,c=a.config;"function"==typeof b&&(this.persistence?c(this):(this._createPropertys(),this._createContent(),b(this,this.getQuery())))},__createLayoutDom:function(){var a=this.options,b=this.el,c=document.createElement("div");c.className="eg-container";var d=['<div class="eg-style"></div>','<div class="eg-box">','<div class="eg-head">','<table class="eg-head-table"></table>',"</div>",'<div class="eg-body">','<div class="eg-empty">\u672c\u5217\u8868\u6682\u65e0\u8bb0\u5f55</div>','<div class="eg-table-box"><div class="eg-table-hide"></div></div>',"</div>",'<div class="eg-scroll">',"<div></div>","</div>",'<div class="eg-line"></div>','<div class="eg-overlay"></div>',"</div>",'<div class="eg-tfoot"></div>','<div class="eg-loading-bg eg-loading-bg-over"></div>','<div class="eg-loading-box"><span>\u6b63\u5728\u52a0\u8f7d...</span></div>'];
c.innerHTML=d.join(""),b[0].parentNode.insertBefore(c,b[0]);var e=this.gridContainer=f(c).addClass(this.guid);this.isQm&&e.addClass("eg-container-qm"),this.gridTableBox=f(".eg-table-box",e);var g=this.gridBox=e.children(".eg-box");this.gridStyle=e.find(".eg-style").eq(0),this.gridHead=g.find(".eg-head").eq(0),this.gridBody=g.children(".eg-body").eq(0),this.gridOverlay=g.children(".eg-overlay").eq(0),this.gridHeadTable=this.gridHead.children(".eg-head-table").eq(0),this.gridLine=g.children(".eg-line").eq(0),this.gridScroll=g.children(".eg-scroll").eq(0),this.gridTfoot=e.children(".eg-tfoot").eq(0),this.gridEmpty=this.gridBody.children(".eg-empty").eq(0),this.loading=e.children(".eg-loading-bg").next().andSelf(),this.gridTableHide=f(".eg-table-hide",e).eq(0).append(b.addClass("eg-body-table")),a.ellipsis&&b.addClass("eg-ellipsis"),a.titleellipsis&&this.gridHeadTable.addClass("eg-ellipsis")},__theadClickEventBind:function(){var a=this.options,b=this.bindName,c=a.primarykey,d=this;this.gridHeadTable.on("click",function(e){e.stopPropagation();var g=f(e.target),h=g.attr("class");if("eg-select"!==h&&"eg-ittab"!==h)if(g.hasClass("eg-all-checkbox")){var i,j=d.domTr,k=d.multiChecked,l=d.selectedRowClass,m="eg-all-checkbox-checked",n=d.rowSize,o=g.hasClass(m),p=d.disabledIndex,q=0,r=d.data;if(o){for(var s=n;s--;)k[s]=!1,f(j[s]).removeClass(l);g.removeClass(m),d.multiCheckedNum=0}else{for(var t=n;t--;)i=r[t],i.hasOwnProperty(c)&&p[t]||(q++,k[t]=!0,f(j[t]).addClass(l));g.addClass(m),d.multiCheckedNum=q}var u=a.selectall_callback;if("function"==typeof u){var v=!o;u.call(d,v?d.data:[],v)}}else{var w=g.parents(".eg-sort");if(w.length&&"eg-thead-text"===h){var x=d.sortType,y=b[d._thIndex(w[0])],z=x[y],A="DESC"!==z?"DESC":"ASC";d._setOptsSortNameAndSoryType(y,A),d.persistence&&d._triggerStatusChange(),"noChange"===d.submit()&&d.loadData()}}})},_thIndex:function(a){var b=this.domTh,c=this.arrIndex;if(c)return c.call(b,a);for(var d=this.colSize;d--;)if(b[d]===a)return d;return-1},_setOptsSortNameAndSoryType:function(a,b){for(var c=this.query,d=this.options.sortstyle,e=c.sortName,f=c.sortType,g=d;g--;)if(a===e[g]){f.splice(g,1),e.splice(g,1);break}e.length===d&&(f.shift(),e.shift()),e.push(a),f.push(b),this._setSortTypeObj()},__theadMouseEventBind:function(){this.gridHeadTable.on("mouseover",function(a){var b=f(a.target),c=b.closest(".eg-fixed-s").eq(0);c.length&&c.parents("th").addClass("eg-thead-mouseover")}).on("mouseout",function(a){var b=f(a.target),c=b.closest(".eg-fixed-s").eq(0);c.length&&c.parents("th").removeClass("eg-thead-mouseover")})},__tbodyMouseEventBind:function(){function a(a){var b=!1;"multi"===o?b=k.multiChecked[a]:"single"===o&&(b=a===k.singleChecked),"function"==typeof l.rowclick_callback&&l.rowclick_callback.call(k,i,b,a)}var b,c,d,e,g,h,i,j,k=this,l=this.options,m=this.editType,n=l.rowdblclick_callback,o=l.selectrows,p="A;BUTTON;IMG";this.el.on("mouseover",function(a){var j,l,n,o;a.stopPropagation(),j=f(a.target).closest("td").eq(0),j.length&&j!==b&&(l=j.closest("tr").eq(0),l.closest("tbody").length&&(b=j,c=l,d=c[0].rowIndex-1,i=k.data[d],n=j[0].cellIndex,g=k.bindName[n],h=m[g],c.addClass("eg-tr-over"),e=b.hasClass("eg-editing"),e||(h&&(o=!0,b.addClass("eg-editable-td")),k._renderTitle(b,g,d,o))))}).on("mouseout",function(a){a.stopPropagation(),b&&(c.removeClass("eg-tr-over"),b.removeClass("eg-editable-td"),c=b=e=d=g=h=void 0)}).on("dblclick",function(a){a.stopPropagation(),"function"==typeof l.rowdblclick_callback&&b&&!h&&(clearTimeout(j),l.rowdblclick_callback.call(k,i,d))}),this.gridBody.on("click",function(c){var l,m,o=f(c.target);if(c.stopPropagation(),b){if(e)return;if(k.editObj&&k._destroyFormEle(),h)return void k.__startEdit(h,b,d,g);if(l=o.prop("tagName"),m=o.attr("clickid")||"",-1!==p.indexOf(l))return void(""!==m&&k.fixedFnClick[m](i,d));if("INPUT"===l)return;o.hasClass("eg-select-input")&&k._selectRows(d,void 0),n?(clearTimeout(j),j=setTimeout(function(){a(d)},300)):a(d)}k.editObj&&k._destroyFormEle()})},__tbodyKeyEventBind:function(){var a=this;f(document).on("keydown",function(b){var c,d=a.editObj;d&&9===b.keyCode&&(b.preventDefault(),a._destroyFormEle(),c=d.index,!a.__createNextEditObj(c,d.bindName)&&c+1<a.rowSize&&a.__createNextEditObj(c+1,a.bindName[0]))})},__createNextEditObj:function(a,b){var c,d,e,g,h,i=this.colSize,j=this.bindName,k=this.editType,l=this.gridTableBox;for(c=0;i>c;c++)if(d=j[c],e=k[d],e&&g){if(h=f(this.domTd[a][c]),this.__startEdit(e,h,a,d,!0))return this.gridScroll.scrollLeft(l.scrollLeft()+this.left),l.scrollLeft(0),!0}else d===b&&(g=!0)},_renderTitle:function(a,b,c,d){var e,g,h=this.options.titlerender;"number"==typeof b||a.attr("title")||(g=a.find(".eg-fixed-s"),g=g.length?g:null,"function"==typeof h?(e=h(this.data[c],b),e?a.attr("title",e):e=f.trim((g||a).text())):e=f.trim((g||a).text())),e&&(d&&(e+=" (\u70b9\u51fb\u7f16\u8f91)"),a.attr("title",e))},__startEdit:function(a,b,c,d,e){var g,h,i=this.options.editbefore;return"function"==typeof i&&(g=i(this.data[c],d),"object"===f.type(g)&&(h=g.uitype,g.uitype=h.charAt(0).toLowerCase()+h.slice(1),a=g)),g!==!1?(b.removeAttr("title"),this._createFormEle(b,a,c,d,e),!0):!1},_selectRows:function(a,b){var c=this.domTr,d=c[a],e=this.options,g=e.selectrows,h=this.selectedRowClass,i=f(d);if(!this.disabledIndex[a])if("multi"===g){var j=this.multiChecked,k=j[a];if(void 0===b)b=k!==!0;else if(b===k)return;if(j[a]=b,!d)return;b===!1?(i.removeClass(h),this.multiCheckedNum--,this.gridAllCheck.removeClass("eg-all-checkbox-checked")):(i.addClass(h),this.multiCheckedNum+=1,this.multiCheckedNum===this.rowSize&&this.gridAllCheck.addClass("eg-all-checkbox-checked"))}else if("single"===g){var l=this.singleChecked;if(this.singleChecked=l===a&&b===!1?0/0:a,!d)return;b===!1?i.removeClass(h):(isNaN(l)||f(c[l]).removeClass(h),i.addClass(h))}},__imitateScroll:function(){var a,b,c=this,d=c.guid,e=this.gridHeadTable[0],f=this.gridStyle[0],g=this.el[0],h=this.options.fixcolumnnumber;this.writeStyle?this.gridScroll.on("scroll",function(){a=c.left=this.scrollLeft,b!==a&&(b=a,f.innerHTML=['<style type="text/css">.',d," .eg-fixed .eg-fixed-s{left:",a,"px}.",d," .eg-body-table, .",d," .eg-head-table{margin-left:-",a,"px}</style>"].join(""))}):this.gridScroll.on("scroll",function(){if(a=c.left=this.scrollLeft,a+="px",b!==a){b=a;var d="-"+a;e.style.marginLeft=d,g.style.marginLeft=d;for(var f=c.domFixed,i=f.length;i--;)for(var j=f[i],k=h;k--;)j[k].style.left=a;for(var l=c.tdsPackage,m=0;h>m;m+=1)l[m].html=l[m].html.replace(/(style="left:)\d*?px/,"$1"+a)}}),this.gridBody.on("scroll",function(){c.editObj&&c._destroyFormEle()})},_resizeEventBind:function(){var a=this.options,b=this;(a.resizeheight||a.resizewidth)&&f(window).on("resize",function(){b.resize()})},resize:function(){var a=this.options,b=!1;try{var c=a.resizeheight();"number"==typeof c&&c>0&&this._setHeight(c)}catch(d){}try{var e=a.resizewidth();"number"==typeof e&&e>0&&(b=this.setWidth(e))}catch(d){}b&&this._setAutoHeight()},_setStyleWidth:function(){this.gridContainer.css("width",this.gridWidth),this.el.css("width",this.tableWidth),this.gridHeadTable.css("width",this.tableWidth)},_setStyleHeight:function(){this.gridContainer.css("height",this.gridHeight),this.gridHead.css("height",this.theadHeight),this.gridOverlay.css("height",this.theadHeight),this.gridBody.css("height",this.boxHeight)},_loading:function(a){this.options.loadtip&&(this.loading[a](),this.unRender&&"hide"===a&&this.gridContainer.find(".eg-loading-bg").removeClass("eg-loading-bg-over"))},_createPropertys:function(){this.__getTagsPropertys(),this._initEditType(),this.__initColWidth()},_createContent:function(){this.__renderHead(),this.__renderBody(),this._setColWidthStyle(),this.__packageTds(),this._colHidden(!0),this.ittab._init(this);var a=this.options;a.colhidden&&this.hideCol._init(this),a.colmove&&0===this.theadMap.length&&this.moveCol._init(this)},__getTagsPropertys:function(){var a,b=this.domTh,c=this.options,d=this.colSize,e=this.renderStyle,g=this.bindName,h=this.sort=[],i=this.theadText,j=this.colWidth,k=this.colRender,l=this.fixedFnClick,m=this.colHidden,n=this.disabled;for(a=0;d>a;a+=1){var o=b[a];j.push(o.style.width||o.getAttribute("width")||""),m[a]="true"===o.getAttribute("hide")||"none"===f(o).css("display"),n[a]=o.getAttribute("disabled"),o.removeAttribute("disabled");var p=o.getAttribute("renderStyle")||"",q=p.replace(/padding.+?(;|$)/,"").replace(/display\s*?:\s*?none\s*?(;|$)/,"")+";";e.push(q);var r=o.getAttribute("bindName")||"";g[a]=r,isNaN(this.numCol)&&r.length&&!isNaN(r-0)&&(this.numCol=a,g[a]=r-0,r=""),h[a]=""===r?!1:"true"===o.getAttribute("sort")||!1,i.push(o.innerHTML);var s=o.getAttribute("format"),t=c.colrender,u=o.getAttribute("render");if(k[a]=[],null!==s&&(/money/.test(s)?k[a][1]={format:Number(s.split("-")[1]||2),callback:this.formatFn.money}:/(dd|MM|yy)/i.test(s)&&(k[a][1]={format:s,callback:this.formatFn.date})),"function"==typeof t&&(k[a][0]={render:"colrenderFn",callback:t}),"string"==typeof u)if(new RegExp(u).test("a;button;image")){var v=o.getAttribute("options");if(null!==v)if(/{/.test(v))try{v=JSON.parse(v)}catch(w){v=new Function("return "+v+";")()}finally{"object"!=typeof v&&(v=void 0)}else v=window[v];if(v){var x=v.click;x="string"==typeof x?window[x]:x,v.click="function"==typeof x?l.push(x)-1:"",k[a][0]={render:"fiexdFn",method:u,options:v}}}else{var y=window[u];if(y){var z={format:s||void 0,render:y,renderStyle:p,text:i[a]};k[a][0]={render:"renderFn",colJson:z,callback:y}}}}var A=c.selectrows;("multi"===A||"single"===A)&&(g[0]=-1)},__initColWidth:function(){for(var a=this.gridWidth,b=this.tableWidth||a,c=this.colWidth,d=this.colWidthBackup,e=0,g=0,h=this.colSize,i=[],j=this.colSize;j--;){var k=c[j];d[j]=-1,""===k?(k=0,c[j]=200,i.push(j)):/%/.test(k)?(k=Math.round(b*parseInt(k,10)/100),c[j]=k):(k=parseInt(k,10),c[j]=k),e+=c[j],g+=k}var l=i.length,m=b-g;if(l>0&&m>l){for(var n=Math.round(m/l),o=0;l>o;o++)c[i[o]]=n;c[i[o-1]]+=m-n*l,this.tableWidth=b}else if(isNaN(this.tableWidth)&&e>=a)this.tableWidth=e;else{this.tableWidth||(this.tableWidth=a);for(var p=[],q=0,r=0,s=h;s--;){var t=Math.round(c[s]*b/e);q+=t,p[s]=t,r=s}p[r]+=b-q,this.colWidth=p}this.initColWidth=f.extend([],this.colWidth)},__renderHead:function(){var a,b,c,d,e=this.options,g=this.domTh,h=this.theadMap,i=this.theadMap.length,j=this.domHeadCol,k=this.domFixed[0]=[],l=this.theadText,m=this.colSize,n=e.fixcolumnnumber,o=this.options.colhidden,p=this.sort,q=document.createElement("tr"),r=e.titleellipsis,s=this.bindName,t=this.editType;if(q.className="eg-width-norm",i){var u=document.createElement("th");u.className="eg-empty-th",q.appendChild(u);for(var v=i-1;v--;)for(var w=h[v],x=w.length;x--;){var y=w[x];y.removeAttribute("width"),y.style.width=""}}for(b=0;m>b;b+=1){var z=j[b]=document.createElement("th");q.appendChild(z);var A=g[b];n>b&&f(A).addClass("eg-fixed"),p[b]&&f(A).addClass("eg-sort"),A.removeAttribute("width"),A.style.width="";var B=l[b],C=['<div class="eg-fixed-d">','<span class="eg-fixed-s'];if(a=t[s[b]],a&&(f(A).addClass("eg-editable"),a.validate))for(a=a.validate,c=0,d=a.length;d>c;c++)if("required"===a[c].type){B="<i>*</i>"+B;break}C.push('">'),p[b]&&C.push('<b class="eg-sort-icon-desc cui-icon">&#xf0d7;</b><b class="eg-sort-icon-asc cui-icon">&#xf0d8;</b>'),C.push('<a class="eg-thead-text'),r&&C.push('" title="',f.trim(B.replace(/<.*?>/g,""))),C.push('">',B,"</a>"),C.push(),o&&C.push('<a class="eg-select cui-icon">&#xf0b0;</a>'),C.push('<em class="eg-ittab"></em>'),C.push("</span>"),n>b&&!r&&C.push(B),C.push("</div>"),A.innerHTML=C.join("")}for(this.gridHeadTable.html(this.elCache.find("thead").eq(0).prepend(q)),this.elCache.parent().remove(),delete this.elCache,c=0;n>c;c+=1)g[c].getElementsByTagName("div")[0].style.zIndex=n+1-c,k.push(g[c].getElementsByTagName("span")[0]);var D=f(g[0]);if("multi"===e.selectrows){D.find(".eg-select").eq(0).remove(),D.find(".eg-fixed-s").addClass("eg-no-move");var E=f(g[0]).find(".eg-thead-text").addClass("eg-all-checkbox");E.html(E.text()+"<b></b>"),this.gridAllCheck=E}"single"===e.selectrows&&(D.find(".eg-select").eq(0).remove(),D.find(".eg-fixed-s").addClass("eg-no-move"))},__renderBody:function(){var a=this.el,b=this.colSize,c=this.domBodyCol,d=document.createElement("tr");d.className="eg-width-norm";for(var e=0;b>e;e+=1){var f=c[e]=document.createElement("th");d.appendChild(f)}a.html("<thead></thead><tbody></tbody>"),a.find("thead").append(d),this.gridTbody=a.find("tbody").eq(0)},__packageTds:function(){var a=this.options,b=a.fixcolumnnumber,c=this.renderStyle,d=a.selectrows,e=this.selectrowsClass={no:"",multi:"eg-checkbox",single:"eg-radio"}[d],f=this.colSize,g="";this.writeStyle||(g="left:0px;");var h=[],i=0;if(""!==e){i+=1;var j=h[0]={};b>0?(j.html=['<div class="eg-fixed-d" style="z-index:',b+1,';"><span class="eg-fixed-s ',e,'" style="',g,c[0],'/**/">',"</span></div>"].join(""),j.style=""):(j.style=c[0],j.className=e)}for(var k=i;f>k;k+=1){var l=h[k]={};b>k?(l.html=['<div class="eg-fixed-d" style="z-index:',b+1-k,';"><span class="eg-fixed-s" style="',g,c[k],'/**/"><!---->',"</div>"].join(""),l.style=""):l.style=c[k]}this.tdsPackage=h},_setColWidth:function(a){for(var b=this.initColWidth,c=this.colHidden,d=this.tableWidth,e=this.colSize,f=0,g=e;g--;)c[g]===!1&&(f+=b[g]);for(var h=[],i=0,j=0,k=e;k--;)if(c[k]===!1){var l=Math.round(b[k]*d/f);i+=l,h[k]=l,j=k}else h[k]=0;h[j]+=d-i,this.colWidth=h,this._setColWidthStyle(),a&&this._isScrolling(!0)},_setColWidthStyle:function(a){var b,c=this.colWidth,d=this.domHeadCol,e=this.domBodyCol,f=this.colSize,g="";if("number"==typeof a)b=c[a]-1+"px",d[a].style.width=b,e[a].style.width=b;else for(;f--;)g=0===c[f]?0:c[f]-1+"px",d[f].style.width=g,e[f].style.width=g},_colHidden:function(a){for(var b=this.rowSize,c=this.domTh,d=this.domTd,e=this.tdsPackage,f=this.domHeadCol,g=this.domBodyCol,h=this.colHidden,i=this.colWidth,j=this.colWidthBackup,k=this.tableWidth,l=this.theadMap,m=this.extendTh,n=null,o=null,p=this.colSize;p--;)if(h[p]===!0){if(-1===j[p]||a){if(f[p].style.display="none",o=c[p],l.length)for(var q=l.length;q--;)m[q][p]||(n=l[q][p],n.colSpan>1?n.colSpan--:n.style.display="none");else o.style.display="none";for(var r=b;r--;)d[r][p].style.display="none";g[p].style.display="none",e[p].style+="display:none;",j[p]=i[p],k-=i[p],i[p]=0}}else if(-1!==j[p]){if(f[p].style.display="",o=c[p],l.length)for(var s=l.length;s--;)m[s][p]||(n=l[s][p],"none"===n.style.display?n.style.display="":n.colSpan+=1);else o.style.display="";for(var t=b;t--;)d[t][p].style.display="";g[p].style.display="",e[p].style=e[p].style.replace(/display.*?($|;)/g,""),i[p]=j[p],k+=j[p],j[p]=-1}this.options.adaptive?this.isIttab=!1:this.tableWidth=k,this._setLayout(),this.persistence&&!a&&this._triggerStatusChange()},_triggerStatusChange:function(){var a,b,c,d=this.options,e=this.query,f=this.colWidth,g=this.colWidthBackup,h=this.colHidden,i=this.colIndex,j=!d.adaptive,k=0===this.theadMap.length&&d.colmove,l=0,m=[];for(b=this.colSize;b--;)h[b]?(f[b]=g[b],m[b]=1):m[b]=0,l+=f[b];c={hide:h,sortName:e.sortName,sortType:e.sortType,overall:l},window.JSON&&JSON.stringify?(k&&(c.index=i),j&&(c.width=f),a=JSON.stringify(c)):a=["{",k?['"index":[',i.join(","),"],"].join(""):"",j?['"width":[',f.join(","),"],"].join(""):"",'"hide":[',m.join(","),"],",'"sortName":["',e.sortName.join('","'),'"],','"sortType":["',e.sortType.join('","'),'"],','"overall":',l,"}"].join(""),this.options.onstatuschange(a)},_isScrolling:function(a){var b=this.el,c=this.gridWidth+2,d=this.tableWidth,e=this.boxHeight,f=b.height(),g=this.gridScroll;this.options.adaptive&&!this.isIttab?(f>e?d=this.tableWidth=c-17:(this.tableWidth=c,d=c+1),b.css("width",d),this.gridHeadTable.css("width",d),g.css("left","-999999px"),a||(this._setColWidth(!0),this._setLayout(!0))):(f>e&&c>=d+17&&(this.gridTableHide.css("marginBottom",0),g.css({left:"-999999px",width:c-17})),d>c&&e>=f+17&&(g.css({width:c,left:0,bottom:""}),g.css("bottom",0),this.gridTableHide.css("marginBottom",17)),(d+17>c&&f>e||d>c&&f+17>e)&&(g.css({width:c-17,left:0,bottom:""}),g.css("bottom",0),this.gridTableHide.css("marginBottom",17)),e>=f&&c>=d&&(this.gridTableHide.css("marginBottom",0),g.css({left:"-999999px",width:c}))),g.find("div").eq(0).css("width",d),clearTimeout(this.sc),this.sc=setTimeout(function(){g.scroll()},10)},_setAutoHeight:function(){var a,b;if(this.autoHeight){a=this.gridTableBox,b=28;var c=parseInt(a.css("marginBottom"),10)||1,d=Math.max(a.height()||this.rowSize*b,50);this._setHeight(d+c+this.theadHeight+(this.options.pagination&&this.rowSize?41:0)+2)}},_setLayout:function(a){this.editObj&&this._destroyFormEle(),this._setStyleWidth(),(this.options.fixcolumnnumber||!this.options.titleellipsis)&&this._setTheadHeight(),this._setStyleHeight(),a||this._isScrolling(),this._setAutoHeight()},_setTheadHeight:function(){this.gridHead.css("height","auto");var a=this.theadHeight=this.gridHead.height(),b=this.domFixed[0],c=this.isQm;this.boxHeight=this.gridHeight-this.paginationHeight-a-1,this.gridOverlay.css("height",a);for(var d=b.length;d--;){var e=b[d],g=f(e).parent(),h=parseInt(g.parent().height(),10),i=parseInt((h-(g.height()||21))/2,10);i=0>i?0:i,e.style.paddingTop=i+"px",e.style.height=h-(c?0:i+1)+"px"}},setConfig:function(a){this.persistence&&this.unRender&&this._setPersistence(a),this.options.datasource(this,this.getQuery())},setDatasource:function(a,b,c){this.editObj&&this._destroyFormEle(),this.persistence&&this.unRender&&"string"==typeof c&&this._setPersistence(c),a=a||[],b=b||0,this.rowSize=a.length,this.data=f.extend(!0,[],a),this.options.pagination&&(this.totalSize=b,this.unRender?this.__createPagination():this._changepages()),this._isEmpty(),this._initProperty(),this._renderTbody(0/0,0/0),this.autoHeight&&"function"==typeof this.options.resizewidth?this.resize():this._setLayout(),this._loading("hide"),this._loadCompleteCallBack(),this.__setSortStyle(),delete this.unRender},_setPersistence:function(a){var b,c,d,e,g,h,i,j=this.options,k=this.colSize,l=this.bindName,m=this.editType;if("string"==typeof a){try{b=f.parseJSON(a)}catch(n){}if(b){if(b.overall&&(this.tableWidth=b.overall,this.gridHeadTable.css("width",this.tableWidth)),c=b.index,0===this.theadMap.length&&j.colmove&&"object"==typeof c&&k===c.length&&(this.colIndex=c,this._sortPropertys(c)),this._createPropertys(),d=b.sortName,e=b.sortType,"array"===f.type(d)&&"array"===f.type(e)&&this.setQuery({sortName:d,sortType:e}),g=b.hide,"object"==typeof g&&k===g.length){for(i=0;k>i;i++)g[i]=m[l[i]]?!1:!!g[i];this.colHidden=g}h=b.width,j.adaptive||"object"!=typeof h||k!==h.length||(this.colWidth=h)}else this._createPropertys()}else this._createPropertys();this._createContent()},_sortPropertys:function(a){var b,c,d,e,f=this.colSize;for(c=this.domTh,d=[],b=c[0].parentNode,e=0;f>e;e++)d[e]=c[a[e]],b.appendChild(d[e]);this.domTh=d},_isEmpty:function(){var a=this.options,b=this.rowSize;if(0===b){this.gridEmpty.show(),this.gridTfoot.hide(),this.paginationHeight=0;var c=this;setTimeout(function(){c.gridTableBox.hide()},10)}else this.gridEmpty.hide(),this.gridTableBox.show(),a.pagination&&(this.gridTfoot.show(),this.paginationHeight=41);this.boxHeight=this.gridHeight-this.paginationHeight-this.theadHeight},_initProperty:function(){var a=this;setTimeout(function(){a.gridBody[0].scrollTop=0},1),this.gridTableBox.removeAttr("style"),this.domTr=[],this.domTd=[],this.domFixed.length=1,this.multiChecked=[],this.multiCheckedNum=0,this.singleChecked=0/0,this.disabledIndex=[],this.odd=!1,this.renderComplete=!1,this.gridAllCheck&&this.gridAllCheck.removeClass("eg-all-checkbox-checked"),this.gridTbody.html(""),this.editObj=null,this.changeEditData={insertData:{},updateData:{},deleteData:[]},this.insertId=0,this.validateState={insert:{},update:{}},this.isChanged=!1,this.dataBackup={}},loadData:function(){this._loading("show"),this.options.datasource(this,this.getQuery())},_addData:function(a,b){"object"===f.type(a)&&(a=[a]);var c=this.options,d=this.disabledIndex,e=a.length;if(0!==e){if(a=f.extend(!0,[],a),this.unRender)return void this.setDatasource(a);var g=c.selectrows;"number"==typeof b&&b<this.rowSize?(this._spliceArray(this.data,b,a),c.primarykey&&d.length&&this._spliceArray(d,b,new Array(e)),"multi"===g?this._spliceArray(this.multiChecked,b,new Array(e)):"single"===g&&b<this.singleChecked&&(this.singleChecked+=e)):this.data=this.data.concat(a),this.rowSize+=e,this._isEmpty(),this._renderTbody(e,b),this.paginationObj&&this._changepages(),this.autoHeight&&"function"==typeof c.resizewidth?this.resize():this._setLayout()}},__createPagination:function(){var a=this.options,b=this.query;if(a.pagination){var c=this;window.cui(this.gridTfoot).pagination({count:this.totalSize,pagesize:b.pageSize,pageno:b.pageNo,pagesize_list:a.pagesize_list,tpls:{pagination:a.pagination_model},cls:a.pagination_model,on_page_change:function(a,d){var e=c.submit();return"fail"===e?(c._changepages(),!1):(b.pageNo=a,b.pageSize=d,"noChange"===e&&c.loadData(),void c._changepages())}}),this.paginationObj=window.cui(this.gridTfoot)}},_changepages:function(){var a=this.query;this.paginationObj.setInitData({count:this.totalSize,pagesize:a.pageSize,pageno:a.pageNo}),this.paginationObj.reDraw()},_spliceArray:function(a,b,c){return Array.prototype.splice.apply(a,[b,0].concat(c)),a},_renderTbody:function(a,b){var c=this.data,d=this.rowSize,e=d-a,f=this.gridTbody[0];if(0===d)return void(this.renderComplete=!0);if(this.renderComplete=!1,isNaN(a))this._appendRows(0,d);else{if(this.gridAllCheck&&this.gridAllCheck.removeClass("eg-all-checkbox-checked"),"number"==typeof b&&e>b){for(var g=this._dataToDom(c,b,b+a),h=g.domTr,i=this.domTr,j=i[b],k=b;e>k;k+=1)i[k].removeAttribute("index");this._spliceArray(this.domTr,b,h),this._spliceArray(this.domTd,b,g.domTd),this._spliceArray(this.domFixed,b+1,g.domFixed);for(var l=0;a>l;l+=1)f.insertBefore(h[l],j);this._setOddEven(b),this._setNum(b)}else this._appendRows(e,d);this._setAutoHeight()}},_loadCompleteCallBack:function(){var a=this.options.loadcomplete_callback;"function"==typeof a&&a.call(this,this)},__setSortStyle:function(){var a,b,c,d,e=this.query,g=e.sortType,h=e.sortName,i=h.length,j=this.bindName,k=this.domTh,l={DESC:"desc",ASC:"asc"};a:for(b=this.colSize;b--;)for(d=j[b],c=f(k[b]),a=0;i>a;a++)if(h[a]===d){c.find("b").hide(),c.find(".eg-sort-icon-"+l[g[a]].toLocaleLowerCase()).show();continue a}},_dataToDom:function(b,c,d,e){for(var g=this.options,h=this.oddEvenClass,i=g.oddevenrow,j=g.ellipsis,k=this.colSize,l=this.domTh,m=this.tdsPackage,n=this.bindName,o=g.fixcolumnnumber,p=this.numCol,q=this.colRender,r=g.rowstylerender,s=g.colstylerender,t="function"==typeof r,u="function"==typeof s,v=this.renderMethod,w=this.heightLight,x=""!==this.selectrowsClass?1:0,y=this.odd,z=g.primarykey,A=this.createDomBox,B=["<table>"],C=c;d>C;C+=1){B.push('<tr class="'),i&&(y&&B.push(h),y=!y),w[C]&&B.push(" eg-highlight"),B.push('"');var D=b[C];if(D.hasOwnProperty(z)&&(B.push(' pkey="'),B.push(String(D[z])),B.push('"')),t){var E=r(D);"string"==typeof E&&B.push(' style="',E,'"')}if(B.push(">"),1===x){var F=m[0];B.push('<td class="eg-select-input '),o>0?(B.push("eg-fixed"),B.push('" style="',F.style,'">',F.html,"</td>")):(B.push(F.className),B.push('" style="',F.style,'"></td>'))}for(var G="",H="",I="",J="",K="",L=null,M=null,N=null,O=null,P=x;o>P;P+=1){I=n[P],J=p===P?C+I:I?D[I]:"";var Q="",R="";if(L=q[P],M=L[0],N=L[1],N&&(J=N.callback(J,N.format)||J),M)switch(K=M.render,R=M.method,K){case"colrenderFn":J=M.callback(D,I)||J;break;case"renderFn":O=M.colJson,O.el=l[P],O.bindName=I,J=M.callback(D,"undefined"==typeof e?C:e,O)||J;break;case"fiexdFn":J=v[R](D,M.options,J)||J}Q="button"===R||j?[J,"</span>"].join(""):[J,"</span>",J].join(""),G=m[P];var S=G.html.replace("<!---->",Q);B.push('<td class="eg-fixed" style="',G.style,'">'),u&&(H=s(D,I),"string"==typeof H&&(S=S.replace("/**/",H))),B.push(S,"</td>")}for(;k>P;P+=1){if(I=n[P],G=m[P],J=p===P?C+I:I?D[I]:"",L=q[P],M=L[0],N=L[1],N&&(J=N.callback(J,N.format)||J),M)switch(K=M.render){case"colrenderFn":J=M.callback(D,I)||J;break;case"renderFn":O=M.colJson,O.el=l[P],O.bindName=I,J=M.callback(D,"undefined"==typeof e?C:e,O)||J;break;case"fiexdFn":J=v[M.method](D,M.options,J)||J}var T=G.style;u&&(H=s(D,I),"string"==typeof H&&(T+=";"+H));var U=this.options.edittype[I]||{};if(U.uitype&&"input"===U.uitype.toLowerCase()&&null!==J&&void 0!==J){var V;switch(J+="",U.mask){case"Int":V=f.extend({prefix:"",separator:","},U.maskoptions),J=a.Number.money(J,0,V);break;case"Dec":V=f.extend({prefix:"",separator:",",precision:null},U.maskoptions),J=a.Number.money(J,V.precision,V);break;case"Money":V=f.extend({prefix:"",separator:",",precision:2},U.maskoptions),J=a.Number.money(J,V.precision,V)}}B.push('<td style="',T,'">',J,"</td>")}B.push("</tr>")}this.odd=y,B.push("</table>"),A.innerHTML=B.join("");for(var W=[],X=[],Y=[],Z=A.getElementsByTagName("table")[0],$=0,_=d-c;_>$;$+=1){var ab=Z.rows[$];W.push(ab);for(var bb=[],cb=[],db=0;k>db;db+=1){var eb=ab.cells[db];bb.push(eb),o>db&&cb.push(eb.getElementsByTagName("span")[0])}X.push(bb),Y.push(cb)}return{domTd:X,domTr:W,domFixed:Y}},_appendRows:function(a,b){var c=this._dataToDom(this.data,a,b);this.domTr=this.domTr.concat(c.domTr),this.domTd=this.domTd.concat(c.domTd),this.domFixed=this.domFixed.concat(c.domFixed);for(var d=this.domTr,e=this.gridTbody[0],f=a;b>f;f+=1)e.appendChild(d[f]);this.renderComplete=!0,this._setAutoHeight()},_setOddEven:function(a){var b=this.options;if(b.oddevenrow)for(var c=this.domTr,d=this.rowSize,e=this.oddEvenClass,g=this.odd=a%2===0,h=a;d>h;h+=1)g?f(c[h]).removeClass(e):f(c[h]).addClass(e),g=!g},_setNum:function(a){if(!isNaN(this.numCol)){var b=this.domTd,c=this.domFixed,d=this.numCol,e=this.bindName[d],f=a,g=this.rowSize;if(this.options.fixcolumnnumber>d)for(;g>f;f+=1){var h=c[f+1][d],i=f+e;h.innerHTML=i,h.nextSibling.nodeValue=i}else for(;g>f;f+=1)b[f][d].innerHTML=f+e}},hideCols:function(a){if("object"===f.type(a)){for(var b,c,d=this.colHidden,e=this.colSize,g=this.bindName,h=this.editType,i=0;e>i;i+=1)b=g[i],c=a[b],h[b]?d[i]=!1:"boolean"==typeof c&&(d[i]=c);this._colHidden(!1)}},getQuery:function(){var a=f.extend(!0,{},this.query),b=this.customQuery;return b?(b.pageSize=a.pageSize,b.pageNo=a.pageNo,b.sortName=f.extend([],a.sortName),b.sortType=f.extend([],a.sortType),b):a},setQuery:function(a){"object"==typeof a&&(this.customQuery=a),a=a||this.backupQuery;var b=this.options.sortstyle,c=this.query;"number"==typeof a.pageSize&&(c.pageSize=a.pageSize),"number"==typeof a.pageNo&&(c.pageNo=a.pageNo),"array"===f.type(a.sortName)&&(c.sortName=f.extend([],a.sortName),c.sortName.length>b&&(c.sortName.length=b)),"array"===f.type(a.sortType)&&(c.sortType=f.extend([],a.sortType),c.sortType.length>b&&(c.sortType.length=b)),this._setPageSize(),this._setSortTypeObj()},_setHeight:function(a){return"number"!=typeof a||a-2===this.gridHeight?!1:(a-=2,this.boxHeight-=this.gridHeight-a,this.gridHeight=a,this._setLayout(),this.options.colhidden&&this.hideCol.hideCol&&this.hideCol.hideCol.blur(),!0)},setHeight:function(a){this.autoHeight=!this._setHeight(a)},setWidth:function(a){if("number"!=typeof a||a-2===this.gridWidth)return!0;var b=this.ittab;b&&b.ittabActive||(a-=2,this.options.adaptive&&(this.tableWidth=a-17,this.isIttab=!1),this.gridWidth=a,this._setLayout(),this.options.colhidden&&this.hideCol.hideCol&&this.hideCol.hideCol.blur())},setHighLight:function(a,b){var c=this._pkToIndex(a,!1)[0];void 0!==c&&(b!==!1?f(this.domTr[c]).addClass("eg-highlight"):f(this.domTr[c]).removeClass("eg-highlight"),this.heightLight[c]=b!==!1)},_selectRowsByIndex:function(a,b){b=b!==!1;var c,d,e=this.options,f=e.selectrows,g=this.data,h=[],i=this.disabledIndex;if("no"===f||a>=this.rowSize)return[];if(b!==!1&&(b=!0),"number"==typeof a&&(a=[a]),"single"===f)c=a[0],c>-1&&!i[c]&&(this._selectRows(c,b),h.push(g[c]));else for(var j=0,k=a.length;k>j;j+=1)d=a[j],i[j]||(this._selectRows(d,b),h.push(g[d]));return h},_pkToIndex:function(a,b){var c=this.data,d=this.rowSize,e=this.options.primarykey;if(void 0===a)return[];"array"!==f.type(a)&&(a=[a]);for(var g=a.length,h=[],i=0;g>i;i+=1){for(var j=a[i]+"",k=!1,l=d;l--;)if(c[l][e]+""===j){h.push(l),k=!0;break}!k&&b&&h.push(-1)}return h},selectRowsByPK:function(a,b){var c=this.options;return-1!=="array string number".indexOf(f.type(a))&&"no"!==c.selectrows&&this.rowSize?this._selectRowsByIndex(this._pkToIndex(a,!0),b):[]},selectRowsByIndex:function(a,b){return this._selectRowsByIndex(a,b)},disableRows:function(a,b){this.editObj&&this._destroyFormEle();var c,d,e,g,h,i,j=this.options,k=f.type(a),l=this.disabledIndex;if(-1!=="array string number".indexOf(k)&&"no"!==j.selectrows&&this.rowSize)for(b=void 0===b?!0:b,b&&this.selectRowsByPK(a,!1),c=this._pkToIndex(a,!1),h=this.domTr,e=0,g=c.length;g>e;e++)d=c[e],i=f(h[d]),b?i.addClass("eg-disable-row"):i.removeClass("eg-disable-row"),l[d]=b},_removeRow:function(a){var b=this.data,c=b[a];return this.data.splice(a,1),f(this.domTr[a]).remove(),this.domTr.splice(a,1),this.domTd.splice(a,1),this.multiChecked.splice(a,1),this.disabledIndex.splice(a,1),this.singleChecked>a&&this.singleChecked--,this.domFixed.splice(a+1,1),c},_removeData:function(a){if("number"==typeof a||"array"===f.type(a)){"number"==typeof a&&(a=[a]),a.sort(function(a,b){return a-b});for(var b=a.length,c=[],d=this.singleChecked,e=this.multiChecked,g=this.options,h=g.selectrows,i=0;b>i;i+=1){var j=a[i]-i,k=this.rowSize;if(isNaN(j)||j>=k){a[i]=0;break}this.rowSize=k-1,"multi"===h?e[j]===!0&&this.multiCheckedNum--:"single"===h&&d===j&&(this.singleChecked=0/0);var l=this._removeRow(j);l&&c.push(l)}var m=this.rowSize;if(0>=m)this.query.pageNo>1&&(this.query.pageNo-=1),this.rowSize=0,this._isEmpty();else{"multi"===g.selectrows&&(this.multiCheckedNum===m?this.gridAllCheck.addClass("eg-all-checkbox-checked"):this.gridAllCheck.removeClass("eg-all-checkbox-checked"));for(var n=this.domTr,o=this.rowSize;o--;)n[o].removeAttribute("index");var p=a[0]-0;this._setOddEven(p),this._setNum(p)}this.autoHeight&&"function"==typeof this.options.resizewidth?this.resize():this._setLayout()}},_changeValue:function(a,b){if("object"===f.type(a)){var c,d,e,g,h,i,j,k=this.options,l=k.primarykey,m=a[l],n=this.bindName,o=k.fixcolumnnumber;if(void 0===b&&(b=this._pkToIndex(m,!1)[0]),!(0>b||b>=this.rowSize)){g=this.domTd[b],h=f.extend({},this.data[b]);for(var p in a)c=a[p],h.hasOwnProperty(p)&&void 0!==c&&c!==h[p]&&("object"===f.type(c)?(h[p]=c.value,a[p]=c.text):h[p]=c);a=f.extend({},h,a),d=this._dataToDom([a],0,1),e=d.domTd[0],this.odd=!this.odd;for(var p=this.colSize;p--;)if(i=n[p],this.data[i]!==a[i])if(j=f(g[p]),j.removeAttr("title"),o>p){if("number"!=typeof i){var q=j.find(".eg-fixed-s")[0],r=f(e[p]).find(".eg-fixed-s")[0].innerHTML;q.innerHTML=r,q.nextSibling.nodeValue=r}}else"number"!=typeof i&&j.html(e[p].innerHTML);this.data[b]=a}}},getData:function(){return this.editObj&&this._destroyFormEle(),f.extend(!0,[],this.data)},getSelectedRowData:function(){this.editObj&&this._destroyFormEle();var a=this.options.selectrows;if("no"===a)return[];var b=this.data;if("single"===a)return isNaN(this.singleChecked)?[]:[b[this.singleChecked]];if(this.multiCheckedNum===this.rowSize)return this.data;for(var c=this.multiChecked,d=this.rowSize,e=[],f=0;d>f;f+=1)c[f]&&e.push(b[f]);return e},getSelectedPrimaryKey:function(){this.editObj&&this._destroyFormEle();var a,b=this.options,c=b.selectrows,d=b.primarykey,e=this.getSelectedRowData(),f=e.length;if("no"===c||!f)return[];for(var g=[],h=0;f>h;h+=1)a=e[h][d],void 0!==a&&g.push(e[h][d]);return g},getSelectedIndex:function(){this.editObj&&this._destroyFormEle();var a=this.options.selectrows;if("no"===a)return[];if("single"===a)return[this.singleChecked];for(var b=this.multiChecked,c=this.rowSize,d=[],e=0;c>e;e+=1)b[e]&&d.push(e);return d},getRowsDataByPK:function(a){this.editObj&&this._destroyFormEle();var b=this.options.primarykey,c=this.data;"array"!==f.type(a)&&(a=[a]);for(var d=a.length,e=[],g=0;d>g;g+=1)for(var h=a[g],i=this.rowSize;i--;)if(c[i][b]===h){e.push(c[i]);break}return e},getRowsDataByIndex:function(a){this.editObj&&this._destroyFormEle();
var b=this.data;if("number"==typeof a)return[b[a]];if("array"===f.type(a)){for(var c=a.length,d=[],e=0;c>e;e+=1){var g=b[a[e]];g&&d.push(g)}return d}},_switchCol:function(a,b){var c=this.domHeadCol,d=this.domBodyCol,e=this.domTd,g=this.domTh,h=this.domFixed,i=this.domTr,j=this.options.fixcolumnnumber,k=this.numCol;this._switchArrayValue(this.bindName,a,b),this._switchArrayValue(this.colIndex,a,b),this._switchArrayValue(this.theadText,a,b),this._switchArrayValue(this.renderStyle,a,b),this._switchArrayValue(this.colRender,a,b),this._switchArrayValue(this.colWidth,a,b),this._switchArrayValue(this.initColWidth,a,b),this._switchArrayValue(this.colWidthBackup,a,b),this._switchArrayValue(this.colHidden,a,b),this._switchArrayValue(this.tdsPackage,a,b),isNaN(k)||(a===k?this.numCol=b-(a>b?0:1):a>k&&k>=b?this.numCol=k+1:k>a&&b>k&&(this.numCol=k-1));var l=null,m=this.rowSize,n=this.hideCol,o=n.domA,p=n.gridHidecolList;if(b===this.colSize){var q=f(g[a]);q.appendTo(q.parent());var r=f(d[a]);r.appendTo(r.parent());var s=f(c[a]);for(s.appendTo(s.parent());m--;)l=e[m],i[m].appendChild(l[a]),this._switchArrayValue(l,a,b);p&&p.appendChild(""!==this.selectrowsClass?o[a-1]:o[a])}else{for(f(g[a]).insertBefore(g[b]),f(d[a]).insertBefore(d[b]),f(c[a]).insertBefore(c[b]);m--;)l=e[m],i[m].insertBefore(l[a],l[b]),this._switchArrayValue(l,a,b);p&&(""!==this.selectrowsClass?p.insertBefore(o[a-1],o[b-1]):p.insertBefore(o[a],o[b]))}if(this._switchArrayValue(g,a,b),j>a||j>b){var t=Math.min(a,b),u=Math.max(a,b);j++;for(var v=0,w=this.rowSize+1;w>v;v++){this._switchArrayValue(h[v],a,b);for(var x=t;u>=x;x++)f(h[v][x]).parent().css("zIndex",j-x)}}this._switchArrayValue(d,a,b),this._switchArrayValue(c,a,b),this.persistence&&this._triggerStatusChange()},_switchArrayValue:function(a,b,c){a.length<c&&(a[c]=void 0),b>c?a.splice(c,0,a.splice(b,1)[0]):a.splice(c-1,0,a.splice(b,1)[0])},ittab:{ittabActive:!1,_init:function(a){var b=this,c=a.gridOverlay,d=a.gridLine,e=[],g=0,h=0,i=!0,j=0/0,k=a.options.adaptive;a.gridHeadTable.find(".eg-ittab").show(),a.gridHeadTable.on("mousedown",function(b){var k=b.target;if(h=0,"eg-ittab"===k.className){e=a.colWidth,j=a._thIndex(f(k).parents("th")[0]),c.show().css("cursor","col-resize");var l=c.offset().left;g=b.pageX-l,d.show().css("left",g),i=!1,c.off("mousemove").on("mousemove",function(a){return a.stopPropagation(),h=a.pageX-l,e[j]+h-g<24&&(h=24+g-e[j]),d.css("left",h),!1})}return!1}),c.on("mouseup mouseout",function(){if(!i&&!isNaN(j)&&(i=!0,f(this).hide(),d.hide(),0!==h)){var c=h-g;a.isIttab=!0,a.colWidth[j]=e[j]+c,a.tableWidth=a.tableWidth+c,b.ittabActive=!0,a._setColWidthStyle(k?void 0:j),a.persistence&&a._triggerStatusChange(),a._setLayout(),b.ittabActive=!1,g=h=0,j=0/0}})}},hideCol:{_init:function(a){var b,c=this.hideCol=document.createElement("div"),d=a.theadHeight,e=0;c.className="eg-hidecol",c.style.top=d+"px",c.tabIndex="1",a.gridContainer.append(c),c=f(c);var g=a.colSize,h=a.theadText,i=a.bindName,j=a.editType||{},k="",l=a.disabled,m=0;""!==a.selectrowsClass&&(m+=1);for(var n=['<div class="eg-hidecol-list" hidefocus="true" >'];g>m;m+=1)k=f.trim(h[m].replace(/<.*?>/g,"")),j[i[m]]||l[m]?(b=' class="eg-hidecol-hide" banHide="true">',e++):b=">",n.push('<a href="javascript:;" hidefocus="true" title=',k,b,k,"</a>");n.push("</div>",'<div class="eg-hidecol-button">','<a href="javascript:;" hidefocus="true" class="cui-button blue-button eg-hidecol-confirm">\u786e\u5b9a</a>','<a href="javascript:;" hidefocus="true" class="cui-button red-button eg-hidecol-cancel">\u53d6\u6d88</a>',"</div>"),c.html(n.join("")),this.gridHidecolList=c.find(".eg-hidecol-list")[0],this.domA=this.gridHidecolList.getElementsByTagName("a"),this.bindEvent(a,c),this.ban=e},bindEvent:function(a,b){function c(){for(var a=l;h>a;a+=1)o[a]?f(n[a-l]).addClass("eg-hidecol-nochecked"):f(n[a-l]).removeClass("eg-hidecol-nochecked")}{var d,e,g=this,h=a.colSize,i=a.gridBox,j=null,k=!1,l=0,m=-1,n=this.domA;document.createElement("span")}""!==a.selectrowsClass&&(l+=1),a.gridHeadTable.on("click",function(o){var p=f(o.target);if(d=i.offset().left,e=d+a.gridWidth/2,p.hasClass("eg-select")){j&&b.blur(),j=p.parents("th").addClass("eg-thead-select");var q=p.offset().left,r=q-d+2;q>e&&(r-=126);var s=Math.max(a.boxHeight+a.paginationHeight-50,60);28*(h-g.ban)>s?b.children(".eg-hidecol-list").css("height",s):b.children(".eg-hidecol-list").css("height",""),b.css({left:r,top:a.theadHeight}).show().focus().attr("hidefocus","true"),c();var t=a._thIndex(j[0])-l;f(n[m]).removeClass("eg-hidecol-disabled"),f(n[t]).addClass("eg-hidecol-disabled"),m=n[t].getAttribute("banHide")?-1:t,k=!1}else f(b).blur()}),b.on("blur",function(){return k?void b.focus():(j&&j.removeClass("eg-thead-select"),void f(b).hide())}),b.on("mouseover",function(){k=!0}),b.on("mouseout",function(){k=!1});var o=a.colHidden;b.on("click",function(b){var d=f(b.target);if(d.hasClass("eg-hidecol-confirm")){for(var e=l;h>e;e+=1)o[e]=f(n[e-l]).hasClass("eg-hidecol-nochecked");return k=!1,a._colHidden(!1),f(this).blur(),!1}return d.hasClass("eg-hidecol-cancel")?(c(),k=!1,f(this).blur(),!1):"A"===d.prop("tagName")?(d.hasClass("eg-hidecol-disabled")||d.toggleClass("eg-hidecol-nochecked"),!1):void this.focus()}),setTimeout(c,100)}},moveCol:{_init:function(a){var b=f("<div></div>"),c=f("<div></div>"),d=a.gridHeadTable.addClass("eg-col-move");b.addClass("eg-col-move-insert"),c.addClass("eg-col-move-tag"),a.gridHead.append(c).append(b);var e=a.options,g=a.gridOverlay,h=e.fixcolumnnumber,i=a.selectrowsClass,j=null,k=0,l=[],m=[],n=0/0,o=0/0,p=!1,q=!0;d.on("mousedown",function(r){var s=f(r.target);if(s.hasClass("eg-fixed-s")&&!s.hasClass("eg-no-move")){e.colhidden&&a.hideCol.hideCol.blur(),q=!1,j=a.colHidden;var t=a.colWidth,u=a.colSize,v=a.domTh,w=a.domFixed[0],x=Math.round(d.offset().left),y=a.gridScroll[0].scrollLeft,z=0,A=a.theadHeight,B=s.parent().parent();n=a._thIndex(B[0]),k=0,l=[],m=[];var C=0,D=null,E=0,F=0;if(h>n){for(p=!0;h>C;C+=1)D=t[C],k+=D,E=Math.round(f(w[C]).offset().left)-x-y,j[C]===!0&&(E=-100),l.push(E),m.push(E),j[C]||(m[C]=E+D/2);l.push(k-y),m.push(k-y-1),i&&(l[0]=m[0]=-100),F=l[n]-1}else{for(p=!1,C=h;u>C;C+=1)D=t[C],E=Math.round(f(v[C]).offset().left)-x-y,j[C]===!0&&(E=-100),l.push(E),m.push(E),j[C]||(m[C-h]=E+D/2);l.push(a.tableWidth-y),m.push(a.tableWidth-y-1),0===h&&i&&(l[0]=m[0]=-100),F=l[n-h]-1}c.show().css({left:F,width:B.width(),height:A-1,lineHeight:A-1+"px"}).html(s.find(".eg-thead-text").eq(0).html()),b.show().css("height",A-5),g.show().css("cursor","move");var G=r.pageX;b.css("left",-1e3),g.off("mousemove").on("mousemove",function(a){a.stopPropagation(),z=a.pageX,c.css("left",F-G+z);for(var d=m.length,e=0;d>e;e+=1){var f=m[e];if(!(0>f)&&f>z){b.css("left",l[e]),o=p?e:e+h;break}}return!1})}}),g.on("mouseup",function(){if(!q&&(q=!0,g.hide(),b.hide(),c.hide(),!isNaN(o)&&!isNaN(n)&&o!==n&&o!==n+1)){if(n>o)return a._switchCol(n,o),void(o=n=0/0);for(var d=n+1;o>d;d+=1)if(!j[d]){a._switchCol(n,o),o=n=0/0;break}}}),g.on("mouseout",function(){g.hide(),b.hide(),c.hide(),o=n=0/0})}},_initEditType:function(){var a,f,g,h,k,l,m,n=this.options,o=n.edittype,p=this.editType,q=this.bindName,r=this.colRender,s=this.editDict;for(h=0,k=this.colSize;k>h;h++)if(a=q[h],f=o[a],"string"==typeof a&&f)if(i.test(f.uitype)){if(g=f.uitype,g=g.charAt(0).toLowerCase()+g.slice(1),f.uitype=g,p[a]=f,j.test(g))switch(l=f.datasource,s[a]=l,r[h]=[{render:"renderFn",colJson:{bindName:a,editType:f},callback:b}],g){case"multiPullDown":r[h][0].callback=c;break;case"pullDown":"Multi"===f.mode&&(r[h][0].callback=c);break;case"checkboxGroup":r[h][0].callback=e,s[a]=f.checkbox_list;break;case"radioGroup":r[h][0].callback=d,s[a]=f.radio_list}void 0===m&&(m=h)}else"function"==typeof f.create&&"function"==typeof f.returnValue&&(p[a]=f,delete f.uitype,void 0===m&&(m=h));void 0!==m&&n.fixcolumnnumber>=m&&(n.fixcolumnnumber=m)},_createFormEle:function(a,b,c,d,e){var g,h=f("<div>").addClass("eg-edit-box"),i=b.uitype,j=this.data[c];g=null===j[d]||void 0===j[d]?"":j[d]+"",a.addClass("eg-editing").html(h),i?(i=i.charAt(0).toLowerCase()+i.slice(1),"checkboxGroup"===i&&(g=g.split(";")),this.editObj={cuiObj:window.cui(h)[i](f.extend({width:"100%",name:Math.random()+"",value:g},b)),editTdObj:a,bindName:d,index:c,editOpts:b},this.editObj.cuiObj.editRowData=j,k.test(i)?h.find("input,textarea").select():e&&a.find(":text").eq(0).focus()):(b.create(h[0],j),this.editObj={cuiObj:null,editTdObj:a,bindName:d,index:c,editOpts:b})},_destroyFormEle:function(){var g,h,i,k,l,m,n,o,p,q,r,s,t,u,v=this.editObj,w=this.bindName,x=v.bindName,y=v.editTdObj,z=y.find(".eg-edit-box").eq(0),A=v.cuiObj,B=v.editOpts,C=B.validate,D=B.uitype,E=this.data[v.index],F=f.extend({},E);if(A){if(i="checkboxGroup"===D?A.getValueString(";"):A.getValue(),E[x]=i,"input"===D.toLowerCase()&&""!==i)switch(A.options.mask){case"Int":u=f.extend({prefix:"",separator:","},A.options.maskoptions),k=a.Number.money(i,0,u);break;case"Dec":u=f.extend({prefix:"",separator:",",precision:null},A.options.maskoptions),k=a.Number.money(i,u.precision,u);break;case"Money":u=f.extend({prefix:"",separator:",",precision:2},A.options.maskoptions),k=a.Number.money(i,u.precision,u)}if(j.test(D)){switch(D){case"singlePullDown":l="single";break;case"multiPullDown":l="multi";break;case"pullDown":l="Multi"===B.mode?"multi":"single";break;case"checkboxGroup":k=e(E,void 0,{bindName:x,editType:B});break;case"radioGroup":k=d(E,void 0,{bindName:x,editType:B})}"single"===l?(k=b(E,void 0,{bindName:x,editType:B}),A.$box.remove()):"multi"===l&&(k=c(E,void 0,{bindName:x,editType:B}),A.$box.remove())}A.destroy()}else if(i=B.returnValue(z[0],F),"object"===f.type(i)&&(k=i.text,i=i.value),E[x]=i,z.remove(),void 0===i)return;if(y.html(k||i).removeClass("eg-editing"),this.editObj=null,!(F[x]===i&&""!==i||C&&!this._validate(x,E,C,y)))if(o=this.options.primarykey,p=F[o],r=this.dataBackup,void 0===p||r[p]||(r[p]=F),m=this.options.editafter,"function"==typeof m&&(n=m(f.extend({},E),x),"object"===f.type(n)&&(E=n,void 0===p?delete E[o]:E[o]=p,this._changeValue(E,void 0!==E[o]?void 0:v.index,x))),void 0===p)this.changeEditData.insertData[F.__insertId__]=E;else{for(s=r[p],h=y.closest("tr").find("td"),q=this.colSize;q--;)g=w[q],s[g]!==E[g]?(h.eq(q).addClass("eg-update"),t=!0):h.eq(q).removeClass("eg-update");t?this.changeEditData.updateData[p]=E:delete this.changeEditData.updateData[p]}},_validate:function(a,b,c,d){var e,g,h,i=c.length,j=b[this.options.primarykey],k=void 0!==j?this.validateState.update:this.validateState.insert,m=j||b.__insertId__;for(e=0;i>e;e++)if(g=c[e].type,l[g]&&(h=l[g](b[a],f.extend({},{args:b},c[e].rule)),h!==!0))return k[m]=k[m]||{},k[m][a]=h,void 0===d.attr("tip")&&window.cui.tip(d),d.attr("tip",h).addClass("eg-error"),!1;return k[m]&&(delete k[m][a],void 0===this._isNullObj(k[m])&&delete k[m]),d.attr("tip","").removeClass("eg-error"),!0},insertRow:function(a,b){var c,d,e,g,h,i=this.editType,j=this.bindName,k=this.colSize,l=this.rowSize,m=this.insertId,n=[],o=0,p=0;if("object"===f.type(a)){for(e in i)p++,void 0===a[e]&&(a[e]="",o++),n[e]=!0;for(a.__insertId__=m+"",("number"!=typeof b||b>=l||0>b)&&(b=l),this._addData(a,b),d=this.domTr[b],e=0;k>e;e++)c=j[e],n[c]&&(g=f(d.cells[e]),h=i[c].validate,g.addClass("eg-insert"),h&&this._validate(c,a,h,g));this.insertId=m+1,o!==p&&(this.changeEditData.insertData[m]=this.data[b])}},_isNullObj:function(a){var b;for(b in a)break;return void 0===b?void 0:[b,a[b]]},deleteRow:function(a){this.editObj&&this._destroyFormEle(),this.deleteRowByIndex(this._pkToIndex(a,!1))},deleteRowByIndex:function(a){this.editObj&&this._destroyFormEle();var b,c,d,e,g,h=this.data,i=this.options,j=this.changeEditData,k=i.deletebefore,l="function"==typeof k,m=i.deleteafter,n="function"==typeof m,o=i.primarykey,p=f.type(a);if("number"===p)a=[a];else if("array"!==p)return;for(b=a.length;b--;)c=a[b],"number"==typeof c&&(d=h[c],d&&(g=d[o],l&&void 0!==g&&k(d)===!1||(e=d.__insertId__,void 0!==e&&(delete j.insertData[e],delete this.validateState.insert[e]),void 0!==g&&(delete j.updateData[g],j.deleteData.push(d),delete this.validateState.update[g]),this._removeData(c),n&&m(d))))},deleteSelectRow:function(){this.editObj&&this._destroyFormEle(),this.deleteRowByIndex(this.getSelectedIndex())},getInsertedIndex:function(){var a,b=this.data,c=this.rowSize,d=[];for(a=0;c>a;a++)b[a].hasOwnProperty("__insertId__")&&d.push(a);return d},getChangeData:function(){this.editObj&&this._destroyFormEle();var a,b,c=this.changeEditData,d=c.insertData,e=c.updateData,g=c.deleteData,h=[],i=[],j=null;for(b in d)a=f.extend({},d[b]),delete a.__insertId__,h.push(a);void 0!==b?this.isChanged=!0:h=null;for(b in e)i.push(f.extend({},e[b]));return void 0!==b?this.isChanged=!0:i=null,g.length&&(this.isChanged=!0,j=f.extend(!0,[],g)),{insertData:h,updateData:i,deleteData:j}},submit:function(){this.editObj&&this._destroyFormEle();var a,b,c,d,e,f,g,h,i,j,k=this.getChangeData();if(a=this.validateState.insert,b=this.validateState.update,c=this.bindName,f=this.theadText,g=this._isNullObj,h=g(a),i=-1,void 0!==h?i=this._insertIdToIndex(h[0]):(h=g(b),void 0!==h&&(i=this._pkToIndex(h[0],!0)[0])),i>-1)for(j=g(h[1]),d=0,e=this.colSize;e>d;d++)if(c[d]===j[0])return cui.error(['\u7b2c"',i+1,'"\u884c\uff0c"',f[d],'" \u5217\u6709\u9519\u8bef\uff1a',j[1]].join(""),null,{title:"\u4e0d\u80fd\u63d0\u4ea4",opacity:.8}),"fail";return this.isChanged?(this.isSaveing=!0,this._loading("show"),this.options.submitdata(this,k),"success"):"noChange"},_insertIdToIndex:function(a){var b,c=this.data,d=this.rowSize;for(b=0;d>b;b++)if(c[b].__insertId__===a)return b;return-1},submitComplete:function(){this.isSaveing&&(this.isSaveing=!1,this._loading("hide"),this.loadData())},changeData:function(a,b,c,d){if(this.editObj&&this._destroyFormEle(),"object"===f.type(a)&&(c!==!0||"number"==typeof b)){this.editObj&&this._destroyFormEle();var e,g=this.options;if(c!==!0){var h=g.primarykey,i=a[h];if("undefined"!=typeof i){var j=this._pkToIndex(i,!1)[0];b=void 0===j?b:j}}if(!("number"!=typeof b||0>b||b>=this.rowSize)){"undefined"!=typeof this.data[b].__insertId__&&(e=parseInt(this.data[b].__insertId__,10));var k=this.data[b][g.primarykey];this.data[b]=d===!0?f.extend(!0,{},a):f.extend(!0,{},this.data[b],a),"number"==typeof e?(this.data[b].__insertId__=e+"",delete this.data[b][g.primarykey],this.changeEditData.insertData[e]=this.data[b]):(delete this.data[b].__insertId__,this.data[b][g.primarykey]=k,this.changeEditData.updateData[k]=this.data[b]);for(var l=this._dataToDom([this.data[b]],0,1,b),m=l.domTd[0],n=this.domTd[b],o=this.bindName,p=g.fixcolumnnumber,q=this.colSize;q--;){var r=o[q],s=f(n[q]);if(s.removeAttr("title"),p>q){if("number"!=typeof r){var t=s.find(".grid-fixed-s")[0],u=f(m[q]).find(".grid-fixed-s")[0].innerHTML;t.innerHTML=u,t.nextSibling.nodeValue=u}}else"number"!=typeof r&&s.html(m[q].innerHTML)}}}}})}(window.comtop),function(){cui.calculate=cui.calculate||{},cui.calculate.setAutoCalculate=function(a,b,c){for(var d=0;d<c.length;d++){var e=c[d];cui(e).bind("change",function(){var c=b();cui(a).setValue(c)})}}}(window.comtop.cQuery,window.comtop),function(a,b){function c(a){this.$uiCmp=null,this.optsList=[],this.errorLog=[],this._init(a)}function d(){var b=a("[uitype]",a("body"));if(b&&0!==b.length)for(var c=0,d=b.length;d>c;c++)b.eq(c).data("uitype")&&e(b.eq(c),b.eq(c).attr("databind"))}function e(a,c){var d=c;if(d){var e=d.split(".");if(e.length<2)return!1;for(var f,g,h=[],i=0,j=e.length;j>i;i++)j-1>i?h.push(e[i]):g=e[i];if(f=b.namespace(h.join(".")),f.nodeName)return!1;var k=cui(f).databind();k.addBind(a,g)}}function f(b){var c=a(b);return{isScanner:!0,databind:c.attr("databind"),validate:c.attr("validate"),tip:c.attr("tip"),tipTrigger:c.attr("tip_trigger")}}function g(a){for(var b=a.split("."),c=window,d=0;d<b.length;d++)c=c[b[d]];return"object"!=typeof c||c.nodeName?a:c}function h(c,d){c="undefined"==typeof c?!0:c,d="undefined"==typeof d?"body":d;var e,f,g=[],h=a(d);if("document"!==d&&"body"!==d&&"html"!==d)for(e=0,f=b.UI.componentList.length;f>e;e++)h.find(b.UI.componentList[e].options.el).length&&g.push(b.UI.componentList[e]);else g=b.UI.componentList;for(e=0,f=g.length;f>e;e++)"function"==typeof g[e].setReadonly&&g[e].setReadonly(c)}b.UI.scan=function(){for(var b={},d=0;d<arguments.length;d++)switch(typeof arguments[d]){case"string":case"object":b.range=a(arguments[d]);break;case"boolean":b.databind=arguments[d]}b=a.extend({range:document,databind:!0},b);var e=new c(b);e=void 0},b.UI.scan.debug=!1,b.UI.scan.textmode=!1,b.UI.scan.disable=!1,b.UI.scan.readonly=!1,b.UI.scan.databind=d,b.UI.scan.setReadonly=h,c.prototype={_init:function(c){var d=this;this.$uiCmp=a("[uitype]",c.range),this.$uiCmp.each(function(){var c=a(this),e=c.attr("uitype");return c.data("uitype")||!b.UI[e.charAt(0).toUpperCase()+e.substring(1)]?(d.$uiCmp=d.$uiCmp.not(c),!0):void d.optsList.push(d._scan(c,e))});var e=null;if(c.databind&&this._initData(),!b.UI.scan.textmode&&!b.UI.scan.disable)for(var f=0,g=this.$uiCmp.length;g>f;f++)e=this.$uiCmp.eq(f).data("uitype"),!e||e.options.textmode||e.options.disable||(this.errorLog.push(this._bindValidate(this.$uiCmp.eq(f),this.optsList[f])),this.errorLog.push(this._bindTip(this.$uiCmp.eq(f),this.optsList[f],e.tipPosition||e.options.el)));b.UI.scan.debug&&this._debug(c.databind),c=void 0},_scan:function(a,c){if(!c&&""===c)return!1;if("dialog"===c.toLocaleLowerCase())return a.addClass("cui-dialog").css("display","block"),{};var d=f(a[0]),e={validate:d.validate},g={databind:d.databind},h={tip:d.tip,trigger:d.tipTrigger?d.tipTrigger:"hover"};delete d.uitype,delete d.tipTrigger,delete d.tip,delete d.databind,delete d.validate;var i=c.charAt(0).toLowerCase()+c.substring(1);if(b.UI.scan.textmode&&(d.textmode=!0,d.readonly=!1,d.disable=!1),b.UI.scan.disable&&(d.textmode=!1,d.readonly=!1,d.disable=!0),b.UI.scan.readonly&&(d.readonly=!0,d.textmode=!1,d.disable=!1),b.UI.scan.debug)try{a[i](d)}catch(j){this.errorLog.push("["+c+":"+a.attr("id")+"]:\u7ec4\u4ef6\u521b\u5efa\u5931\u8d25\uff0c\u53ef\u80fd\u53c2\u6570\u914d\u7f6e\u4e0d\u6b63\u786e\u6216\u8005\u7ec4\u4ef6\u5b58\u5728\u95ee\u9898\uff1b\n")}else a[i](d);return a.removeAttr("name"),{opts:d,valiOpts:e,dbOpts:g,tipOpts:h}},_initData:function(){if(this.$uiCmp&&0!==this.$uiCmp.length)for(var a=0,b=this.$uiCmp.length;b>a;a++)this.$uiCmp.eq(a).data("uitype")&&this.errorLog.push(this._bindData(this.$uiCmp.eq(a),this.optsList[a]))},_debug:function(a){if(b.UI.scan.debug){for(var c=[],d=0,e=this.errorLog.length;e>d;d++)this.errorLog[d]&&c.push(this.errorLog[d]);c.length>0&&alert(c.join(""))}this.errorLog=[],a||(this.$uiCmp=void 0,this.optsList=[])},_bindData:function(a,c){var d=c.dbOpts.databind,e=null,f=b.UI.scan.debug;if(d){var g=d.split(".");if(g.length<2)return f&&(e="["+a.attr("uitype")+":"+a.attr("id")+"]:\u7ed1\u5b9a\u7684\u6570\u636e\u5fc5\u987b\u4e3aJSON\u683c\u5f0f\u91cc\u7684\u6210\u5458\u53d8\u91cf;\n"),!1;for(var h,i,j=[],k=0,l=g.length;l>k;k++)l-1>k?j.push(g[k]):i=g[k];if(h=b.namespace(j.join(".")),h.nodeName)return f&&(e="["+a.attr("uitype")+":"+a.attr("id")+"]:\u6570\u636e"+j+"\u4e0e\u9875\u9762\u7684\u6807\u7b7eID\u540d\u76f8\u540c\uff0c\u8bf7\u66f4\u540d;\n"),!1;var m=cui(h).databind();m.addBind(a,i)}return e},_bindValidate:function(b,c){var d=c.valiOpts.validate,e="";if(d){var f=/^(?:\{.*\}|\[.*\])$/;if(window.validater||(window.validater=cui().validate()),f.test(d))try{d=a.parseJSON(d.replace(/\\'/g,"#@@#").replace(/'/g,'"').replace(/#@@#/g,"'"))}catch(h){e="["+b.attr("uitype")+":"+b.attr("id")+"]:\u6821\u9a8c\u7684JSON\u6570\u636e\u6709\u8bef;\n"}else try{d=g(d)}catch(h){e="["+b.attr("uitype")+":"+b.attr("id")+"]:\u6821\u9a8c\u6570\u636e\u6709\u8bef\u6216\u4e0d\u5b58\u5728;\n"}switch(a.type(d)){case"array":for(var i=0;i<d.length;i++)d[i].rule?window.validater.add(cui(b),d[i].type,d[i].rule):window.validater.add(cui(b),d[i].type);break;case"string":window.validater.add(cui(b),d)}}return e},_bindTip:function(b,c,d){var e="";if(d=a(d,b),void 0==cui(b).options.textmode||c.tipOpts.tip||(b.attr("tip",""),c.tipOpts.tip=""),void 0!=c.tipOpts.tip)try{cui.tip(d,{trigger:c.tipOpts.trigger,tipEl:b})}catch(f){e="["+b.attr("uitype")+":"+b.attr("id")+"]:\u63d0\u793a\u521b\u5efa\u5931\u8d25;\n"}return e}}}(window.comtop.cQuery,window.comtop),comtop.version="V4.2.25-build20150131";
//# sourceMappingURL=comtop.ui.min.js.map