/* jQuery UI - v1.9.1 - 2012-10-31
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js
* Copyright (c) 2012 jQuery Foundation and other contributors Licensed MIT */
(function(a,b){(function(d,h){var c=0,g=/^ui-id-\d+$/;d.ui=d.ui||{};if(d.ui.version){return}d.extend(d.ui,{version:"1.9.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});d.fn.extend({_focus:d.fn.focus,focus:function(i,j){return typeof i==="number"?this.each(function(){var k=this;setTimeout(function(){d(k).focus();if(j){j.call(k)}},i)}):this._focus.apply(this,arguments)},scrollParent:function(){var i;if((d.ui.ie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){i=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(d.css(this,"position"))&&(/(auto|scroll)/).test(d.css(this,"overflow")+d.css(this,"overflow-y")+d.css(this,"overflow-x"))}).eq(0)}else{i=this.parents().filter(function(){return(/(auto|scroll)/).test(d.css(this,"overflow")+d.css(this,"overflow-y")+d.css(this,"overflow-x"))}).eq(0)}return(/fixed/).test(this.css("position"))||!i.length?d(document):i},zIndex:function(l){if(l!==h){return this.css("zIndex",l)}if(this.length){var j=d(this[0]),i,k;while(j.length&&j[0]!==document){i=j.css("position");if(i==="absolute"||i==="relative"||i==="fixed"){k=parseInt(j.css("zIndex"),10);if(!isNaN(k)&&k!==0){return k}}j=j.parent()}}return 0},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++c)}})},removeUniqueId:function(){return this.each(function(){if(g.test(this.id)){d(this).removeAttr("id")}})}});if(!d("<a>").outerWidth(1).jquery){d.each(["Width","Height"],function(l,j){var k=j==="Width"?["Left","Right"]:["Top","Bottom"],m=j.toLowerCase(),o={innerWidth:d.fn.innerWidth,innerHeight:d.fn.innerHeight,outerWidth:d.fn.outerWidth,outerHeight:d.fn.outerHeight};function n(q,p,i,r){d.each(k,function(){p-=parseFloat(d.css(q,"padding"+this))||0;if(i){p-=parseFloat(d.css(q,"border"+this+"Width"))||0}if(r){p-=parseFloat(d.css(q,"margin"+this))||0}});return p}d.fn["inner"+j]=function(i){if(i===h){return o["inner"+j].call(this)}return this.each(function(){d(this).css(m,n(this,i)+"px")})};d.fn["outer"+j]=function(i,p){if(typeof i!=="number"){return o["outer"+j].call(this,i)}return this.each(function(){d(this).css(m,n(this,i,true,p)+"px")})}})}function f(k,i){var m,l,j,n=k.nodeName.toLowerCase();if("area"===n){m=k.parentNode;l=m.name;if(!k.href||!l||m.nodeName.toLowerCase()!=="map"){return false}j=d("img[usemap=#"+l+"]")[0];return !!j&&e(j)}return(/input|select|textarea|button|object/.test(n)?!k.disabled:"a"===n?k.href||i:i)&&e(k)}function e(i){return d.expr.filters.visible(i)&&!d(i).parents().andSelf().filter(function(){return d.css(this,"visibility")==="hidden"}).length}d.extend(d.expr[":"],{data:d.expr.createPseudo?d.expr.createPseudo(function(i){return function(j){return !!d.data(j,i)}}):function(l,k,j){return !!d.data(l,j[3])},focusable:function(i){return f(i,!isNaN(d.attr(i,"tabindex")))},tabbable:function(k){var i=d.attr(k,"tabindex"),j=isNaN(i);return(j||i>=0)&&f(k,!j)}});d(function(){var i=document.body,j=i.appendChild(j=document.createElement("div"));j.offsetHeight;d.extend(j.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});d.support.minHeight=j.offsetHeight===100;d.support.selectstart="onselectstart" in j;i.removeChild(j).style.display="none"});(function(){var i=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];d.ui.ie=i.length?true:false;d.ui.ie6=parseFloat(i[1],10)===6})();d.fn.extend({disableSelection:function(){return this.bind((d.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(i){i.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});d.extend(d.ui,{plugin:{add:function(k,l,n){var j,m=d.ui[k].prototype;for(j in n){m.plugins[j]=m.plugins[j]||[];m.plugins[j].push([l,n[j]])}},call:function(j,l,k){var m,n=j.plugins[l];if(!n||!j.element[0].parentNode||j.element[0].parentNode.nodeType===11){return}for(m=0;m<n.length;m++){if(j.options[n[m][0]]){n[m][1].apply(j.element,k)}}}},contains:d.contains,hasScroll:function(l,j){if(d(l).css("overflow")==="hidden"){return false}var i=(j&&j==="left")?"scrollLeft":"scrollTop",k=false;if(l[i]>0){return true}l[i]=1;k=(l[i]>0);l[i]=0;return k},isOverAxis:function(j,i,k){return(j>i)&&(j<(i+k))},isOver:function(n,j,m,l,i,k){return d.ui.isOverAxis(n,m,i)&&d.ui.isOverAxis(j,l,k)}})})(a);(function(d,g){var c=0,f=Array.prototype.slice,e=d.cleanData;d.cleanData=function(h){for(var j=0,k;(k=h[j])!=null;j++){try{d(k).triggerHandler("remove")}catch(l){}}e(h)};d.widget=function(i,l,h){var o,n,k,m,j=i.split(".")[0];i=i.split(".")[1];o=j+"-"+i;if(!h){h=l;l=d.Widget}d.expr[":"][o.toLowerCase()]=function(p){return !!d.data(p,o)};d[j]=d[j]||{};n=d[j][i];k=d[j][i]=function(p,q){if(!this._createWidget){return new k(p,q)}if(arguments.length){this._createWidget(p,q)}};d.extend(k,n,{version:h.version,_proto:d.extend({},h),_childConstructors:[]});m=new l();m.options=d.widget.extend({},m.options);d.each(h,function(q,p){if(d.isFunction(p)){h[q]=(function(){var r=function(){return l.prototype[q].apply(this,arguments)},s=function(t){return l.prototype[q].apply(this,t)};return function(){var v=this._super,t=this._superApply,u;this._super=r;this._superApply=s;u=p.apply(this,arguments);this._super=v;this._superApply=t;return u}})()}});k.prototype=d.widget.extend(m,{widgetEventPrefix:m.widgetEventPrefix||i},h,{constructor:k,namespace:j,widgetName:i,widgetBaseClass:o,widgetFullName:o});if(n){d.each(n._childConstructors,function(q,r){var p=r.prototype;d.widget(p.namespace+"."+p.widgetName,k,r._proto)});delete n._childConstructors}else{l._childConstructors.push(k)}d.widget.bridge(i,k)};d.widget.extend=function(m){var i=f.call(arguments,1),l=0,h=i.length,j,k;for(;l<h;l++){for(j in i[l]){k=i[l][j];if(i[l].hasOwnProperty(j)&&k!==g){if(d.isPlainObject(k)){m[j]=d.isPlainObject(m[j])?d.widget.extend({},m[j],k):d.widget.extend({},k)}else{m[j]=k}}}}return m};d.widget.bridge=function(i,h){var j=h.prototype.widgetFullName;d.fn[i]=function(m){var k=typeof m==="string",l=f.call(arguments,1),n=this;m=!k&&l.length?d.widget.extend.apply(null,[m].concat(l)):m;if(k){this.each(function(){var p,o=d.data(this,j);if(!o){return d.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+m+"'")}if(!d.isFunction(o[m])||m.charAt(0)==="_"){return d.error("no such method '"+m+"' for "+i+" widget instance")}p=o[m].apply(o,l);if(p!==o&&p!==g){n=p&&p.jquery?n.pushStack(p.get()):p;return false}})}else{this.each(function(){var o=d.data(this,j);if(o){o.option(m||{})._init()}else{new h(m,this)}})}return n}};d.Widget=function(){};d.Widget._childConstructors=[];d.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(h,i){i=d(i||this.defaultElement||this)[0];this.element=d(i);this.uuid=c++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=d.widget.extend({},this.options,this._getCreateOptions(),h);this.bindings=d();this.hoverable=d();this.focusable=d();if(i!==this){d.data(i,this.widgetName,this);d.data(i,this.widgetFullName,this);this._on(this.element,{remove:function(j){if(j.target===i){this.destroy()}}});this.document=d(i.style?i.ownerDocument:i.document||i);this.window=d(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:d.noop,_getCreateEventData:d.noop,_create:d.noop,_init:d.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(d.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:d.noop,widget:function(){return this.element},option:function(l,m){var h=l,n,k,j;if(arguments.length===0){return d.widget.extend({},this.options)}if(typeof l==="string"){h={};n=l.split(".");l=n.shift();if(n.length){k=h[l]=d.widget.extend({},this.options[l]);for(j=0;j<n.length-1;j++){k[n[j]]=k[n[j]]||{};k=k[n[j]]}l=n.pop();if(m===g){return k[l]===g?null:k[l]}k[l]=m}else{if(m===g){return this.options[l]===g?null:this.options[l]}h[l]=m}}this._setOptions(h);return this},_setOptions:function(h){var i;for(i in h){this._setOption(i,h[i])}return this},_setOption:function(h,i){this.options[h]=i;if(h==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!i).attr("aria-disabled",i);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_on:function(j,i){var k,h=this;if(!i){i=j;j=this.element;k=this.widget()}else{j=k=d(j);this.bindings=this.bindings.add(j)}d.each(i,function(q,p){function n(){if(h.options.disabled===true||d(this).hasClass("ui-state-disabled")){return}return(typeof p==="string"?h[p]:p).apply(h,arguments)}if(typeof p!=="string"){n.guid=p.guid=p.guid||n.guid||d.guid++}var o=q.match(/^(\w+)\s*(.*)$/),m=o[1]+h.eventNamespace,l=o[2];if(l){k.delegate(l,m,n)}else{j.bind(m,n)}})},_off:function(i,h){h=(h||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;i.unbind(h).undelegate(h)},_delay:function(k,j){function i(){return(typeof k==="string"?h[k]:k).apply(h,arguments)}var h=this;return setTimeout(i,j||0)},_hoverable:function(h){this.hoverable=this.hoverable.add(h);this._on(h,{mouseenter:function(i){d(i.currentTarget).addClass("ui-state-hover")},mouseleave:function(i){d(i.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(h){this.focusable=this.focusable.add(h);this._on(h,{focusin:function(i){d(i.currentTarget).addClass("ui-state-focus")},focusout:function(i){d(i.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(h,i,j){var m,l,k=this.options[h];j=j||{};i=d.Event(i);i.type=(h===this.widgetEventPrefix?h:this.widgetEventPrefix+h).toLowerCase();i.target=this.element[0];l=i.originalEvent;if(l){for(m in l){if(!(m in i)){i[m]=l[m]}}}this.element.trigger(i,j);return !(d.isFunction(k)&&k.apply(this.element[0],[i].concat(j))===false||i.isDefaultPrevented())}};d.each({show:"fadeIn",hide:"fadeOut"},function(i,h){d.Widget.prototype["_"+i]=function(l,k,n){if(typeof k==="string"){k={effect:k}}var m,j=!k?i:k===true||typeof k==="number"?h:k.effect||h;k=k||{};if(typeof k==="number"){k={duration:k}}m=!d.isEmptyObject(k);k.complete=n;if(k.delay){l.delay(k.delay)}if(m&&d.effects&&(d.effects.effect[j]||d.uiBackCompat!==false&&d.effects[j])){l[i](k)}else{if(j!==i&&l[j]){l[j](k.duration,k.easing,n)}else{l.queue(function(o){d(this)[i]();if(n){n.call(l[0])}o()})}}}});if(d.uiBackCompat!==false){d.Widget.prototype._getCreateOptions=function(){return d.metadata&&d.metadata.get(this.element[0])[this.widgetName]}}})(a);(function(d,e){var c=false;d(document).mouseup(function(f){c=false});d.widget("ui.mouse",{version:"1.9.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var f=this;this.element.bind("mousedown."+this.widgetName,function(g){return f._mouseDown(g)}).bind("click."+this.widgetName,function(g){if(true===d.data(g.target,f.widgetName+".preventClickEvent")){d.removeData(g.target,f.widgetName+".preventClickEvent");g.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){d(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(h){if(c){return}(this._mouseStarted&&this._mouseUp(h));this._mouseDownEvent=h;var g=this,i=(h.which===1),f=(typeof this.options.cancel==="string"&&h.target.nodeName?d(h.target).closest(this.options.cancel).length:false);if(!i||f||!this._mouseCapture(h)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){g.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(h)&&this._mouseDelayMet(h)){this._mouseStarted=(this._mouseStart(h)!==false);if(!this._mouseStarted){h.preventDefault();return true}}if(true===d.data(h.target,this.widgetName+".preventClickEvent")){d.removeData(h.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(j){return g._mouseMove(j)};this._mouseUpDelegate=function(j){return g._mouseUp(j)};d(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);h.preventDefault();c=true;return true},_mouseMove:function(f){if(d.ui.ie&&!(document.documentMode>=9)&&!f.button){return this._mouseUp(f)}if(this._mouseStarted){this._mouseDrag(f);return f.preventDefault()}if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,f)!==false);(this._mouseStarted?this._mouseDrag(f):this._mouseUp(f))}return !this._mouseStarted},_mouseUp:function(f){d(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(f.target===this._mouseDownEvent.target){d.data(f.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(f)}return false},_mouseDistanceMet:function(f){return(Math.max(Math.abs(this._mouseDownEvent.pageX-f.pageX),Math.abs(this._mouseDownEvent.pageY-f.pageY))>=this.options.distance)},_mouseDelayMet:function(f){return this.mouseDelayMet},_mouseStart:function(f){},_mouseDrag:function(f){},_mouseStop:function(f){},_mouseCapture:function(f){return true}})})(a);(function(g,e){g.ui=g.ui||{};var k,l=Math.max,p=Math.abs,n=Math.round,f=/left|center|right/,i=/top|center|bottom/,c=/[\+\-]\d+%?/,m=/^\w+/,d=/%$/,h=g.fn.position;function o(s,r,q){return[parseInt(s[0],10)*(d.test(s[0])?r/100:1),parseInt(s[1],10)*(d.test(s[1])?q/100:1)]}function j(q,r){return parseInt(g.css(q,r),10)||0}g.position={scrollbarWidth:function(){if(k!==e){return k}var r,q,t=g("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=t.children()[0];g("body").append(t);r=s.offsetWidth;t.css("overflow","scroll");q=s.offsetWidth;if(r===q){q=t[0].clientWidth}t.remove();return(k=r-q)},getScrollInfo:function(u){var t=u.isWindow?"":u.element.css("overflow-x"),s=u.isWindow?"":u.element.css("overflow-y"),r=t==="scroll"||(t==="auto"&&u.width<u.element[0].scrollWidth),q=s==="scroll"||(s==="auto"&&u.height<u.element[0].scrollHeight);return{width:r?g.position.scrollbarWidth():0,height:q?g.position.scrollbarWidth():0}},getWithinInfo:function(r){var s=g(r||window),q=g.isWindow(s[0]);return{element:s,isWindow:q,offset:s.offset()||{left:0,top:0},scrollLeft:s.scrollLeft(),scrollTop:s.scrollTop(),width:q?s.width():s.outerWidth(),height:q?s.height():s.outerHeight()}}};g.fn.position=function(A){if(!A||!A.of){return h.apply(this,arguments)}A=g.extend({},A);var B,x,u,z,t,w=g(A.of),s=g.position.getWithinInfo(A.within),q=g.position.getScrollInfo(s),v=w[0],y=(A.collision||"flip").split(" "),r={};if(v.nodeType===9){x=w.width();u=w.height();z={top:0,left:0}}else{if(g.isWindow(v)){x=w.width();u=w.height();z={top:w.scrollTop(),left:w.scrollLeft()}}else{if(v.preventDefault){A.at="left top";x=u=0;z={top:v.pageY,left:v.pageX}}else{x=w.outerWidth();u=w.outerHeight();z=w.offset()}}}t=g.extend({},z);g.each(["my","at"],function(){var E=(A[this]||"").split(" "),D,C;if(E.length===1){E=f.test(E[0])?E.concat(["center"]):i.test(E[0])?["center"].concat(E):["center","center"]}E[0]=f.test(E[0])?E[0]:"center";E[1]=i.test(E[1])?E[1]:"center";D=c.exec(E[0]);C=c.exec(E[1]);r[this]=[D?D[0]:0,C?C[0]:0];A[this]=[m.exec(E[0])[0],m.exec(E[1])[0]]});if(y.length===1){y[1]=y[0]}if(A.at[0]==="right"){t.left+=x}else{if(A.at[0]==="center"){t.left+=x/2}}if(A.at[1]==="bottom"){t.top+=u}else{if(A.at[1]==="center"){t.top+=u/2}}B=o(r.at,x,u);t.left+=B[0];t.top+=B[1];return this.each(function(){var D,M,F=g(this),H=F.outerWidth(),E=F.outerHeight(),G=j(this,"marginLeft"),C=j(this,"marginTop"),L=H+G+j(this,"marginRight")+q.width,K=E+C+j(this,"marginBottom")+q.height,I=g.extend({},t),J=o(r.my,F.outerWidth(),F.outerHeight());if(A.my[0]==="right"){I.left-=H}else{if(A.my[0]==="center"){I.left-=H/2}}if(A.my[1]==="bottom"){I.top-=E}else{if(A.my[1]==="center"){I.top-=E/2}}I.left+=J[0];I.top+=J[1];if(!g.support.offsetFractions){I.left=n(I.left);I.top=n(I.top)}D={marginLeft:G,marginTop:C};g.each(["left","top"],function(O,N){if(g.ui.position[y[O]]){g.ui.position[y[O]][N](I,{targetWidth:x,targetHeight:u,elemWidth:H,elemHeight:E,collisionPosition:D,collisionWidth:L,collisionHeight:K,offset:[B[0]+J[0],B[1]+J[1]],my:A.my,at:A.at,within:s,elem:F})}});if(g.fn.bgiframe){F.bgiframe()}if(A.using){M=function(Q){var S=z.left-I.left,P=S+x-H,R=z.top-I.top,O=R+u-E,N={target:{element:w,left:z.left,top:z.top,width:x,height:u},element:{element:F,left:I.left,top:I.top,width:H,height:E},horizontal:P<0?"left":S>0?"right":"center",vertical:O<0?"top":R>0?"bottom":"middle"};if(x<H&&p(S+P)<x){N.horizontal="center"}if(u<E&&p(R+O)<u){N.vertical="middle"}if(l(p(S),p(P))>l(p(R),p(O))){N.important="horizontal"}else{N.important="vertical"}A.using.call(this,Q,N)}}F.offset(g.extend(I,{using:M}))})};g.ui.position={fit:{left:function(u,t){var s=t.within,w=s.isWindow?s.scrollLeft:s.offset.left,y=s.width,v=u.left-t.collisionPosition.marginLeft,x=w-v,r=v+t.collisionWidth-y-w,q;if(t.collisionWidth>y){if(x>0&&r<=0){q=u.left+x+t.collisionWidth-y-w;u.left+=x-q}else{if(r>0&&x<=0){u.left=w}else{if(x>r){u.left=w+y-t.collisionWidth}else{u.left=w}}}}else{if(x>0){u.left+=x}else{if(r>0){u.left-=r}else{u.left=l(u.left-v,u.left)}}}},top:function(t,s){var r=s.within,x=r.isWindow?r.scrollTop:r.offset.top,y=s.within.height,v=t.top-s.collisionPosition.marginTop,w=x-v,u=v+s.collisionHeight-y-x,q;if(s.collisionHeight>y){if(w>0&&u<=0){q=t.top+w+s.collisionHeight-y-x;t.top+=w-q}else{if(u>0&&w<=0){t.top=x}else{if(w>u){t.top=x+y-s.collisionHeight}else{t.top=x}}}}else{if(w>0){t.top+=w}else{if(u>0){t.top-=u}else{t.top=l(t.top-v,t.top)}}}}},flip:{left:function(w,v){var u=v.within,A=u.offset.left+u.scrollLeft,D=u.width,s=u.isWindow?u.scrollLeft:u.offset.left,x=w.left-v.collisionPosition.marginLeft,B=x-s,r=x+v.collisionWidth-D-s,z=v.my[0]==="left"?-v.elemWidth:v.my[0]==="right"?v.elemWidth:0,C=v.at[0]==="left"?v.targetWidth:v.at[0]==="right"?-v.targetWidth:0,t=-2*v.offset[0],q,y;if(B<0){q=w.left+z+C+t+v.collisionWidth-D-A;if(q<0||q<p(B)){w.left+=z+C+t}}else{if(r>0){y=w.left-v.collisionPosition.marginLeft+z+C+t-s;if(y>0||p(y)<r){w.left+=z+C+t}}}},top:function(v,u){var t=u.within,C=t.offset.top+t.scrollTop,D=t.height,q=t.isWindow?t.scrollTop:t.offset.top,x=v.top-u.collisionPosition.marginTop,z=x-q,w=x+u.collisionHeight-D-q,A=u.my[1]==="top",y=A?-u.elemHeight:u.my[1]==="bottom"?u.elemHeight:0,E=u.at[1]==="top"?u.targetHeight:u.at[1]==="bottom"?-u.targetHeight:0,s=-2*u.offset[1],B,r;if(z<0){r=v.top+y+E+s+u.collisionHeight-D-C;if((v.top+y+E+s)>z&&(r<0||r<p(z))){v.top+=y+E+s}}else{if(w>0){B=v.top-u.collisionPosition.marginTop+y+E+s-q;if((v.top+y+E+s)>w&&(B>0||p(B)<w)){v.top+=y+E+s}}}}},flipfit:{left:function(){g.ui.position.flip.left.apply(this,arguments);g.ui.position.fit.left.apply(this,arguments)},top:function(){g.ui.position.flip.top.apply(this,arguments);g.ui.position.fit.top.apply(this,arguments)}}};(function(){var u,w,r,t,s,q=document.getElementsByTagName("body")[0],v=document.createElement("div");u=document.createElement(q?"div":"body");r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(q){g.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"})}for(s in r){u.style[s]=r[s]}u.appendChild(v);w=q||document.documentElement;w.insertBefore(u,w.firstChild);v.style.cssText="position: absolute; left: 10.7432222px;";t=g(v).offset().left;g.support.offsetFractions=t>10&&t<11;u.innerHTML="";w.removeChild(u)})();if(g.uiBackCompat!==false){(function(r){var q=r.fn.position;r.fn.position=function(t){if(!t||!t.offset){return q.call(this,t)}var u=t.offset.split(" "),s=t.at.split(" ");if(u.length===1){u[1]=u[0]}if(/^\d/.test(u[0])){u[0]="+"+u[0]}if(/^\d/.test(u[1])){u[1]="+"+u[1]}if(s.length===1){if(/left|center|right/.test(s[0])){s[1]="center"}else{s[1]=s[0];s[0]="center"}}return q.call(this,r.extend(t,{at:s[0]+u[0]+" "+s[1]+u[1],offset:e}))}}(a))}}(a));(function(c,d){c.widget("ui.draggable",c.ui.mouse,{version:"1.9.1",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(e){var f=this.options;if(this.helper||f.disabled||c(e.target).is(".ui-resizable-handle")){return false}this.handle=this._getHandle(e);if(!this.handle){return false}c(f.iframeFix===true?"iframe":f.iframeFix).each(function(){c('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(c(this).offset()).appendTo("body")});return true},_mouseStart:function(e){var f=this.options;this.helper=this._createHelper(e);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(c.ui.ddmanager){c.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};c.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(e);this.originalPageX=e.pageX;this.originalPageY=e.pageY;(f.cursorAt&&this._adjustOffsetFromHelper(f.cursorAt));if(f.containment){this._setContainment()}if(this._trigger("start",e)===false){this._clear();return false}this._cacheHelperProportions();if(c.ui.ddmanager&&!f.dropBehaviour){c.ui.ddmanager.prepareOffsets(this,e)}this._mouseDrag(e,true);if(c.ui.ddmanager){c.ui.ddmanager.dragStart(this,e)}return true},_mouseDrag:function(e,g){this.position=this._generatePosition(e);this.positionAbs=this._convertPositionTo("absolute");if(!g){var f=this._uiHash();if(this._trigger("drag",e,f)===false){this._mouseUp({});return false}this.position=f.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}if(c.ui.ddmanager){c.ui.ddmanager.drag(this,e)}return false},_mouseStop:function(g){var i=false;if(c.ui.ddmanager&&!this.options.dropBehaviour){i=c.ui.ddmanager.drop(this,g)}if(this.dropped){i=this.dropped;this.dropped=false}var e=this.element[0],h=false;while(e&&(e=e.parentNode)){if(e==document){h=true}}if(!h&&this.options.helper==="original"){return false}if((this.options.revert=="invalid"&&!i)||(this.options.revert=="valid"&&i)||this.options.revert===true||(c.isFunction(this.options.revert)&&this.options.revert.call(this.element,i))){var f=this;c(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(f._trigger("stop",g)!==false){f._clear()}})}else{if(this._trigger("stop",g)!==false){this._clear()}}return false},_mouseUp:function(e){c("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});if(c.ui.ddmanager){c.ui.ddmanager.dragStop(this,e)}return c.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(e){var f=!this.options.handle||!c(this.options.handle,this.element).length?true:false;c(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==e.target){f=true}});return f},_createHelper:function(f){var g=this.options;var e=c.isFunction(g.helper)?c(g.helper.apply(this.element[0],[f])):(g.helper=="clone"?this.element.clone().removeAttr("id"):this.element);if(!e.parents("body").length){e.appendTo((g.appendTo=="parent"?this.element[0].parentNode:g.appendTo))}if(e[0]!=this.element[0]&&!(/(fixed|absolute)/).test(e.css("position"))){e.css("position","absolute")}return e},_adjustOffsetFromHelper:function(e){if(typeof e=="string"){e=e.split(" ")}if(c.isArray(e)){e={left:+e[0],top:+e[1]||0}}if("left" in e){this.offset.click.left=e.left+this.margins.left}if("right" in e){this.offset.click.left=this.helperProportions.width-e.right+this.margins.left}if("top" in e){this.offset.click.top=e.top+this.margins.top}if("bottom" in e){this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&c.contains(this.scrollParent[0],this.offsetParent[0])){e.left+=this.scrollParent.scrollLeft();e.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&c.ui.ie)){e={top:0,left:0}}return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var h=this.options;if(h.containment=="parent"){h.containment=this.helper[0].parentNode}if(h.containment=="document"||h.containment=="window"){this.containment=[h.containment=="document"?0:c(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,h.containment=="document"?0:c(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(h.containment=="document"?0:c(window).scrollLeft())+c(h.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(h.containment=="document"?0:c(window).scrollTop())+(c(h.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(h.containment)&&h.containment.constructor!=Array){var i=c(h.containment);var f=i[0];if(!f){return}var g=i.offset();var e=(c(f).css("overflow")!="hidden");this.containment=[(parseInt(c(f).css("borderLeftWidth"),10)||0)+(parseInt(c(f).css("paddingLeft"),10)||0),(parseInt(c(f).css("borderTopWidth"),10)||0)+(parseInt(c(f).css("paddingTop"),10)||0),(e?Math.max(f.scrollWidth,f.offsetWidth):f.offsetWidth)-(parseInt(c(f).css("borderLeftWidth"),10)||0)-(parseInt(c(f).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(f.scrollHeight,f.offsetHeight):f.offsetHeight)-(parseInt(c(f).css("borderTopWidth"),10)||0)-(parseInt(c(f).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=i}else{if(h.containment.constructor==Array){this.containment=h.containment}}},_convertPositionTo:function(h,j){if(!j){j=this.position}var f=h=="absolute"?1:-1;var g=this.options,e=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&c.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,i=(/(html|body)/i).test(e[0].tagName);return{top:(j.top+this.offset.relative.top*f+this.offset.parent.top*f-((this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(i?0:e.scrollTop()))*f)),left:(j.left+this.offset.relative.left*f+this.offset.parent.left*f-((this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():i?0:e.scrollLeft())*f))}},_generatePosition:function(f){var g=this.options,n=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&c.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,k=(/(html|body)/i).test(n[0].tagName);var j=f.pageX;var i=f.pageY;if(this.originalPosition){var e;if(this.containment){if(this.relative_container){var m=this.relative_container.offset();e=[this.containment[0]+m.left,this.containment[1]+m.top,this.containment[2]+m.left,this.containment[3]+m.top]}else{e=this.containment}if(f.pageX-this.offset.click.left<e[0]){j=e[0]+this.offset.click.left}if(f.pageY-this.offset.click.top<e[1]){i=e[1]+this.offset.click.top}if(f.pageX-this.offset.click.left>e[2]){j=e[2]+this.offset.click.left}if(f.pageY-this.offset.click.top>e[3]){i=e[3]+this.offset.click.top}}if(g.grid){var l=g.grid[1]?this.originalPageY+Math.round((i-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY;i=e?(!(l-this.offset.click.top<e[1]||l-this.offset.click.top>e[3])?l:(!(l-this.offset.click.top<e[1])?l-g.grid[1]:l+g.grid[1])):l;var h=g.grid[0]?this.originalPageX+Math.round((j-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX;j=e?(!(h-this.offset.click.left<e[0]||h-this.offset.click.left>e[2])?h:(!(h-this.offset.click.left<e[0])?h-g.grid[0]:h+g.grid[0])):h}}return{top:(i-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+((this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(k?0:n.scrollTop())))),left:(j-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+((this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():k?0:n.scrollLeft())))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(e,f,g){g=g||this._uiHash();c.ui.plugin.call(this,e,[f,g]);if(e=="drag"){this.positionAbs=this._convertPositionTo("absolute")}return c.Widget.prototype._trigger.call(this,e,f,g)},plugins:{},_uiHash:function(e){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});c.ui.plugin.add("draggable","connectToSortable",{start:function(f,h){var g=c(this).data("draggable"),i=g.options,e=c.extend({},h,{item:g.element});g.sortables=[];c(i.connectToSortable).each(function(){var j=c.data(this,"sortable");if(j&&!j.options.disabled){g.sortables.push({instance:j,shouldRevert:j.options.revert});j.refreshPositions();j._trigger("activate",f,e)}})},stop:function(f,h){var g=c(this).data("draggable"),e=c.extend({},h,{item:g.element});c.each(g.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;g.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance._mouseStop(f);this.instance.options.helper=this.instance.options._helper;if(g.options.helper=="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",f,e)}})},drag:function(f,i){var h=c(this).data("draggable"),e=this;var g=function(l){var r=this.offset.click.top,q=this.offset.click.left;var j=this.positionAbs.top,n=this.positionAbs.left;var m=l.height,p=l.width;var s=l.top,k=l.left;return c.ui.isOver(j+r,n+q,s,k,m,p)};c.each(h.sortables,function(k){var j=false;var l=this;this.instance.positionAbs=h.positionAbs;this.instance.helperProportions=h.helperProportions;this.instance.offset.click=h.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){j=true;c.each(h.sortables,function(){this.instance.positionAbs=h.positionAbs;this.instance.helperProportions=h.helperProportions;this.instance.offset.click=h.offset.click;if(this!=l&&this.instance._intersectsWith(this.instance.containerCache)&&c.ui.contains(l.instance.element[0],this.instance.element[0])){j=false}return j})}if(j){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=c(e).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return i.helper[0]};f.target=this.instance.currentItem[0];this.instance._mouseCapture(f,true);this.instance._mouseStart(f,true,true);this.instance.offset.click.top=h.offset.click.top;this.instance.offset.click.left=h.offset.click.left;this.instance.offset.parent.left-=h.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=h.offset.parent.top-this.instance.offset.parent.top;h._trigger("toSortable",f);h.dropped=this.instance.element;h.currentItem=h.element;this.instance.fromOutside=h}if(this.instance.currentItem){this.instance._mouseDrag(f)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",f,this.instance._uiHash(this.instance));this.instance._mouseStop(f,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}h._trigger("fromSortable",f);h.dropped=false}}})}});c.ui.plugin.add("draggable","cursor",{start:function(f,g){var e=c("body"),h=c(this).data("draggable").options;if(e.css("cursor")){h._cursor=e.css("cursor")}e.css("cursor",h.cursor)},stop:function(e,f){var g=c(this).data("draggable").options;if(g._cursor){c("body").css("cursor",g._cursor)}}});c.ui.plugin.add("draggable","opacity",{start:function(f,g){var e=c(g.helper),h=c(this).data("draggable").options;if(e.css("opacity")){h._opacity=e.css("opacity")}e.css("opacity",h.opacity)},stop:function(e,f){var g=c(this).data("draggable").options;if(g._opacity){c(f.helper).css("opacity",g._opacity)}}});c.ui.plugin.add("draggable","scroll",{start:function(f,g){var e=c(this).data("draggable");if(e.scrollParent[0]!=document&&e.scrollParent[0].tagName!="HTML"){e.overflowOffset=e.scrollParent.offset()}},drag:function(g,h){var f=c(this).data("draggable"),j=f.options,e=false;if(f.scrollParent[0]!=document&&f.scrollParent[0].tagName!="HTML"){if(!j.axis||j.axis!="x"){if((f.overflowOffset.top+f.scrollParent[0].offsetHeight)-g.pageY<j.scrollSensitivity){f.scrollParent[0].scrollTop=e=f.scrollParent[0].scrollTop+j.scrollSpeed}else{if(g.pageY-f.overflowOffset.top<j.scrollSensitivity){f.scrollParent[0].scrollTop=e=f.scrollParent[0].scrollTop-j.scrollSpeed}}}if(!j.axis||j.axis!="y"){if((f.overflowOffset.left+f.scrollParent[0].offsetWidth)-g.pageX<j.scrollSensitivity){f.scrollParent[0].scrollLeft=e=f.scrollParent[0].scrollLeft+j.scrollSpeed}else{if(g.pageX-f.overflowOffset.left<j.scrollSensitivity){f.scrollParent[0].scrollLeft=e=f.scrollParent[0].scrollLeft-j.scrollSpeed}}}}else{if(!j.axis||j.axis!="x"){if(g.pageY-c(document).scrollTop()<j.scrollSensitivity){e=c(document).scrollTop(c(document).scrollTop()-j.scrollSpeed)}else{if(c(window).height()-(g.pageY-c(document).scrollTop())<j.scrollSensitivity){e=c(document).scrollTop(c(document).scrollTop()+j.scrollSpeed)}}}if(!j.axis||j.axis!="y"){if(g.pageX-c(document).scrollLeft()<j.scrollSensitivity){e=c(document).scrollLeft(c(document).scrollLeft()-j.scrollSpeed)}else{if(c(window).width()-(g.pageX-c(document).scrollLeft())<j.scrollSensitivity){e=c(document).scrollLeft(c(document).scrollLeft()+j.scrollSpeed)}}}}if(e!==false&&c.ui.ddmanager&&!j.dropBehaviour){c.ui.ddmanager.prepareOffsets(f,g)}}});c.ui.plugin.add("draggable","snap",{start:function(f,g){var e=c(this).data("draggable"),h=e.options;e.snapElements=[];c(h.snap.constructor!=String?(h.snap.items||":data(draggable)"):h.snap).each(function(){var j=c(this);var i=j.offset();if(this!=e.element[0]){e.snapElements.push({item:this,width:j.outerWidth(),height:j.outerHeight(),top:i.top,left:i.left})}})},drag:function(v,q){var h=c(this).data("draggable"),s=h.options;var z=s.snapTolerance;var y=q.offset.left,x=y+h.helperProportions.width,g=q.offset.top,f=g+h.helperProportions.height;for(var w=h.snapElements.length-1;w>=0;w--){var u=h.snapElements[w].left,p=u+h.snapElements[w].width,n=h.snapElements[w].top,B=n+h.snapElements[w].height;if(!((u-z<y&&y<p+z&&n-z<g&&g<B+z)||(u-z<y&&y<p+z&&n-z<f&&f<B+z)||(u-z<x&&x<p+z&&n-z<g&&g<B+z)||(u-z<x&&x<p+z&&n-z<f&&f<B+z))){if(h.snapElements[w].snapping){(h.options.snap.release&&h.options.snap.release.call(h.element,v,c.extend(h._uiHash(),{snapItem:h.snapElements[w].item})))}h.snapElements[w].snapping=false;continue}if(s.snapMode!="inner"){var e=Math.abs(n-f)<=z;var A=Math.abs(B-g)<=z;var k=Math.abs(u-x)<=z;var m=Math.abs(p-y)<=z;if(e){q.position.top=h._convertPositionTo("relative",{top:n-h.helperProportions.height,left:0}).top-h.margins.top}if(A){q.position.top=h._convertPositionTo("relative",{top:B,left:0}).top-h.margins.top}if(k){q.position.left=h._convertPositionTo("relative",{top:0,left:u-h.helperProportions.width}).left-h.margins.left}if(m){q.position.left=h._convertPositionTo("relative",{top:0,left:p}).left-h.margins.left}}var j=(e||A||k||m);if(s.snapMode!="outer"){var e=Math.abs(n-g)<=z;var A=Math.abs(B-f)<=z;var k=Math.abs(u-y)<=z;var m=Math.abs(p-x)<=z;if(e){q.position.top=h._convertPositionTo("relative",{top:n,left:0}).top-h.margins.top}if(A){q.position.top=h._convertPositionTo("relative",{top:B-h.helperProportions.height,left:0}).top-h.margins.top}if(k){q.position.left=h._convertPositionTo("relative",{top:0,left:u}).left-h.margins.left}if(m){q.position.left=h._convertPositionTo("relative",{top:0,left:p-h.helperProportions.width}).left-h.margins.left}}if(!h.snapElements[w].snapping&&(e||A||k||m||j)){(h.options.snap.snap&&h.options.snap.snap.call(h.element,v,c.extend(h._uiHash(),{snapItem:h.snapElements[w].item})))}h.snapElements[w].snapping=(e||A||k||m||j)}}});c.ui.plugin.add("draggable","stack",{start:function(f,g){var i=c(this).data("draggable").options;var h=c.makeArray(c(i.stack)).sort(function(k,j){return(parseInt(c(k).css("zIndex"),10)||0)-(parseInt(c(j).css("zIndex"),10)||0)});if(!h.length){return}var e=parseInt(h[0].style.zIndex)||0;c(h).each(function(j){this.style.zIndex=e+j});this[0].style.zIndex=e+h.length}});c.ui.plugin.add("draggable","zIndex",{start:function(f,g){var e=c(g.helper),h=c(this).data("draggable").options;if(e.css("zIndex")){h._zIndex=e.css("zIndex")}e.css("zIndex",h.zIndex)},stop:function(e,f){var g=c(this).data("draggable").options;if(g._zIndex){c(f.helper).css("zIndex",g._zIndex)}}})})(a);(function(c,d){c.widget("ui.droppable",{version:"1.9.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var f=this.options,e=f.accept;this.isover=0;this.isout=1;this.accept=c.isFunction(e)?e:function(g){return g.is(e)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};c.ui.ddmanager.droppables[f.scope]=c.ui.ddmanager.droppables[f.scope]||[];c.ui.ddmanager.droppables[f.scope].push(this);(f.addClasses&&this.element.addClass("ui-droppable"))},_destroy:function(){var e=c.ui.ddmanager.droppables[this.options.scope];for(var f=0;f<e.length;f++){if(e[f]==this){e.splice(f,1)}}this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,f){if(e=="accept"){this.accept=c.isFunction(f)?f:function(g){return g.is(f)}}c.Widget.prototype._setOption.apply(this,arguments)},_activate:function(f){var e=c.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass)}(e&&this._trigger("activate",f,this.ui(e)))},_deactivate:function(f){var e=c.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}(e&&this._trigger("deactivate",f,this.ui(e)))},_over:function(f){var e=c.ui.ddmanager.current;if(!e||(e.currentItem||e.element)[0]==this.element[0]){return}if(this.accept.call(this.element[0],(e.currentItem||e.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}this._trigger("over",f,this.ui(e))}},_out:function(f){var e=c.ui.ddmanager.current;if(!e||(e.currentItem||e.element)[0]==this.element[0]){return}if(this.accept.call(this.element[0],(e.currentItem||e.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("out",f,this.ui(e))}},_drop:function(f,g){var e=g||c.ui.ddmanager.current;if(!e||(e.currentItem||e.element)[0]==this.element[0]){return false}var h=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var i=c.data(this,"droppable");if(i.options.greedy&&!i.options.disabled&&i.options.scope==e.options.scope&&i.accept.call(i.element[0],(e.currentItem||e.element))&&c.ui.intersect(e,c.extend(i,{offset:i.element.offset()}),i.options.tolerance)){h=true;return false}});if(h){return false}if(this.accept.call(this.element[0],(e.currentItem||e.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("drop",f,this.ui(e));return this.element}return false},ui:function(e){return{draggable:(e.currentItem||e.element),helper:e.helper,position:e.position,offset:e.positionAbs}}});c.ui.intersect=function(u,m,q){if(!m.offset){return false}var g=(u.positionAbs||u.position.absolute).left,f=g+u.helperProportions.width,p=(u.positionAbs||u.position.absolute).top,o=p+u.helperProportions.height;var i=m.offset.left,e=i+m.proportions.width,s=m.offset.top,n=s+m.proportions.height;switch(q){case"fit":return(i<=g&&f<=e&&s<=p&&o<=n);break;case"intersect":return(i<g+(u.helperProportions.width/2)&&f-(u.helperProportions.width/2)<e&&s<p+(u.helperProportions.height/2)&&o-(u.helperProportions.height/2)<n);break;case"pointer":var j=((u.positionAbs||u.position.absolute).left+(u.clickOffset||u.offset.click).left),k=((u.positionAbs||u.position.absolute).top+(u.clickOffset||u.offset.click).top),h=c.ui.isOver(k,j,s,i,m.proportions.height,m.proportions.width);return h;break;case"touch":return((p>=s&&p<=n)||(o>=s&&o<=n)||(p<s&&o>n))&&((g>=i&&g<=e)||(f>=i&&f<=e)||(g<i&&f>e));break;default:return false;break}};c.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(h,l){var e=c.ui.ddmanager.droppables[h.options.scope]||[];var k=l?l.type:null;var n=(h.currentItem||h.element).find(":data(droppable)").andSelf();droppablesLoop:for(var g=0;g<e.length;g++){if(e[g].options.disabled||(h&&!e[g].accept.call(e[g].element[0],(h.currentItem||h.element)))){continue}for(var f=0;f<n.length;f++){if(n[f]==e[g].element[0]){e[g].proportions.height=0;continue droppablesLoop}}e[g].visible=e[g].element.css("display")!="none";if(!e[g].visible){continue}if(k=="mousedown"){e[g]._activate.call(e[g],l)}e[g].offset=e[g].element.offset();e[g].proportions={width:e[g].element[0].offsetWidth,height:e[g].element[0].offsetHeight}}},drop:function(e,f){var g=false;c.each(c.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&c.ui.intersect(e,this,this.options.tolerance)){g=this._drop.call(this,f)||g}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(e.currentItem||e.element))){this.isout=1;this.isover=0;this._deactivate.call(this,f)}});return g},dragStart:function(e,f){e.element.parentsUntil("body").bind("scroll.droppable",function(){if(!e.options.refreshPositions){c.ui.ddmanager.prepareOffsets(e,f)}})},drag:function(e,f){if(e.options.refreshPositions){c.ui.ddmanager.prepareOffsets(e,f)}c.each(c.ui.ddmanager.droppables[e.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var i=c.ui.intersect(e,this,this.options.tolerance);var k=!i&&this.isover==1?"isout":(i&&this.isover==0?"isover":null);if(!k){return}var j;if(this.options.greedy){var h=this.options.scope;var g=this.element.parents(":data(droppable)").filter(function(){return c.data(this,"droppable").options.scope===h});if(g.length){j=c.data(g[0],"droppable");j.greedyChild=(k=="isover"?1:0)}}if(j&&k=="isover"){j.isover=0;j.isout=1;j._out.call(j,f)}this[k]=1;this[k=="isout"?"isover":"isout"]=0;this[k=="isover"?"_over":"_out"].call(this,f);if(j&&k=="isout"){j.isout=0;j.isover=1;j._over.call(j,f)}})},dragStop:function(e,f){e.element.parentsUntil("body").unbind("scroll.droppable");if(!e.options.refreshPositions){c.ui.ddmanager.prepareOffsets(e,f)}}}})(a)})(window.comtop.cQuery);